(function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,h=e.reduce,v=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,w=Object.keys,_=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&(module.exports&&(exports=module.exports=j)),exports._=
j):n._=j,j.VERSION="1.5.2";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length)for(var u=0,i=n.length;i>u;u++){if(t.call(e,n[u],u,n)===r)return}else for(var a=j.keys(n),u=0,i=a.length;i>u;u++)if(t.call(e,n[a[u]],a[u],n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e.push(t.call(r,n,u,i))}),e)};var E="Reduce of empty array with no initial value";j.reduce=j.foldl=j.inject=
function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduce===h)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(E);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduceRight===v)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,
n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(E);return r},j.find=j.detect=function(n,t,r){var e;return O(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&e.push(n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,
e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var O=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?n.indexOf(t)!=-1:O(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2),e=j.isFunction(t);return j.map(n,function(n){return(e?t:n[t]).apply(n,r)})},j.pluck=function(n,
t){return j.map(n,function(n){return n[t]})},j.where=function(n,t,r){return j.isEmpty(t)?r?void 0:[]:j[r?"find":"filter"](n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.findWhere=function(n,t){return j.where(n,t,!0)},j.max=function(n,t,r){if(!t&&(j.isArray(n)&&(n[0]===+n[0]&&n.length<65535)))return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>e.computed&&(e={value:n,computed:a})}),
e.value},j.min=function(n,t,r){if(!t&&(j.isArray(n)&&(n[0]===+n[0]&&n.length<65535)))return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e},j.sample=function(n,t,r){return arguments.length<2||r?n[j.random(n.length-1)]:j.shuffle(n).slice(0,Math.max(0,t))};var k=
function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=k(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={},i=null==r?j.identity:k(r);return A(t,function(r,a){var o=i.call(e,r,a,t);n(u,o,r)}),u}};j.groupBy=F(function(n,t,
r){(j.has(n,t)?n[t]:n[t]=[]).push(r)}),j.indexBy=F(function(n,t,r){n[t]=r}),j.countBy=F(function(n,t){j.has(n,t)?n[t]++:n[t]=1}),j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:k(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,
t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var M=function(n,t,r){return t&&j.every(n,j.isArray)?c.apply(r,n):(A(n,function(n){j.isArray(n)||j.isArguments(n)?t?a.apply(r,n):M(n,t,r):r.push(n)}),
r)};j.flatten=function(n,t){return M(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(j.flatten(arguments,!0))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,
n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=j.max(j.pluck(arguments,"length").concat(0)),t=new Array(n),r=0;n>r;r++)t[r]=j.pluck(arguments,""+r);return t},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if("number"!=typeof r)return e=j.sortedIndex(n,
t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var R=function(){};
j.bind=function(n,t){var r,e;if(_&&n.bind===_)return _.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));R.prototype=n.prototype;var u=new R;R.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.partial=function(n){var t=o.call(arguments,1);return function(){return n.apply(this,t.concat(o.call(arguments)))}},j.bindAll=function(n){var t=
o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t,
r){var e,u,i,a=null,o=0;r||(r={});var c=function(){o=r.leading===!1?0:new Date,a=null,i=n.apply(e,u)};return function(){var l=new Date;o||(r.leading!==!1||(o=l));var f=t-(l-o);return e=this,u=arguments,0>=f?(clearTimeout(a),a=null,o=l,i=n.apply(e,u)):a||(r.trailing===!1||(a=setTimeout(c,f))),i}},j.debounce=function(n,t,r){var e,u,i,a,o;return function(){i=this,u=arguments,a=new Date;var c=function(){var l=new Date-a;t>l?e=setTimeout(c,t-l):(e=null,r||(o=n.apply(i,u)))},l=r&&!e;return e||(e=setTimeout(c,
t)),l&&(o=n.apply(i,u)),o}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=w||function(n){if(n!==Object(n))throw new TypeError("Invalid object");
var t=[];for(var r in n)j.has(n,r)&&t.push(r);return t},j.values=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},j.pairs=function(n){for(var t=j.keys(n),r=t.length,e=new Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},j.invert=function(n){for(var t={},r=j.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,
1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]===void 0&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),
n};var S=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case "[object String]":return n==String(t);case "[object Number]":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case "[object Date]":case "[object Boolean]":return+n==+t;case "[object RegExp]":return n.source==t.source&&(n.global==t.global&&(n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase))}if("object"!=
typeof n||"object"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;var a=n.constructor,o=t.constructor;if(a!==o&&!(j.isFunction(a)&&(a instanceof a&&(j.isFunction(o)&&o instanceof o))))return!1;r.push(n),e.push(t);var c=0,f=!0;if("[object Array]"==u){if(c=n.length,f=c==t.length)for(;c--&&(f=S(n[c],t[c],r,e)););}else{for(var s in n)if(j.has(n,s)&&(c++,!(f=j.has(t,s)&&S(n[s],t[s],r,e))))break;if(f){for(s in t)if(j.has(t,s)&&!c--)break;f=!c}}return r.pop(),e.pop(),f};j.isEqual=function(n,
t){return S(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return"[object Array]"==l.call(n)},j.isObject=function(n){return n===Object(n)},A(["Arguments","Function","String","Number","Date","RegExp"],function(n){j["is"+n]=function(t){return l.call(t)=="[object "+n+"]"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||
!j.has(n,"callee"))}),"function"!=typeof/./&&(j.isFunction=function(n){return"function"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||(n===!1||"[object Boolean]"==l.call(n))},j.isNull=function(n){return null===n},j.isUndefined=function(n){return n===void 0},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=
function(n,t,r){for(var e=Array(Math.max(0,n)),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};I.unescape=j.invert(I.escape);var T={escape:new RegExp("["+j.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+j.keys(I.unescape).join("|")+")","g")};j.each(["escape","unescape"],function(n){j[n]=function(t){return null==t?"":(""+t).replace(T[n],
function(t){return I[n][t]})}}),j.result=function(n,t){if(null==n)return void 0;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=++N+"";return n?n+t:t},j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,B={"'":"'","\\":"\\","\r":"r",
"\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\t|\u2028|\u2029/g;j.template=function(n,t,r){var e;r=j.defaults({},r,j.templateSettings);var u=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join("|")+"|$","g"),i=0,a="__p+='";n.replace(u,function(t,r,e,u,o){return a+=n.slice(i,o).replace(D,function(n){return"\\"+B[n]}),r&&(a+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'"),e&&(a+="'+\n((__t=("+e+"))==null?'':__t)+\n'"),u&&(a+="';\n"+u+"\n__p+='"),
i=o+t.length,t}),a+="';\n",r.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{e=new Function(r.variable||"obj","_",a)}catch(o){throw o.source=a,o;}if(t)return e(t,j);var c=function(n){return e.call(this,n,j)};return c.source="function("+(r.variable||"obj")+"){\n"+a+"}",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A(["pop","push",
"reverse","shift","sort","splice","unshift"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!=n&&"splice"!=n||(0!==r.length||delete r[0]),z.call(this,r)}}),A(["concat","join","slice"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);(function(){var h=this,p=h.Backbone,e;e=typeof exports!=="undefined"?exports:h.Backbone={};e.VERSION="0.5.1";var f=h._;if(!f&&typeof require!=="undefined")f=require("underscore")._;var g=h.jQuery||h.Zepto;e.noConflict=function(){h.Backbone=p;return this};e.emulateHTTP=!1;e.emulateJSON=!1;e.Events={bind:function(a,b){var c=this._callbacks||(this._callbacks={});(c[a]||(c[a]=[])).push(b);return this},unbind:function(a,b){var c;if(a){if(c=this._callbacks)if(b){c=c[a];if(!c)return this;for(var d=0,e=c.length;d<
e;d++)if(b===c[d]){c[d]=null;break}}else c[a]=[]}else this._callbacks={};return this},trigger:function(a){var b,c,d,e,f=2;if(!(c=this._callbacks))return this;for(;f--;)if(b=f?a:"all",b=c[b])for(var g=0,h=b.length;g<h;g++)(d=b[g])?(e=f?Array.prototype.slice.call(arguments,1):arguments,d.apply(this,e)):(b.splice(g,1),g--,h--);return this}};e.Model=function(a,b){var c;a||(a={});if(c=this.defaults)f.isFunction(c)&&(c=c()),a=f.extend({},c,a);this.attributes={};this._escapedAttributes={};this.cid=f.uniqueId("c");
this.set(a,{silent:!0});this._changed=!1;this._previousAttributes=f.clone(this.attributes);if(b&&b.collection)this.collection=b.collection;this.initialize(a,b)};f.extend(e.Model.prototype,e.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return f.clone(this.attributes)},get:function(a){return this.attributes[a]},escape:function(a){var b;if(b=this._escapedAttributes[a])return b;b=this.attributes[a];return this._escapedAttributes[a]=(b==null?"":
""+b).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27").replace(/\//g,"&#x2F;")},has:function(a){return this.attributes[a]!=null},set:function(a,b){b||(b={});if(!a)return this;if(a.attributes)a=a.attributes;var c=this.attributes,d=this._escapedAttributes;if(!b.silent&&(this.validate&&!this._performValidation(a,b)))return!1;if(this.idAttribute in a)this.id=a[this.idAttribute];var e=this._changing;this._changing=!0;
for(var g in a){var h=a[g];if(!f.isEqual(c[g],h))c[g]=h,delete d[g],this._changed=!0,b.silent||this.trigger("change:"+g,this,h,b)}!e&&(!b.silent&&(this._changed&&this.change(b)));this._changing=!1;return this},unset:function(a,b){if(!(a in this.attributes))return this;b||(b={});var c={};c[a]=void 0;if(!b.silent&&(this.validate&&!this._performValidation(c,b)))return!1;delete this.attributes[a];delete this._escapedAttributes[a];a==this.idAttribute&&delete this.id;this._changed=!0;b.silent||(this.trigger("change:"+
a,this,void 0,b),this.change(b));return this},clear:function(a){a||(a={});var b,c=this.attributes,d={};for(b in c)d[b]=void 0;if(!a.silent&&(this.validate&&!this._performValidation(d,a)))return!1;this.attributes={};this._escapedAttributes={};this._changed=!0;if(!a.silent){for(b in c)this.trigger("change:"+b,this,void 0,a);this.change(a)}return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,e,f){if(!b.set(b.parse(d,f),a))return!1;c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||
e.sync).call(this,"read",this,a)},save:function(a,b){b||(b={});if(a&&!this.set(a,b))return!1;var c=this,d=b.success;b.success=function(a,e,f){if(!c.set(c.parse(a,f),b))return!1;d&&d(c,a,f)};b.error=i(b.error,c,b);var f=this.isNew()?"create":"update";return(this.sync||e.sync).call(this,f,this,b)},destroy:function(a){a||(a={});if(this.isNew())return this.trigger("destroy",this,this.collection,a);var b=this,c=a.success;a.success=function(d){b.trigger("destroy",b,b.collection,a);c&&c(b,d)};a.error=i(a.error,
b,a);return(this.sync||e.sync).call(this,"delete",this,a)},url:function(){var a=k(this.collection)||(this.urlRoot||l());if(this.isNew())return a;return a+(a.charAt(a.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(a){this.trigger("change",this,a);this._previousAttributes=f.clone(this.attributes);this._changed=!1},hasChanged:function(a){if(a)return this._previousAttributes[a]!=
this.attributes[a];return this._changed},changedAttributes:function(a){a||(a=this.attributes);var b=this._previousAttributes,c=!1,d;for(d in a)f.isEqual(b[d],a[d])||(c=c||{},c[d]=a[d]);return c},previous:function(a){if(!a||!this._previousAttributes)return null;return this._previousAttributes[a]},previousAttributes:function(){return f.clone(this._previousAttributes)},_performValidation:function(a,b){var c=this.validate(a);if(c)return b.error?b.error(this,c,b):this.trigger("error",this,c,b),!1;return!0}});
e.Collection=function(a,b){b||(b={});if(b.comparator)this.comparator=b.comparator;f.bindAll(this,"_onModelEvent","_removeReference");this._reset();a&&this.reset(a,{silent:!0});this.initialize.apply(this,arguments)};f.extend(e.Collection.prototype,e.Events,{model:e.Model,initialize:function(){},toJSON:function(){return this.map(function(a){return a.toJSON()})},add:function(a,b){if(f.isArray(a))for(var c=0,d=a.length;c<d;c++)this._add(a[c],b);else this._add(a,b);return this},remove:function(a,b){if(f.isArray(a))for(var c=
0,d=a.length;c<d;c++)this._remove(a[c],b);else this._remove(a,b);return this},get:function(a){if(a==null)return null;return this._byId[a.id!=null?a.id:a]},getByCid:function(a){return a&&this._byCid[a.cid||a]},at:function(a){return this.models[a]},sort:function(a){a||(a={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");this.models=this.sortBy(this.comparator);a.silent||this.trigger("reset",this,a);return this},pluck:function(a){return f.map(this.models,function(b){return b.get(a)})},
reset:function(a,b){a||(a=[]);b||(b={});this.each(this._removeReference);this._reset();this.add(a,{silent:!0});b.silent||this.trigger("reset",this,b);return this},fetch:function(a){a||(a={});var b=this,c=a.success;a.success=function(d,f,e){b[a.add?"add":"reset"](b.parse(d,e),a);c&&c(b,d)};a.error=i(a.error,b,a);return(this.sync||e.sync).call(this,"read",this,a)},create:function(a,b){var c=this;b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var d=b.success;b.success=function(a,e,f){c.add(a,b);
d&&d(a,e,f)};a.save(null,b);return a},parse:function(a){return a},chain:function(){return f(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(a,b){if(a instanceof e.Model){if(!a.collection)a.collection=this}else{var c=a;a=new this.model(c,{collection:this});a.validate&&(!a._performValidation(c,b)&&(a=!1))}return a},_add:function(a,b){b||(b={});a=this._prepareModel(a,b);if(!a)return!1;var c=this.getByCid(a)||this.get(a);if(c)throw Error(["Can't add the same model to a set twice",
c.id]);this._byId[a.id]=a;this._byCid[a.cid]=a;this.models.splice(b.at!=null?b.at:this.comparator?this.sortedIndex(a,this.comparator):this.length,0,a);a.bind("all",this._onModelEvent);this.length++;b.silent||a.trigger("add",a,this,b);return a},_remove:function(a,b){b||(b={});a=this.getByCid(a)||this.get(a);if(!a)return null;delete this._byId[a.id];delete this._byCid[a.cid];this.models.splice(this.indexOf(a),1);this.length--;b.silent||a.trigger("remove",a,this,b);this._removeReference(a);return a},
_removeReference:function(a){this==a.collection&&delete a.collection;a.unbind("all",this._onModelEvent)},_onModelEvent:function(a,b,c,d){(a=="add"||a=="remove")&&c!=this||(a=="destroy"&&this._remove(b,d),b&&(a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});f.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max",
"min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"],function(a){e.Collection.prototype[a]=function(){return f[a].apply(f,[this.models].concat(f.toArray(arguments)))}});e.Router=function(a){a||(a={});if(a.routes)this.routes=a.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var q=/:([\w\d]+)/g,r=/\*([\w\d]+)/g,s=/[-[\]{}()+?.,\\^$|#\s]/g;f.extend(e.Router.prototype,e.Events,{initialize:function(){},route:function(a,b,c){e.history||
(e.history=new e.History);f.isRegExp(a)||(a=this._routeToRegExp(a));e.history.route(a,f.bind(function(d){d=this._extractParameters(a,d);c.apply(this,d);this.trigger.apply(this,["route:"+b].concat(d))},this))},navigate:function(a,b){e.history.navigate(a,b)},_bindRoutes:function(){if(this.routes){var a=[],b;for(b in this.routes)a.unshift([b,this.routes[b]]);b=0;for(var c=a.length;b<c;b++)this.route(a[b][0],a[b][1],this[a[b][1]])}},_routeToRegExp:function(a){a=a.replace(s,"\\$&").replace(q,"([^/]*)").replace(r,
"(.*?)");return RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});e.History=function(){this.handlers=[];f.bindAll(this,"checkUrl")};var j=/^#*/,t=/msie [\w.]+/,m=!1;f.extend(e.History.prototype,{interval:50,getFragment:function(a,b){if(a==null)if(this._hasPushState||b){a=window.location.pathname;var c=window.location.search;c&&(a+=c);a.indexOf(this.options.root)==0&&(a=a.substr(this.options.root.length))}else a=window.location.hash;return a.replace(j,"")},start:function(a){if(m)throw Error("Backbone.history has already been started");
this.options=f.extend({},{root:"/"},this.options,a);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||(!window.history||!window.history.pushState));a=this.getFragment();var b=document.documentMode;if(b=t.exec(navigator.userAgent.toLowerCase())&&(!b||b<=7))this.iframe=g('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(a);this._hasPushState?g(window).bind("popstate",this.checkUrl):"onhashchange"in window&&
!b?g(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=a;m=!0;a=window.location;b=a.pathname==this.options.root;if(this._wantsPushState&&(!this._hasPushState&&!b))this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment);else if(this._wantsPushState&&(this._hasPushState&&(b&&a.hash)))this.fragment=a.hash.replace(j,""),window.history.replaceState({},document.title,a.protocol+"//"+a.host+this.options.root+this.fragment);
return this.loadUrl()},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();a==this.fragment&&(this.iframe&&(a=this.getFragment(this.iframe.location.hash)));if(a==this.fragment||a==decodeURIComponent(this.fragment))return!1;this.iframe&&this.navigate(a);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(a){var b=this.fragment=this.getFragment(a);return f.any(this.handlers,function(a){if(a.route.test(b))return a.callback(b),
!0})},navigate:function(a,b){var c=(a||"").replace(j,"");if(!(this.fragment==c||this.fragment==decodeURIComponent(c))){if(this._hasPushState){var d=window.location;c.indexOf(this.options.root)!=0&&(c=this.options.root+c);this.fragment=c;window.history.pushState({},document.title,d.protocol+"//"+d.host+c)}else if(window.location.hash=this.fragment=c,this.iframe&&c!=this.getFragment(this.iframe.location.hash))this.iframe.document.open().close(),this.iframe.location.hash=c;b&&this.loadUrl(a)}}});e.View=
function(a){this.cid=f.uniqueId("view");this._configure(a||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var u=/^(\S+)\s*(.*)$/,n=["model","collection","el","id","attributes","className","tagName"];f.extend(e.View.prototype,e.Events,{tagName:"div",$:function(a){return g(a,this.el)},initialize:function(){},render:function(){return this},remove:function(){g(this.el).remove();return this},make:function(a,b,c){a=document.createElement(a);b&&g(a).attr(b);c&&g(a).html(c);
return a},delegateEvents:function(a){if(a||(a=this.events))for(var b in g(this.el).unbind(".delegateEvents"+this.cid),a){var c=this[a[b]];if(!c)throw Error('Event "'+a[b]+'" does not exist');var d=b.match(u),e=d[1];d=d[2];c=f.bind(c,this);e+=".delegateEvents"+this.cid;d===""?g(this.el).bind(e,c):g(this.el).delegate(d,e,c)}},_configure:function(a){this.options&&(a=f.extend({},this.options,a));for(var b=0,c=n.length;b<c;b++){var d=n[b];a[d]&&(this[d]=a[d])}this.options=a},_ensureElement:function(){if(this.el){if(f.isString(this.el))this.el=
g(this.el).get(0)}else{var a=this.attributes||{};if(this.id)a.id=this.id;if(this.className)a["class"]=this.className;this.el=this.make(this.tagName,a)}}});e.Model.extend=e.Collection.extend=e.Router.extend=e.View.extend=function(a,b){var c=v(this,a,b);c.extend=this.extend;return c};var w={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};e.sync=function(a,b,c){var d=w[a];c=f.extend({type:d,dataType:"json",processData:!1},c);if(!c.url)c.url=k(b)||l();if(!c.data&&(b&&(a=="create"||a=="update")))c.contentType=
"application/json",c.data=JSON.stringify(b.toJSON());if(e.emulateJSON)c.contentType="application/x-www-form-urlencoded",c.processData=!0,c.data=c.data?{model:c.data}:{};if(e.emulateHTTP&&(d==="PUT"||d==="DELETE")){if(e.emulateJSON)c.data._method=d;c.type="POST";c.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",d)}}return g.ajax(c)};var o=function(){},v=function(a,b,c){var d;d=b&&b.hasOwnProperty("constructor")?b.constructor:function(){return a.apply(this,arguments)};f.extend(d,
a);o.prototype=a.prototype;d.prototype=new o;b&&f.extend(d.prototype,b);c&&f.extend(d,c);d.prototype.constructor=d;d.__super__=a.prototype;return d},k=function(a){if(!a||!a.url)return null;return f.isFunction(a.url)?a.url():a.url},l=function(){throw Error('A "url" property or function must be specified');},i=function(a,b,c){return function(d){a?a(b,d,c):b.trigger("error",b,d,c)}}}).call(this);var fakeworker=function(global){function extend(dest,src){for(var i in src)dest[i]=src[i]}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent)};function httpSuccess(xhr){try{return!xhr.status&&location.protocol=="file:"||(xhr.status>=200&&
xhr.status<300||(xhr.status==304||(xhr.status==1223||browser.safari&&xhr.status==undefined)))}catch(e){}return false}function __syncXhrGet(url,fn){var xhr=window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;xhr.open("GET",url,false);xhr.send("");if(httpSuccess(xhr))fn(xhr);else throw new Error("Could not load resource("+url+") result="+xhr.status+":"+xhr.statusText);}function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},
i=14;while(i--)uri[o.key[i]]=m[i]||"";uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1)uri[o.q.name][$1]=$2});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function absolutePath(path){var e=document.createElement("span");e.innerHTML='<a href="'+path+'" />';return e.firstChild.href}function FakeMessageEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}
FakeMessageEvent.prototype={initMessageEvent:function(type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.initMessageEventNS("",type,canBubble,cancelable,data,origin,lastEventId,source,ports)},initMessageEventNS:function(namespaceURI,type,canBubble,cancelable,data,origin,lastEventId,source,ports){this.namespaceURI=namespaceURI;this.type=type;this.canBubble=canBubble;this.cancelable=cancelable;this.data=data;this.origin=origin;this.lastEventId=lastEventId;this.source=source;this.ports=
ports}};function FakeErrorEvent(worker){extend(this,Event);Event.constructor.call(this);this.currentTarget=worker;this.srcElement=worker;this.target=worker;this.timestamp=(new Date).getTime()}FakeErrorEvent.prototype={initErrorEvent:function(type,canBubble,cancelable,message,filename,lineno){this.initErrorEventNS("",type,canBubble,cancelable,message,filename,lineno)},initErrorEventNS:function(namespaceURI,type,canBubble,cancelable,message,filename,lineno){this.namespaceURI=namespaceURI;this.type=
type;this.canBubble=canBubble;this.cancelable=cancelable;this.message=message;this.filename=filename;this.lineno=lineno}};var nativeWorker=global["Worker"];var FakeWorker=function(url){var self=this;this._listenerNamespaces={};this._eventQueues={};__syncXhrGet(url,function(xhr){try{self._workerContext=new FakeWorkerContext(url,xhr.responseText,self)}catch(e){throw e;}})};FakeWorker.prototype={isFake:true,addEventListener:function(type,listener,useCapture){this.addEventListenerNS("",type,listener,
useCapture)},addEventListenerNS:function(namespaceURI,type,listener,useCapture){var namespace=this._listenerNamespaces[namespaceURI];if(!namespace)this._listenerNamespaces[namespaceURI]=namespace={};var listeners=namespace[type];if(!listeners)namespace[type]=listeners=[];listeners.push(listener)},removeEventListener:function(type,listener,useCapture){this.removeEventListener("",type,listener,useCapture)},removeEventListenerNS:function(namespaceURI,eventName,fn,useCapture){var namespace=this._listenerNamespaces[namespaceURI];
if(namespace){var listeners=namespace[type];if(listeners)for(var i=0;i<listeners.length;i++)if(listeners[i]===listener)delete listeners[i]}},dispatchEvent:function(event){if(typeof this["on"+event.type]=="function")this["on"+event.type].call(this,event);var namespace=this._listenerNamespaces[event.namespaceURI];if(namespace){var listeners=namespace[event.type];if(listeners)for(var i=0;i<listeners.length;i++)listeners[i].call(this,event)}return true},postMessage:function(msg){var self=this;var workerContext=
this._workerContext;if(typeof workerContext.onmessage=="function"){var event=new FakeMessageEvent(self);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){try{workerContext.onmessage.call(workerContext,event)}catch(e){var errorEvent=new FakeErrorEvent(self);var lineno=e.line||e.lineNumber;errorEvent.initErrorEvent("error",false,false,e.message,workerContext.location.filename,lineno);self.dispatchEvent(errorEvent);throw e;}},0)}},terminate:function(){this._workerContext.close()}};
function FakeWorkerLocation(url){var absolute=absolutePath(url);var parsed=parseUri(absolute);this.href=absolute;this.protocol=parsed.protocol+":";this.host=parsed.port?parsed.host+":"+parsed.port:parsed.host;this.hostname=parsed.host;this.port=parsed.port;this.pathname=parsed.path;this.search=parsed.query?"?"+parsed.query:"";this.hash=parsed.anchor?"#"+parsed.anchor:"";this.filename=parsed.file}FakeWorkerLocation.prototype={toString:function(){return this.href}};function FakeWorkerContext(url,source,
worker){var postMessage=this.postMessage=function(msg){var event=new FakeMessageEvent(worker);event.initMessageEvent("message",false,false,msg,"","",null,null);setTimeout(function(){worker.dispatchEvent(event)},0)};var setTimeout=this.setTimeout=global.setTimeout;var clearTimeout=this.clearTimeout=global.clearTimeout;var setInterval=this.setInterval=global.setInterval;var clearInterval=this.clearInterval=global.clearInterval;var XMLHttpRequest=this.XMLHttpRequest=global.XMLHttpRequest;var openDatabase=
this.openDatabase=global.openDatabase;var openDatabaseSync=this.openDatabaseSync=global.openDatabaseSync;var WebSocket=this.WebSocket=global.WebSocket;var EventSource=this.EventSource=global.EventSource;var MessageChannel=this.MessageChannel=global.MessageChannel;var Worker=this.Worker=FakeWorker;var location=this.location=new FakeWorkerLocation(url);var close=this.close=function(){this.closing=true};var navigator=this.navigator=global.navigator;var self=this.self=this;var importScripts=this.importScripts=
function(){for(var i=0;i<arguments.length;i++)__syncXhrGet(arguments[i],function(xhr){eval(xhr.responseText)})};eval(source);try{if(typeof onmessage=="function")this.onmessage=onmessage}catch(e){}}var ret={nativeWorker:nativeWorker,install:function(){global["Worker"]=FakeWorker},uninstall:function(){global["Worker"]=nativeWorker}};if(typeof Worker==="undefined"||browser.opera)ret.install();return ret}(this);(function(exports){exports.utils=exports.utils||{};exports.console=exports.console||{log:function(){},warn:function(){},error:function(){},assert:function(){}};console.assert=function(condition,message){if(!condition)if(exports._trnDebugMode)throw new Error("Assertion failed: "+message);else console.warn("Assertion failed: "+message)};exports.$log=exports.$out=function(){Array.prototype.forEach.call(arguments,function(e){console.log(e)})};var ie=function(){var ua=navigator.userAgent.toLowerCase();
var match=/(msie) ([\w.]+)/.exec(ua)||/(trident)(?:.*? rv:([\w.]+)|)/.exec(ua);return match?parseInt(match[2],10):match}();exports.utils.ie=ie;var ieWebView=function(){return exports.utils.ie&&exports.navigator.userAgent.toLowerCase().indexOf("webview")>-1}();exports.utils.ieWebView=ieWebView;var ieWebViewLocal=function(){return exports.utils.ieWebView&&window.location.href.indexOf("ms-appx-web://")===0}();exports.utils.ieWebViewLocal=ieWebViewLocal;exports.utils.ieFullscreenBug=exports.utils.ie===
11;exports.utils.fullscreenIE=function(){if(exports.utils.ieFullscreenBug&&window!==window.top)return!!(document.fullscreenElement||document.msFullscreenElement);return false};if(exports.utils.ieFullscreenBug){var originalGetBoundingClientRect=HTMLElement.prototype.getBoundingClientRect;HTMLElement.prototype.getBoundingClientRect=function(){var result=originalGetBoundingClientRect.call(this);if(exports.utils.fullscreenIE())result={width:result.width*100,height:result.height*100,left:result.left*100,
right:result.right*100,top:result.top*100,bottom:result.bottom*100};return result}}exports.utils.mouseUpEventBug=navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?true:false;var chromeVersion=function(){var match=window.navigator.userAgent.match(/Chrome\/(.*?) /);return match?parseInt(match[1],10):match}();var multiplierOverride;var getCanvasMultiplier=function(){var ua=exports.navigator.userAgent.toLowerCase();var isWindowsChromeWithIssue=ua.indexOf("chrome")>-1&&(ua.indexOf("windows")>-1&&chromeVersion<
37);var oversampleLimit=1024*1024;return function(width,height,zoom){if(!_.isUndefined(multiplierOverride))return multiplierOverride;var oversampleForChrome=isWindowsChromeWithIssue&&(width*height<oversampleLimit&&zoom<=1.5);return oversampleForChrome?2:window.devicePixelRatio||1}}();exports.utils.getCanvasMultiplier=getCanvasMultiplier;exports.utils.setCanvasMultiplier=function(value){multiplierOverride=value};exports.utils.unsetCanvasMultiplier=function(){multiplierOverride=undefined};var canvasClipBug=
function(){function basicClipIssue(){var canvas=document.createElement("canvas");canvas.style.width="1px";canvas.style.height="1px";var ctx=canvas.getContext("2d");ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,1,1);ctx.beginPath();ctx.rect(0,0,1,1);ctx.clip();ctx.fillStyle="#000000";ctx.fillRect(0,0,1,1);var val=ctx.getImageData(0,0,1,1).data[0];return val===255}function nonIntegerValueIssue(){var canvas=document.createElement("canvas");canvas.style.width="5px";canvas.style.height="5px";var ctx=canvas.getContext("2d");
ctx.rect(0,0,4.5,4.5);ctx.clip();ctx.fillStyle="#FFFFFF";ctx.fillRect(0,0,5,5);ctx.clearRect(0,0,5,5);var val=ctx.getImageData(1,1,1,1).data[3];return val!==0}return basicClipIssue()||nonIntegerValueIssue()}();exports.utils.canvasClipBug=canvasClipBug;var typedArrayApply=function(){if(exports.Uint8Array)try{var testArray=new exports.Uint8Array(new ArrayBuffer(1));String.fromCharCode.apply(null,testArray);return true}catch(e){return false}else return false}();exports.utils.typedArrayApply=typedArrayApply;
if(!Document.prototype.createAttributeNS)Document.prototype.createAttributeNS=function(namespaceURI,qualifiedName){var dummy=this.createElement("dummy");dummy.setAttributeNS(namespaceURI,qualifiedName,"");var attr=dummy.attributes[0];dummy.removeAttributeNode(attr);return attr};if(!Element.prototype.setAttributeNodeNS)Element.prototype.setAttributeNodeNS=Element.prototype.setAttributeNode;exports.utils.xmlSerializerNamespaceSupported=function(){var body=document.createElementNS("http://www.w3.org/1999/xhtml",
"body");var attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");attr.nodeValue="2.0.2";body.setAttributeNodeNS(attr);attr=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");attr.nodeValue="Acrobat:10.1.3";body.setAttributeNodeNS(attr);var serializer=new XMLSerializer;var annotstr=serializer.serializeToString(body);function passTest(actual){return actual.indexOf(' xmlns="http://www.w3.org/1999/xhtml"')>0&&(actual.indexOf(' xfa:spec="2.0.2"')>
0&&(actual.indexOf(' xmlns:xfa="http://www.xfa.org/schema/xfa-data/1.0/"')>0&&actual.indexOf(' xfa:APIVersion="Acrobat:10.1.3"')>0))}var result=passTest(annotstr);var $body=$("<body>").attr({"xmlns":"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});annotstr=serializer.serializeToString($body[0]);exports.utils.xmlSerializerJQueryNamespaceSupported=passTest(annotstr);return result}();window.matchMedia||(window.matchMedia=
function(){var styleMedia=window.styleMedia||window.media;if(!styleMedia){var style=document.createElement("style"),script=document.getElementsByTagName("script")[0],info=null;style.type="text/css";style.id="matchmediajs-test";script.parentNode.insertBefore(style,script);info="getComputedStyle"in window&&window.getComputedStyle(style,null)||style.currentStyle;styleMedia={matchMedium:function(media){var text="@media "+media+"{ #matchmediajs-test { width: 1px; } }";if(style.styleSheet)style.styleSheet.cssText=
text;else style.textContent=text;return info.width==="1px"}}}return function(media){return{matches:styleMedia.matchMedium(media||"all"),media:media||"all"}}}());(function(){if(window.matchMedia&&window.matchMedia("all").addListener)return false;var localMatchMedia=window.matchMedia,hasMediaQueries=localMatchMedia("only all").matches,isListening=false,timeoutID=0,queries=[],handleChange=function(){clearTimeout(timeoutID);timeoutID=setTimeout(function(){for(var i=0,il=queries.length;i<il;i++){var mql=
queries[i].mql,listeners=queries[i].listeners||[],matches=localMatchMedia(mql.media).matches;if(matches!==mql.matches){mql.matches=matches;for(var j=0,jl=listeners.length;j<jl;j++)listeners[j].call(window,mql)}}},30)};window.matchMedia=function(media){var mql=localMatchMedia(media),listeners=[],index=0;mql.addListener=function(listener){if(!hasMediaQueries)return;if(!isListening){isListening=true;window.addEventListener("resize",handleChange,true)}if(index===0)index=queries.push({mql:mql,listeners:listeners});
listeners.push(listener)};mql.removeListener=function(listener){for(var i=0,il=listeners.length;i<il;i++)if(listeners[i]===listener)listeners.splice(i,1)};return mql}})();exports.utils.specialBlendSupportedTest=function(){var canvas=document.createElement("canvas");canvas.width=1;canvas.height=1;var ctx=canvas.getContext("2d");ctx.fillStyle="#000";ctx.fillRect(0,0,1,1);ctx.globalCompositeOperation="multiply";ctx.fillStyle="#fff";ctx.fillRect(0,0,1,1);var result=ctx.getImageData(0,0,1,1).data[0]===
0;exports.utils.specialBlendSupported=result;return result}();exports.utils.eventHandler={on:function(event,handler){this.applyWithArgs($(this).on,arguments);return this},off:function(event,handler){this.applyWithArgs($(this).off,arguments);return this},trigger:function(event,params){this.applyWithArgs($(this).triggerHandler,arguments);return this},applyWithArgs:function(func,args){func.apply($(this),Array.prototype.slice.call(args))}};exports.utils.isEditableElement=function(ele){return ele.is("input:text")||
ele.is("textarea")};var debug=exports._trnDebugMode;var warn=function(msg){if(debug)console.warn(msg)};var log=function(msg){if(debug)console.log(msg)};var error=function(msg){if(debug)console.error(msg);throw new Error(msg);};exports.utils.warn=warn;exports.utils.log=log;exports.utils.error=error;if(!exports.server)exports.server={log:function(){},error:function(){},capture:function(){}};var arrprint=function(array,msg){var str="[";for(var i=0;i<array.length;i++){str+=array[i];if(i>=array.length-
1)break;str+=", "}str+="]";if(!_.isUndefined(msg))str+=" "+msg;console.log(str)};exports.utils.arrprint=arrprint;var logvar=function(varname,variable){if(_.isArray(varname)&&(_.isArray(variable)&&varname.length===variable.length)){var varlist="";for(var i=0;i<varname.length;i++)varlist=varlist+varname[i]+": "+variable[i]+" ";console.log(varlist)}else console.log(varname+": "+variable)};exports.utils.logvar=logvar;var fCmp=function(f1,f2){var eps=1E-6;return Math.abs(f1-f2)<eps};exports.utils.fCmp=
fCmp;var documentReady=function(callback){if(document.readyState==="complete")callback();else if(document.addEventListener)exports.addEventListener("load",function(){callback()},false);else if(document.attachEvent)exports.attachEvent("onload",function(){callback()})};exports.utils.documentReady=documentReady;exports.runEval=function(str,c,t){c.clo=undefined;t.clo=undefined;eval(str);str=null};if(typeof Object.defineProperties==="undefined"){Object.defineProperty=function(prototype,name,property){if(property.get)prototype.__defineGetter__(name,
property.get);if(property.set)prototype.__defineSetter__(name,property.set)};Object.defineProperties=function(prototype,properties){for(var name in properties)if(properties.hasOwnProperty(name)){var property=properties[name];Object.defineProperty(prototype,name,property)}}}var canvasProto=CanvasRenderingContext2D.prototype;Object.defineProperties(canvasProto,{w:{set:function(val){this.lineWidth=val}},c:{set:function(val){this.lineCap=val}},s:{set:function(val){this.strokeStyle=val}},f:{set:function(val){this.fillStyle=
val}},a:{set:function(val){this.globalAlpha=val}},n:{set:function(val){this.font=val}},i:{set:function(val){this.miterLimit=val}},j:{set:function(val){this.lineJoin=val}},g:{set:function(val){this.globalCompositeOperation=val}}});_(canvasProto).extend({S:function(){if(typeof this.saves==="undefined")this.saves=0;this.saves++;this.save()},r:function(){this.saves--;this.restore()},t:canvasProto.transform,T:canvasProto.translate,L:canvasProto.createLinearGradient,R:canvasProto.createRadialGradient,P:canvasProto.createPattern,
b:canvasProto.beginPath,z:canvasProto.closePath,F:canvasProto.fill,X:canvasProto.stroke,C:canvasProto.clip,M:canvasProto.moveTo,m:canvasProto.measureText,l:canvasProto.lineTo,q:canvasProto.quadraticCurveTo,B:canvasProto.bezierCurveTo,x:canvasProto.fillText,fillTextCustom:function(text,x,y){},xc:function(text,x,y){},cgb:function(){},cge:function(){},xw:function(text,x,y,skip_last){this.fillText(text,x,y)},xcw:function(text,x,y,skip_last){},I:function(img){if(typeof img!=="undefined")this.drawImage.apply(this,
arguments)},Z:canvasProto.setTransform,d:canvasProto.getImageData,D:canvasProto.putImageData,e:canvasProto.scale});Object.defineProperty(TextMetrics.prototype,"W",{get:function(){return this.width}});var CanvasGradientPrototype;if(typeof exports.CanvasGradient==="undefined")CanvasGradientPrototype=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,0,0).__proto__;else CanvasGradientPrototype=CanvasGradient.prototype;_(CanvasGradientPrototype).extend({A:CanvasGradientPrototype.addColorStop});
exports.utils.isRectIntersecting=function(rect1,rect2){if(rect1.x1<=rect2.x2&&(rect1.x2>=rect2.x1&&(rect1.y1<=rect2.y2&&rect1.y2>=rect2.y1)))return true;return false};exports.utils.getRectIntersection=function(rect1,rect2){var rect={x1:0,y1:0,x2:0,y2:0};if(exports.utils.isRectIntersecting(rect1,rect2)===true){rect.x1=Math.max(rect1.x1,rect2.x1);rect.y1=Math.max(rect1.y1,rect2.y1);rect.x2=Math.min(rect1.x2,rect2.x2);rect.y2=Math.min(rect1.y2,rect2.y2)}return rect};exports.utils.normalizeRect=function(pt1,
pt2){var x1=pt1.x;var x2=pt2.x;var y1=pt1.y;var y2=pt2.y;if(pt1.x>pt2.x){x2=pt1.x;x1=pt2.x}if(pt1.y>pt2.y){y2=pt1.y;y1=pt2.y}return{x1:x1,y1:y1,x2:x2,y2:y2}};exports.json2xml=function(o,tab){var toXml=function(v,name,ind){var xml="";if(v instanceof Array)for(var i=0,n=v.length;i<n;i++)xml+=ind+toXml(v[i],name,ind+"\t")+"\n";else if(typeof v=="object"){var hasChild=false;xml+=ind+"<"+name;for(var m in v)if(m.charAt(0)=="@")xml+=" "+m.substr(1)+'="'+v[m].toString()+'"';else hasChild=true;xml+=hasChild?
">":"/>";if(hasChild){for(var m in v)if(m=="#text")xml+=v[m];else if(m=="#cdata")xml+="<![CDATA["+v[m]+"]]\x3e";else if(m.charAt(0)!="@")xml+=toXml(v[m],m,ind+"\t");xml+=(xml.charAt(xml.length-1)=="\n"?ind:"")+"</"+name+">"}}else xml+=ind+"<"+name+">"+v.toString()+"</"+name+">";return xml},xml="";for(var m in o)xml+=toXml(o[m],m,"");return tab?xml.replace(/\t/g,tab):xml.replace(/\t|\n/g,"")};exports.xml2json=function(xml,tab){var X={toObj:function(xml){var o={};if(xml.nodeType==1){if(xml.attributes.length)for(var i=
0;i<xml.attributes.length;i++)o["@"+xml.attributes[i].nodeName]=(xml.attributes[i].nodeValue||"").toString();if(xml.firstChild){var textChild=0,cdataChild=0,hasElementChild=false;for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==1)hasElementChild=true;else if(n.nodeType==3&&n.nodeValue.match(/[^ \f\n\r\t\v]/))textChild++;else if(n.nodeType==4)cdataChild++;if(hasElementChild)if(textChild<2&&cdataChild<2){X.removeWhite(xml);for(var n=xml.firstChild;n;n=n.nextSibling)if(n.nodeType==3)o["#text"]=
X.escape(n.nodeValue);else if(n.nodeType==4)o["#cdata"]=X.escape(n.nodeValue);else if(o[n.nodeName])if(o[n.nodeName]instanceof Array)o[n.nodeName][o[n.nodeName].length]=X.toObj(n);else o[n.nodeName]=[o[n.nodeName],X.toObj(n)];else o[n.nodeName]=X.toObj(n)}else if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(textChild)if(!xml.attributes.length)o=X.escape(X.innerXml(xml));else o["#text"]=X.escape(X.innerXml(xml));else if(cdataChild)if(cdataChild>
1)o=X.escape(X.innerXml(xml));else for(var n=xml.firstChild;n;n=n.nextSibling)o["#cdata"]=X.escape(n.nodeValue)}if(!xml.attributes.length&&!xml.firstChild)o=null}else if(xml.nodeType==9)o=X.toObj(xml.documentElement);else alert("unhandled node type: "+xml.nodeType);return o},toJson:function(o,name,ind){var json=name?'"'+name+'"':"";if(o instanceof Array){for(var i=0,n=o.length;i<n;i++)o[i]=X.toJson(o[i],"",ind+"\t");json+=(name?":[":"[")+(o.length>1?"\n"+ind+"\t"+o.join(",\n"+ind+"\t")+"\n"+ind:o.join(""))+
"]"}else if(o==null)json+=(name&&":")+"null";else if(typeof o=="object"){var arr=[];for(var m in o)arr[arr.length]=X.toJson(o[m],m,ind+"\t");json+=(name?":{":"{")+(arr.length>1?"\n"+ind+"\t"+arr.join(",\n"+ind+"\t")+"\n"+ind:arr.join(""))+"}"}else if(typeof o=="string")json+=(name&&":")+'"'+o.toString()+'"';else json+=(name&&":")+o.toString();return json},innerXml:function(node){var s="";if("innerHTML"in node)s=node.innerHTML;else{var asXml=function(n){var s="";if(n.nodeType==1){s+="<"+n.nodeName;
for(var i=0;i<n.attributes.length;i++)s+=" "+n.attributes[i].nodeName+'="'+(n.attributes[i].nodeValue||"").toString()+'"';if(n.firstChild){s+=">";for(var c=n.firstChild;c;c=c.nextSibling)s+=asXml(c);s+="</"+n.nodeName+">"}else s+="/>"}else if(n.nodeType==3)s+=n.nodeValue;else if(n.nodeType==4)s+="<![CDATA["+n.nodeValue+"]]\x3e";return s};for(var c=node.firstChild;c;c=c.nextSibling)s+=asXml(c)}return s},escape:function(txt){return txt.replace(/[\\]/g,"\\\\").replace(/[\"]/g,'\\"').replace(/[\n]/g,
"\\n").replace(/[\r]/g,"\\r")},removeWhite:function(e){e.normalize();for(var n=e.firstChild;n;)if(n.nodeType==3)if(!n.nodeValue.match(/[^ \f\n\r\t\v]/)){var nxt=n.nextSibling;e.removeChild(n);n=nxt}else n=n.nextSibling;else if(n.nodeType==1){X.removeWhite(n);n=n.nextSibling}else n=n.nextSibling;return e}};if(xml.nodeType==9)xml=xml.documentElement;var json=X.toJson(X.toObj(X.removeWhite(xml)),xml.nodeName,"\t");return"{\n"+tab+(tab?json.replace(/\t/g,tab):json.replace(/\t|\n/g,""))+"\n}"}})(window);function XMLWriter(a,b){if(a)this.encoding=a;if(b)this.version=b}
(function(){XMLWriter.prototype={encoding:"ISO-8859-1",version:"1.0",formatting:"indented",indentChar:"\t",indentation:1,newLine:"\n",writeStartDocument:function(a){this.close();this.stack=[];this.standalone=a},writeEndDocument:function(){this.active=this.root;this.stack=[]},writeDocType:function(a){this.doctype=a},writeStartElement:function(c,d){if(d)c=d+":"+c;var a=this,b=a.active,e={n:c,a:{},c:[]};if(b){b.c.push(e);this.stack.push(b)}else a.root=e;a.active=e},writeEndElement:function(){this.active=
this.stack.pop()||this.root},writeAttributeString:function(a,b){if(this.active)this.active.a[a]=b},writeString:function(a){if(this.active)this.active.c.push(a)},writeElementString:function(a,b,c){this.writeStartElement(a,c);this.writeString(b);this.writeEndElement()},writeCDATA:function(a){this.writeString("<![CDATA["+a+"]]\x3e")},writeComment:function(a){this.writeString("\x3c!-- "+a+" --\x3e")},flush:function(){var a=this,b="",c="",d=a.indentation,e=a.formatting.toLowerCase()=="indented",f='<?xml version="'+
a.version+'" encoding="'+a.encoding+'"';if(a.stack&&a.stack[0])a.writeEndDocument();if(a.standalone!==undefined)f+=' standalone="'+!!a.standalone+'"';f+=" ?>";f=[f];if(a.doctype&&a.root)f.push("<!DOCTYPE "+a.root.n+" "+a.doctype+">");if(e)while(d--)b+=a.indentChar;if(a.root)k(a.root,c,b,f);return f.join(e?a.newLine:"")},close:function(){var a=this;if(a.root)j(a.root);a.active=a.root=a.stack=null},getDocument:window.ActiveXObject?function(){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;a.loadXML(this.flush());
return a}:function(){return(new DOMParser).parseFromString(this.flush(),"text/xml")}};function j(a){var l=a.c.length;while(l--)if(typeof a.c[l]=="object")j(a.c[l]);a.n=a.a=a.c=null}function k(a,b,c,d){var e=b+"<"+a.n,f=a.c.length,g,h,i=0;for(g in a.a)e+=" "+g+'="'+a.a[g]+'"';e+=f?">":" />";d.push(e);if(f){do{h=a.c[i++];if(typeof h=="string")if(f==1)return d.push(d.pop()+h+"</"+a.n+">");else d.push(b+c+h);else if(typeof h=="object")k(h,b+c,c,d)}while(i<f);d.push(b+"</"+a.n+">")}}})();function X2JS(){var VERSION="1.0.5";var DOMNodeTypes={ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_NODE:9};function getNodeLocalName(node){var nodeLocalName=node.localName;if(nodeLocalName==null)nodeLocalName=node.baseName;if(nodeLocalName==null||nodeLocalName=="")nodeLocalName=node.nodeName;return nodeLocalName}function getNodePrefix(node){return node.prefix}function parseDOMChildren(node){if(node.nodeType==DOMNodeTypes.DOCUMENT_NODE){var result=new Object;var child=node.getElementsByTagName("xfdf")[0];var childName=
"xfdf";result[childName]=parseDOMChildren(child);return result}else if(node.nodeType==DOMNodeTypes.ELEMENT_NODE){var result=new Object;result.__cnt=0;var nodeChildren=node.childNodes;for(var cidx=0;cidx<nodeChildren.length;cidx++){var child=nodeChildren.item(cidx);var childName=getNodeLocalName(child);result.__cnt++;var childJsonObj=parseDOMChildren(child);if(result[childName]==null)result[childName]=childJsonObj;else{if(result[childName]!=null)if(!(result[childName]instanceof Array)){var tmpObj=
result[childName];result[childName]=new Array;result[childName][0]=tmpObj}var aridx=0;while(result[childName][aridx]!=null)aridx++;result[childName][aridx]=childJsonObj}if(result["__children"]==null)result["__children"]=new Array;result["__children"].push({"key":childName,"value":childJsonObj})}for(var aidx=0;aidx<node.attributes.length;aidx++){var attr=node.attributes.item(aidx);result.__cnt++;result["_"+attr.name]=attr.value}var nodePrefix=getNodePrefix(node);if(nodePrefix!=null&&nodePrefix!=""){result.__cnt++;
result.__prefix=nodePrefix}if(result.__cnt==1&&result["#text"]!=null)result=result["#text"];if(result["#text"]!=null){result.__text=result["#text"];result["#text"]=null;result.toString=function(){return this.__text}}return result}else if(node.nodeType==DOMNodeTypes.TEXT_NODE)return node.nodeValue}function startTag(jsonObj,element,attrList,closed){var resultStr="<"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+element;if(attrList!=null)for(var aidx=0;aidx<attrList.length;aidx++){var attrName=attrList[aidx];
var attrVal=jsonObj[attrName];resultStr+=" "+attrName.substr(1)+"='"+attrVal+"'"}if(!closed)resultStr+=">";else resultStr+="/>";return resultStr}function endTag(jsonObj,elementName){return"</"+(jsonObj.__prefix!=null?jsonObj.__prefix+":":"")+elementName+">\n"}function endsWith(str,suffix){return str.indexOf(suffix,str.length-suffix.length)!==-1}function parseJSONTextObject(jsonTxtObj){var result="";if(jsonTxtObj.__text!=null)result+=jsonTxtObj.__text;else result+=jsonTxtObj.toString();return result}
function parseJSONObject(jsonObj){var result="";for(var it in jsonObj){if(endsWith(it.toString(),"_asArray")||it.toString().indexOf("_")==0)continue;var subObj=jsonObj[it];if(typeof subObj=="function"||subObj==null)continue;var attrList=[];for(var ait in subObj)if(ait.toString().indexOf("__")==-1&&ait.toString().indexOf("_")==0)attrList.push(ait);if(subObj!=null&&(subObj instanceof Object&&subObj.__text==null))if(subObj instanceof Array){var arrayOfObjects=true;if(subObj.length>0)arrayOfObjects=subObj[0]instanceof
Object;else result+=startTag(subObj,it,attrList,true);for(var arIdx=0;arIdx<subObj.length;arIdx++)if(arrayOfObjects)result+=parseJSONObject(subObj[arIdx]);else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj[arIdx]);result+=endTag(subObj,it)}}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONObject(subObj);result+=endTag(subObj,it)}else{result+=startTag(subObj,it,attrList,false);result+=parseJSONTextObject(subObj);result+=endTag(subObj,it)}}return result}
this.parseXmlString=function(xmlDocStr){var xmlDoc;if(window.DOMParser){var parser=new DOMParser;xmlDoc=parser.parseFromString(xmlDocStr,"text/xml")}else{if(xmlDocStr.indexOf("<?")==0)xmlDocStr=xmlDocStr.substr(xmlDocStr.indexOf("?>")+2);xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async="false";xmlDoc.loadXML(xmlDocStr)}return xmlDoc};this.xml2json=function(xmlDoc){return parseDOMChildren(xmlDoc)};this.xml_str2json=function(xmlDocStr){var xmlDoc=this.parseXmlString(xmlDocStr);return this.xml2json(xmlDoc)};
this.json2xml_str=function(jsonObj){return parseJSONObject(jsonObj)};this.json2xml=function(jsonObj){var xmlDocStr=this.json2xml_str(jsonObj);return this.parseXmlString(xmlDocStr)}}var x2js=new X2JS;var idbModules={};
(function(idbModules){function callback(fn,context,event,func){event.target=context;typeof context[fn]==="function"&&context[fn].apply(context,[event]);typeof func==="function"&&func()}function throwDOMException(name,message,error){var e=new DOMException.constructor(0,message);e.name=name;e.message=message;e.stack=arguments.callee.caller;idbModules.DEBUG&&console.log(name,message,error,e);throw e;}var StringList=function(){this.length=0;this._items=[]};StringList.prototype={contains:function(str){return-1!==this._items.indexOf(str)},
item:function(key){return this._items[key]},indexOf:function(str){return this._items.indexOf(str)},push:function(item){this._items.push(item);this.length+=1},splice:function(){this._items.splice.apply(this._items,arguments);this.length=this._items.length}};idbModules.util={"throwDOMException":throwDOMException,"callback":callback,"quote":function(arg){return"'"+arg+"'"},"StringList":StringList}})(idbModules);
(function(idbModules){var Sca=function(){return{"encode":function(val){return JSON.stringify(val)},"decode":function(val){return JSON.parse(val)}}}();idbModules.Sca=Sca})(idbModules);
(function(idbModules){var collations=["","number","string","boolean","object","undefined"];var getGenericEncoder=function(){return{"encode":function(key){return collations.indexOf(typeof key)+"-"+JSON.stringify(key)},"decode":function(key){if(typeof key==="undefined")return undefined;else return JSON.parse(key.substring(2))}}};var types={"number":getGenericEncoder("number"),"boolean":getGenericEncoder(),"object":getGenericEncoder(),"string":{"encode":function(key){return collations.indexOf("string")+
"-"+key},"decode":function(key){return""+key.substring(2)}},"undefined":{"encode":function(key){return collations.indexOf("undefined")+"-undefined"},"decode":function(key){return undefined}}};var Key=function(){return{encode:function(key){return types[typeof key].encode(key)},decode:function(key){return types[collations[key.substring(0,1)]].decode(key)}}}();idbModules.Key=Key})(idbModules);
(function(idbModules,undefined){var Event=function(type,debug){return{"type":type,debug:debug,bubbles:false,cancelable:false,eventPhase:0,timeStamp:new Date}};idbModules.Event=Event})(idbModules);
(function(idbModules){var IDBRequest=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null;this.readyState="pending"};var IDBOpenRequest=function(){this.onblocked=this.onupgradeneeded=null};IDBOpenRequest.prototype=IDBRequest;idbModules.IDBRequest=IDBRequest;idbModules.IDBOpenRequest=IDBOpenRequest})(idbModules);
(function(idbModules,undefined){var IDBKeyRange=function(lower,upper,lowerOpen,upperOpen){this.lower=lower;this.upper=upper;this.lowerOpen=lowerOpen;this.upperOpen=upperOpen};IDBKeyRange.only=function(value){return new IDBKeyRange(value,value,true,true)};IDBKeyRange.lowerBound=function(value,open){return new IDBKeyRange(value,undefined,open,undefined)};IDBKeyRange.upperBound=function(value){return new IDBKeyRange(undefined,value,undefined,open)};IDBKeyRange.bound=function(lower,upper,lowerOpen,upperOpen){return new IDBKeyRange(lower,
upper,lowerOpen,upperOpen)};idbModules.IDBKeyRange=IDBKeyRange})(idbModules);
(function(idbModules,undefined){function IDBCursor(range,direction,idbObjectStore,cursorRequest,keyColumnName,valueColumnName){this.__range=range;this.source=this.__idbObjectStore=idbObjectStore;this.__req=cursorRequest;this.key=undefined;this.direction=direction;this.__keyColumnName=keyColumnName;this.__valueColumnName=valueColumnName;if(!this.source.transaction.__active)idbModules.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active.");this.__offset=
-1;this.__lastKeyContinued=undefined;this["continue"]()}IDBCursor.prototype.__find=function(key,tx,success,error){var me=this;var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)];var sqlValues=[];sql.push("WHERE ",me.__keyColumnName," NOT NULL");if(me.__range&&(me.__range.lower||me.__range.upper)){sql.push("AND");if(me.__range.lower){sql.push(me.__keyColumnName+(me.__range.lowerOpen?" >=":" >")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.lower))}me.__range.lower&&me.__range.upper&&
sql.push("AND");if(me.__range.upper){sql.push(me.__keyColumnName+(me.__range.upperOpen?" <= ":" < ")+" ?");sqlValues.push(idbModules.Key.encode(me.__range.upper))}}if(typeof key!=="undefined"){me.__lastKeyContinued=key;me.__offset=0}if(me.__lastKeyContinued!==undefined){sql.push("AND "+me.__keyColumnName+" >= ?");sqlValues.push(idbModules.Key.encode(me.__lastKeyContinued))}sql.push("ORDER BY ",me.__keyColumnName);sql.push("LIMIT 1 OFFSET "+me.__offset);idbModules.DEBUG&&console.log(sql.join(" "),
sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){if(data.rows.length===1){var key=idbModules.Key.decode(data.rows.item(0)[me.__keyColumnName]);var val=me.__valueColumnName==="value"?idbModules.Sca.decode(data.rows.item(0)[me.__valueColumnName]):idbModules.Key.decode(data.rows.item(0)[me.__valueColumnName]);success(key,val)}else{idbModules.DEBUG&&console.log("Reached end of cursors");success(undefined,undefined)}},function(tx,data){idbModules.DEBUG&&console.log("Could not execute Cursor.continue");
error(data)})};IDBCursor.prototype["continue"]=function(key){var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__offset++;me.__find(key,tx,function(key,val){me.key=key;me.value=val;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.advance=function(count){if(count<=0)idbModules.util.throwDOMException("Type Error - Count is invalid - 0 or negative",count);var me=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,
args,success,error){me.__offset+=count;me.__find(undefined,tx,function(key,value){me.key=key;me.value=value;success(typeof me.key!=="undefined"?me:undefined,me.__req)},function(data){error(data)})})};IDBCursor.prototype.update=function(valueToUpdate){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" SET value = ? WHERE key = ?";idbModules.DEBUG&&
console.log(sql,valueToUpdate,key);tx.executeSql(sql,[idbModules.Sca.encode(valueToUpdate),idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(key);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};IDBCursor.prototype["delete"]=function(){var me=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__find(undefined,tx,function(key,value){var sql="DELETE FROM  "+idbModules.util.quote(me.__idbObjectStore.name)+
" WHERE key = ?";idbModules.DEBUG&&console.log(sql,key);tx.executeSql(sql,[idbModules.Key.encode(key)],function(tx,data){if(data.rowsAffected===1)success(undefined);else error("No rowns with key found"+key)},function(tx,data){error(data)})},function(data){error(data)})})};idbModules.IDBCursor=IDBCursor})(idbModules);
(function(idbModules,undefined){function IDBIndex(indexName,idbObjectStore){this.indexName=indexName;this.__idbObjectStore=this.source=idbObjectStore}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this;var transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}
if(transaction.mode!==2)idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);if(typeof idxList[indexName]!=="undefined")idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={"columnName":columnName,"keyPath":keyPath,"optionalParams":optionalParameters};me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);
var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){(function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value);var indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+
" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(tx,data){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else{idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps);tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",true);success(me)},error)}})(0)},
error)},error)},"createObjectStore")})};IDBIndex.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"value");return cursorRequest};IDBIndex.prototype.openKeyCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this.source,cursorRequest,this.indexName,"key");return cursorRequest};IDBIndex.prototype.__fetchIndexData=
function(key,opType){var me=this;return me.__idbObjectStore.transaction.__addToTransactionQueue(function(tx,args,success,error){var sql=["SELECT * FROM ",idbModules.util.quote(me.__idbObjectStore.name)," WHERE",me.indexName,"NOT NULL"];var sqlValues=[];if(typeof key!=="undefined"){sql.push("AND",me.indexName," = ?");sqlValues.push(idbModules.Key.encode(key))}idbModules.DEBUG&&console.log("Trying to fetch data for Index",sql.join(" "),sqlValues);tx.executeSql(sql.join(" "),sqlValues,function(tx,data){var d;
if(typeof opType==="count")d=data.rows.length;else if(data.rows.length===0)d=undefined;else if(opType==="key")d=idbModules.Key.decode(data.rows.item(0).key);else d=idbModules.Sca.decode(data.rows.item(0).value);success(d)},error)})};IDBIndex.prototype.get=function(key){return this.__fetchIndexData(key,"value")};IDBIndex.prototype.getKey=function(key){return this.__fetchIndexData(key,"key")};IDBIndex.prototype.count=function(key){return this.__fetchIndexData(key,"count")};idbModules.IDBIndex=IDBIndex})(idbModules);
(function(idbModules){var IDBObjectStore=function(name,idbTransaction,ready){this.name=name;this.transaction=idbTransaction;this.__ready={};this.__setReadyState("createObjectStore",typeof ready==="undefined"?true:ready);this.indexNames=new idbModules.util.StringList};IDBObjectStore.prototype.__setReadyState=function(key,val){this.__ready[key]=val};IDBObjectStore.prototype.__waitForReady=function(callback,key){var ready=true;if(typeof key!=="undefined")ready=typeof this.__ready[key]==="undefined"?
true:this.__ready[key];else for(var x in this.__ready)if(!this.__ready[x])ready=false;if(ready)callback();else{idbModules.DEBUG&&console.log("Waiting for to be ready",key);var me=this;window.setTimeout(function(){me.__waitForReady(callback,key)},100)}};IDBObjectStore.prototype.__getStoreProps=function(tx,callback,waitOnProperty){var me=this;this.__waitForReady(function(){if(me.__storeProps){idbModules.DEBUG&&console.log("Store properties - cached",me.__storeProps);callback(me.__storeProps)}else tx.executeSql("SELECT * FROM __sys__ where name = ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback();else{me.__storeProps={"name":data.rows.item(0).name,"indexList":data.rows.item(0).indexList,"autoInc":data.rows.item(0).autoInc,"keyPath":data.rows.item(0).keyPath};idbModules.DEBUG&&console.log("Store properties",me.__storeProps);callback(me.__storeProps)}},function(){callback()})},waitOnProperty)};IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",
[me.name],function(tx,data){if(data.rows.length!==1)callback(0);else callback(data.rows.item(0).seq)},function(tx,error){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",error)})}var me=this;me.__getStoreProps(tx,function(props){if(!props)idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props);if(props.keyPath){if(typeof key!=="undefined")idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",
props);if(value)try{var primaryKey=eval("value['"+props.keyPath+"']");if(!primaryKey)if(props.autoInc==="true")getNextAutoIncKey();else idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath");else callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not")}else if(typeof key!=="undefined")callback(key);else if(props.autoInc===
"false")idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props);else getNextAutoIncKey()})};IDBObjectStore.prototype.__insertData=function(tx,value,primaryKey,success,error){var paramMap={};if(typeof primaryKey!=="undefined")paramMap.key=idbModules.Key.encode(primaryKey);var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+
indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("];var sqlEnd=[" VALUES ("];var sqlValues=[];for(key in paramMap){sqlStart.push(key+",");sqlEnd.push("?,");sqlValues.push(paramMap[key])}sqlStart.push("value )");sqlEnd.push("?)");sqlValues.push(idbModules.Sca.encode(value));var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues);tx.executeSql(sql,sqlValues,function(tx,data){success(primaryKey)},
function(tx,err){error(err)})};IDBObjectStore.prototype.add=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){me.__insertData(tx,value,primaryKey,success,error)})})};IDBObjectStore.prototype.put=function(value,key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__deriveKey(tx,value,key,function(primaryKey){var sql="DELETE FROM "+idbModules.util.quote(me.name)+
" where key = ?";tx.executeSql(sql,[idbModules.Key.encode(primaryKey)],function(tx,data){idbModules.DEBUG&&console.log("Did the row with the",primaryKey,"exist? ",data.rowsAffected);me.__insertData(tx,value,primaryKey,success,error)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.get=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",
me.name,primaryKey);tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Fetched data",data);try{if(0===data.rows.length)return success();success(idbModules.Sca.decode(data.rows.item(0).value))}catch(e){idbModules.DEBUG&&console.log(e);success(undefined)}},function(tx,err){error(err)})})})};IDBObjectStore.prototype["delete"]=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,
success,error){me.__waitForReady(function(){var primaryKey=idbModules.Key.encode(key);idbModules.DEBUG&&console.log("Fetching",me.name,primaryKey);tx.executeSql("DELETE FROM "+idbModules.util.quote(me.name)+" where key = ?",[primaryKey],function(tx,data){idbModules.DEBUG&&console.log("Deleted from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.clear=function(){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){tx.executeSql("DELETE FROM "+
idbModules.util.quote(me.name),[],function(tx,data){idbModules.DEBUG&&console.log("Cleared all records from database",data.rowsAffected);success()},function(tx,err){error(err)})})})};IDBObjectStore.prototype.count=function(key){var me=this;return me.transaction.__addToTransactionQueue(function(tx,args,success,error){me.__waitForReady(function(){var sql="SELECT * FROM "+idbModules.util.quote(me.name)+(typeof key!=="undefined"?" WHERE key = ?":"");var sqlValues=[];typeof key!=="undefined"&&sqlValues.push(idbModules.Key.encode(key));
tx.executeSql(sql,sqlValues,function(tx,data){success(data.rows.length)},function(tx,err){error(err)})})})};IDBObjectStore.prototype.openCursor=function(range,direction){var cursorRequest=new idbModules.IDBRequest;var cursor=new idbModules.IDBCursor(range,direction,this,cursorRequest,"key","value");return cursorRequest};IDBObjectStore.prototype.index=function(indexName){var index=new idbModules.IDBIndex(indexName,this);return index};IDBObjectStore.prototype.createIndex=function(indexName,keyPath,
optionalParameters){var me=this;optionalParameters=optionalParameters||{};me.__setReadyState("createIndex",false);var result=new idbModules.IDBIndex(indexName,me);me.__waitForReady(function(){result.__createIndex(indexName,keyPath,optionalParameters)},"createObjectStore");me.indexNames.push(indexName);return result};IDBObjectStore.prototype.deleteIndex=function(indexName){var result=new idbModules.IDBIndex(indexName,this,false);result.__deleteIndex(indexName);return result};idbModules.IDBObjectStore=
IDBObjectStore})(idbModules);
(function(idbModules){var READ=0;var READ_WRITE=1;var VERSION_TRANSACTION=2;var IDBTransaction=function(storeNames,mode,db){if(typeof mode==="number"){this.mode=mode;mode!==2&&(idbModules.DEBUG&&console.log("Mode should be a string, but was specified as ",mode))}else if(typeof mode==="string")switch(mode){case "readonly":this.mode=READ_WRITE;break;case "readwrite":this.mode=READ;break;default:this.mode=READ;break}this.storeNames=typeof storeNames==="string"?[storeNames]:storeNames;for(var i=0;i<this.storeNames.length;i++)if(!db.objectStoreNames.contains(this.storeNames[i]))idbModules.util.throwDOMException(0,
"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[i]);this.__active=true;this.__running=false;this.__requests=[];this.__aborted=false;this.db=db;this.error=null;this.onabort=this.onerror=this.oncomplete=null;var me=this};IDBTransaction.prototype.__executeRequests=function(){if(this.__running&&this.mode!==VERSION_TRANSACTION){idbModules.DEBUG&&console.log("Looks like the request set is already running",
this.mode);return}this.__running=true;var me=this;window.setTimeout(function(){if(me.mode!==2&&!me.__active)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",me.__active);me.db.__db.transaction(function(tx){me.__tx=tx;var q=null,i=0;function success(result,req){if(req)q.req=req;q.req.readyState="done";q.req.result=result;delete q.req.error;var e=idbModules.Event("success");idbModules.util.callback("onsuccess",q.req,
e);i++;executeRequest()}function error(errorVal){q.req.readyState="done";q.req.error="DOMError";var e=idbModules.Event("error",arguments);idbModules.util.callback("onerror",q.req,e);i++;executeRequest()}try{function executeRequest(){if(i>=me.__requests.length){me.__active=false;me.__requests=[];return}q=me.__requests[i];q.op(tx,q.args,success,error)}executeRequest()}catch(e){idbModules.DEBUG&&console.log("An exception occured in transaction",arguments);typeof me.onerror==="function"&&me.onerror()}},
function(){idbModules.DEBUG&&console.log("An error in transaction",arguments);typeof me.onerror==="function"&&me.onerror()},function(){idbModules.DEBUG&&console.log("Transaction completed",arguments);typeof me.oncomplete==="function"&&me.oncomplete()})},1)};IDBTransaction.prototype.__addToTransactionQueue=function(callback,args){if(!this.__active&&this.mode!==VERSION_TRANSACTION)idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",
this.__mode);var request=new idbModules.IDBRequest;request.source=this.db;this.__requests.push({"op":callback,"args":args,"req":request});this.__executeRequests();return request};IDBTransaction.prototype.objectStore=function(objectStoreName){return new idbModules.IDBObjectStore(objectStoreName,this)};IDBTransaction.prototype.abort=function(){!this.__active&&idbModules.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)};
IDBTransaction.prototype.READ_ONLY=0;IDBTransaction.prototype.READ_WRITE=1;IDBTransaction.prototype.VERSION_CHANGE=2;idbModules.IDBTransaction=IDBTransaction})(idbModules);
(function(idbModules){var IDBDatabase=function(db,name,version,storeProperties){this.__db=db;this.version=version;this.__storeProperties=storeProperties;this.objectStoreNames=new idbModules.util.StringList;for(var i=0;i<storeProperties.rows.length;i++)this.objectStoreNames.push(storeProperties.rows.item(i).name);this.name=name;this.onabort=this.onerror=this.onversionchange=null};IDBDatabase.prototype.createObjectStore=function(storeName,createOptions){var me=this;createOptions=createOptions||{};createOptions.keyPath=
createOptions.keyPath||null;var result=new idbModules.IDBObjectStore(storeName,me.__versionTransaction,false);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){function error(){idbModules.util.throwDOMException(0,"Could not create new object store",arguments)}if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);var sql=["CREATE TABLE",idbModules.util.quote(storeName),"(key BLOB",createOptions.autoIncrement?
", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");idbModules.DEBUG&&console.log(sql);tx.executeSql(sql,[],function(tx,data){tx.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[storeName,createOptions.keyPath,createOptions.autoIncrement?true:false,"{}"],function(){result.__setReadyState("createObjectStore",true);success(result)},error)},error)});me.objectStoreNames.push(storeName);return result};IDBDatabase.prototype.deleteObjectStore=function(storeName){var error=
function(){idbModules.util.throwDOMException(0,"Could not delete ObjectStore",arguments)};var me=this;!me.objectStoreNames.contains(storeName)&&error("Object Store does not exist");me.objectStoreNames.splice(me.objectStoreNames.indexOf(storeName),1);var transaction=me.__versionTransaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){if(!me.__versionTransaction)idbModules.util.throwDOMException(0,"Invalid State error",me.transaction);me.__db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__ where name = ?",
[storeName],function(tx,data){if(data.rows.length>0)tx.executeSql("DROP TABLE "+idbModules.util.quote(storeName),[],function(){tx.executeSql("DELETE FROM __sys__ WHERE name = ?",[storeName],function(){},error)},error)})})})};IDBDatabase.prototype.close=function(){};IDBDatabase.prototype.transaction=function(storeNames,mode){var transaction=new idbModules.IDBTransaction(storeNames,mode||1,this);return transaction};idbModules.IDBDatabase=IDBDatabase})(idbModules);
(function(idbModules){var DEFAULT_DB_SIZE=4*1024*1024;if(!window.openDatabase)return;try{var sysdb=window.openDatabase("__sysdb__",1,"System Database",DEFAULT_DB_SIZE)}catch(err){window.openDatabase=undefined;return}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions",[],function(t,data){},function(){sysdb.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[],function(){},function(){idbModules.util.throwDOMException("Could not create table __sysdb__ to save DB versions")})})})},
function(){idbModules.DEBUG&&console.log("Error in sysdb transaction - when selecting from dbVersions",arguments)});var shimIndexedDB={open:function(name,version){try{window.openDatabase("__test__",1,"Test Database",26*1024*1024)}catch(err){return}var req=new idbModules.IDBOpenRequest;var calledDbCreateError=false;function dbCreateError(){if(calledDbCreateError)return;var e=idbModules.Event("error",arguments);req.readyState="done";req.error="DOMError";idbModules.util.callback("onerror",req,e);calledDbCreateError=
true}function openDB(oldVersion){var db=window.openDatabase(name,1,name,DEFAULT_DB_SIZE);req.readyState="done";if(typeof version==="undefined")version=oldVersion||1;if(version<=0||oldVersion>version)idbModules.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",version);db.transaction(function(tx){tx.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){tx.executeSql("SELECT * FROM __sys__",
[],function(tx,data){var e=idbModules.Event("success");req.source=req.result=new idbModules.IDBDatabase(db,name,version,data);if(oldVersion<version)sysdb.transaction(function(systx){systx.executeSql("UPDATE dbVersions set version = ? where name = ?",[version,name],function(){var e=idbModules.Event("upgradeneeded");e.oldVersion=oldVersion;e.newVersion=version;req.transaction=req.result.__versionTransaction=new idbModules.IDBTransaction([],2,req.source);idbModules.util.callback("onupgradeneeded",req,
e,function(){var e=idbModules.Event("success");idbModules.util.callback("onsuccess",req,e)})},dbCreateError)},dbCreateError);else idbModules.util.callback("onsuccess",req,e)},dbCreateError)},dbCreateError)},dbCreateError)}sysdb.transaction(function(tx){tx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0)tx.executeSql("INSERT INTO dbVersions VALUES (?,?)",[name,version||1],function(){openDB(0)},dbCreateError);else openDB(data.rows.item(0).version)},
dbCreateError)},dbCreateError);return req},"deleteDatabase":function(name){var req=new idbModules.IDBOpenRequest;var calledDBError=false;function dbError(msg){if(calledDBError)return;req.readyState="done";req.error="DOMError";var e=idbModules.Event("error");e.message=msg;e.debug=arguments;idbModules.util.callback("onerror",req,e);calledDBError=true}var version=null;function deleteFromDbVersions(){sysdb.transaction(function(systx){systx.executeSql("DELETE FROM dbVersions where name = ? ",[name],function(){req.result=
undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e)},dbError)},dbError)}sysdb.transaction(function(systx){systx.executeSql("SELECT * FROM dbVersions where name = ?",[name],function(tx,data){if(data.rows.length===0){req.result=undefined;var e=idbModules.Event("success");e.newVersion=null;e.oldVersion=version;idbModules.util.callback("onsuccess",req,e);return}version=data.rows.item(0).version;var db=window.openDatabase(name,
1,name,DEFAULT_DB_SIZE);db.transaction(function(tx){tx.executeSql("SELECT * FROM __sys__",[],function(tx,data){var tables=data.rows;(function deleteTables(i){if(i>=tables.length)tx.executeSql("DROP TABLE __sys__",[],function(){deleteFromDbVersions()},dbError);else tx.executeSql("DROP TABLE "+idbModules.util.quote(tables.item(i).name),[],function(){deleteTables(i+1)},function(){deleteTables(i+1)})})(0)},function(e){deleteFromDbVersions()})},dbError)})},dbError);return req},"cmp":function(key1,key2){return idbModules.Key.encode(key1)>
idbModules.Key.encode(key2)?1:key1===key2?0:-1}};idbModules.shimIndexedDB=shimIndexedDB})(idbModules);
(function(window,idbModules){if(typeof window.openDatabase!=="undefined"){window.shimIndexedDB=idbModules.shimIndexedDB;if(window.shimIndexedDB){window.shimIndexedDB.__useShim=function(){window._indexedDB=idbModules.shimIndexedDB;window._IDBDatabase=idbModules.IDBDatabase;window._IDBTransaction=idbModules.IDBTransaction;window._IDBCursor=idbModules.IDBCursor;window._IDBKeyRange=idbModules.IDBKeyRange};window.shimIndexedDB.__debug=function(val){idbModules.DEBUG=val}}}window.indexedDB=window.indexedDB||
(window.webkitIndexedDB||(window.mozIndexedDB||(window.oIndexedDB||window.msIndexedDB)));if((typeof window.indexedDB==="undefined"||window.indexedDB===null)&&typeof window.openDatabase!=="undefined")window.shimIndexedDB.__useShim();else if(typeof window.openDatabase!=="undefined"){window.IDBDatabase=window.IDBDatabase||window.webkitIDBDatabase;window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction;window.IDBCursor=window.IDBCursor||window.webkitIDBCursor;window.IDBKeyRange=window.IDBKeyRange||
window.webkitIDBKeyRange;if(!window.IDBTransaction)window.IDBTransaction={};window.IDBTransaction.READ_ONLY=window.IDBTransaction.READ_ONLY||"readonly";window.IDBTransaction.READ_WRITE=window.IDBTransaction.READ_WRITE||"readwrite"}})(window,idbModules);(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.aes={}}else if(typeof module!=="undefined"&&module.exports){var forge={util:require("./util")};module.exports=forge.aes={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.aes={}}var init=false;var Nb=4;var sbox;var isbox;var rcon;var mix;var imix;var initialize=function(){init=true;rcon=[0,1,2,4,8,16,32,64,128,27,54];var xtime=new Array(256);for(var i=0;i<128;++i){xtime[i]=i<<1;xtime[i+
128]=i+128<<1^283}sbox=new Array(256);isbox=new Array(256);mix=new Array(4);imix=new Array(4);for(var i=0;i<4;++i){mix[i]=new Array(256);imix[i]=new Array(256)}var e=0,ei=0,e2,e4,e8,sx,sx2,me,ime;for(var i=0;i<256;++i){sx=ei^ei<<1^ei<<2^ei<<3^ei<<4;sx=sx>>8^sx&255^99;sbox[e]=sx;isbox[sx]=e;sx2=xtime[sx];e2=xtime[e];e4=xtime[e2];e8=xtime[e4];me=sx2<<24^sx<<16^sx<<8^(sx^sx2);ime=(e2^e4^e8)<<24^(e^e8)<<16^(e^e4^e8)<<8^(e^e2^e8);for(var n=0;n<4;++n){mix[n][e]=me;imix[n][sx]=ime;me=me<<24|me>>>8;ime=ime<<
24|ime>>>8}if(e===0)e=ei=1;else{e=e2^xtime[xtime[xtime[e2^e8]]];ei^=xtime[xtime[ei]]}}};var expandKey=function(key,decrypt){var w=key.slice(0);var temp,iNk=1;var Nk=w.length;var Nr1=Nk+6+1;var end=Nb*Nr1;for(var i=Nk;i<end;++i){temp=w[i-1];if(i%Nk===0){temp=sbox[temp>>>16&255]<<24^sbox[temp>>>8&255]<<16^sbox[temp&255]<<8^sbox[temp>>>24]^rcon[iNk]<<24;iNk++}else if(Nk>6&&i%Nk==4)temp=sbox[temp>>>24]<<24^sbox[temp>>>16&255]<<16^sbox[temp>>>8&255]<<8^sbox[temp&255];w[i]=w[i-Nk]^temp}if(decrypt){var tmp;
var m0=imix[0];var m1=imix[1];var m2=imix[2];var m3=imix[3];var wnew=w.slice(0);var end=w.length;for(var i=0,wi=end-Nb;i<end;i+=Nb,wi-=Nb)if(i===0||i===end-Nb){wnew[i]=w[wi];wnew[i+1]=w[wi+3];wnew[i+2]=w[wi+2];wnew[i+3]=w[wi+1]}else for(var n=0;n<Nb;++n){tmp=w[wi+n];wnew[i+(3&-n)]=m0[sbox[tmp>>>24]]^m1[sbox[tmp>>>16&255]]^m2[sbox[tmp>>>8&255]]^m3[sbox[tmp&255]]}w=wnew}return w};var _updateBlock=function(w,input,output,decrypt){var Nr=w.length/4-1;var m0,m1,m2,m3,sub;if(decrypt){m0=imix[0];m1=imix[1];
m2=imix[2];m3=imix[3];sub=isbox}else{m0=mix[0];m1=mix[1];m2=mix[2];m3=mix[3];sub=sbox}var a,b,c,d,a2,b2,c2;a=input[0]^w[0];b=input[decrypt?3:1]^w[1];c=input[2]^w[2];d=input[decrypt?1:3]^w[3];var i=3;for(var round=1;round<Nr;++round){a2=m0[a>>>24]^m1[b>>>16&255]^m2[c>>>8&255]^m3[d&255]^w[++i];b2=m0[b>>>24]^m1[c>>>16&255]^m2[d>>>8&255]^m3[a&255]^w[++i];c2=m0[c>>>24]^m1[d>>>16&255]^m2[a>>>8&255]^m3[b&255]^w[++i];d=m0[d>>>24]^m1[a>>>16&255]^m2[b>>>8&255]^m3[c&255]^w[++i];a=a2;b=b2;c=c2}output[0]=sub[a>>>
24]<<24^sub[b>>>16&255]<<16^sub[c>>>8&255]<<8^sub[d&255]^w[++i];output[decrypt?3:1]=sub[b>>>24]<<24^sub[c>>>16&255]<<16^sub[d>>>8&255]<<8^sub[a&255]^w[++i];output[2]=sub[c>>>24]<<24^sub[d>>>16&255]<<16^sub[a>>>8&255]<<8^sub[b&255]^w[++i];output[decrypt?1:3]=sub[d>>>24]<<24^sub[a>>>16&255]<<16^sub[b>>>8&255]<<8^sub[c&255]^w[++i]};var _createCipher=function(key,iv,output,decrypt){var cipher=null;if(!init)initialize();if(key.constructor==String&&(key.length==16||(key.length==24||key.length==32)))key=
forge.util.createBuffer(key);else if(key.constructor==Array&&(key.length==16||(key.length==24||key.length==32))){var tmp=key;var key=forge.util.createBuffer();for(var i=0;i<tmp.length;++i)key.putByte(tmp[i])}if(key.constructor!=Array){var tmp=key;key=[];var len=tmp.length();if(len==16||(len==24||len==32)){len=len>>>2;for(var i=0;i<len;++i)key.push(tmp.getInt32())}}if(key.constructor==Array&&(key.length==4||(key.length==6||key.length==8))){var _w=expandKey(key,decrypt);var _blockSize=Nb<<2;var _input;
var _output;var _inBlock;var _outBlock;var _prev;var _finish;cipher={output:null};cipher.update=function(input){if(!_finish)_input.putBuffer(input);var threshold=decrypt&&!_finish?_blockSize<<1:_blockSize;while(_input.length()>=threshold){if(decrypt)for(var i=0;i<Nb;++i)_inBlock[i]=_input.getInt32();else for(var i=0;i<Nb;++i)_inBlock[i]=_prev[i]^_input.getInt32();_updateBlock(_w,_inBlock,_outBlock,decrypt);if(decrypt){for(var i=0;i<Nb;++i)_output.putInt32(_prev[i]^_outBlock[i]);_prev=_inBlock.slice(0)}else{for(var i=
0;i<Nb;++i)_output.putInt32(_outBlock[i]);_prev=_outBlock}}};cipher.finish=function(pad){var rval=true;if(!decrypt)if(pad)rval=pad(_blockSize,_input,decrypt);else{var padding=_input.length()==_blockSize?_blockSize:_blockSize-_input.length();_input.fillWithByte(padding,padding)}if(rval){_finish=true;cipher.update()}if(decrypt){rval=_input.length()===0;if(rval)if(pad)rval=pad(_blockSize,_output,decrypt);else{var len=_output.length();var count=_output.at(len-1);if(count>Nb<<2)rval=false;else _output.truncate(count)}}return rval};
cipher.start=function(iv,output){iv=iv||_prev.slice(0);if(iv.constructor==String&&iv.length==16)iv=forge.util.createBuffer(iv);else if(iv.constructor==Array&&iv.length==16){var tmp=iv;var iv=forge.util.createBuffer();for(var i=0;i<16;++i)iv.putByte(tmp[i])}if(iv.constructor!=Array){var tmp=iv;iv=new Array(4);iv[0]=tmp.getInt32();iv[1]=tmp.getInt32();iv[2]=tmp.getInt32();iv[3]=tmp.getInt32()}_input=forge.util.createBuffer();_output=output||forge.util.createBuffer();_prev=iv.slice(0);_inBlock=new Array(Nb);
_outBlock=new Array(Nb);_finish=false;cipher.output=_output};if(iv!==null)cipher.start(iv,output)}return cipher};forge.aes.startEncrypting=function(key,iv,output){return _createCipher(key,iv,output,false)};forge.aes.createEncryptionCipher=function(key){return _createCipher(key,null,null,false)};forge.aes.startDecrypting=function(key,iv,output){return _createCipher(key,iv,output,true)};forge.aes.createDecryptionCipher=function(key){return _createCipher(key,null,null,true)};forge.aes._expandKey=function(key,
decrypt){if(!init)initialize();return expandKey(key,decrypt)};forge.aes._updateBlock=_updateBlock})();(function(){if(typeof window!=="undefined"){var forge=window.forge=window.forge||{};forge.util={}}else if(typeof module!=="undefined"&&module.exports){var forge={};module.exports=forge.util={}}else if(typeof self!=="undefined"){var forge=self.forge=self.forge||{};forge.util={}}var util=forge.util;util.ByteBuffer=function(b){this.data=b||"";this.read=0};util.ByteBuffer.prototype.length=function(){return this.data.length-this.read};util.ByteBuffer.prototype.isEmpty=function(){return this.data.length-
this.read===0};util.ByteBuffer.prototype.putByte=function(b){this.data+=String.fromCharCode(b)};util.ByteBuffer.prototype.fillWithByte=function(b,n){b=String.fromCharCode(b);var d=this.data;while(n>0){if(n&1)d+=b;n>>>=1;if(n>0)b+=b}this.data=d};util.ByteBuffer.prototype.putBytes=function(bytes){this.data+=bytes};util.ByteBuffer.prototype.putString=function(str){this.data+=util.encodeUtf8(str)};util.ByteBuffer.prototype.putInt16=function(i){this.data+=String.fromCharCode(i>>8&255)+String.fromCharCode(i&
255)};util.ByteBuffer.prototype.putInt24=function(i){this.data+=String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt32=function(i){this.data+=String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};util.ByteBuffer.prototype.putInt16Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)};util.ByteBuffer.prototype.putInt24Le=function(i){this.data+=
String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)};util.ByteBuffer.prototype.putInt32Le=function(i){this.data+=String.fromCharCode(i&255)+String.fromCharCode(i>>8&255)+String.fromCharCode(i>>16&255)+String.fromCharCode(i>>24&255)};util.ByteBuffer.prototype.putInt=function(i,n){do{n-=8;this.data+=String.fromCharCode(i>>n&255)}while(n>0)};util.ByteBuffer.prototype.putBuffer=function(buffer){this.data+=buffer.getBytes()};util.ByteBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)};
util.ByteBuffer.prototype.getInt16=function(){var rval=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);this.read+=2;return rval};util.ByteBuffer.prototype.getInt24=function(){var rval=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);this.read+=3;return rval};util.ByteBuffer.prototype.getInt32=function(){var rval=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<
8^this.data.charCodeAt(this.read+3);this.read+=4;return rval};util.ByteBuffer.prototype.getInt16Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;this.read+=2;return rval};util.ByteBuffer.prototype.getInt24Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;this.read+=3;return rval};util.ByteBuffer.prototype.getInt32Le=function(){var rval=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+
1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;this.read+=4;return rval};util.ByteBuffer.prototype.getInt=function(n){var rval=0;do{rval=(rval<<n)+this.data.charCodeAt(this.read++);n-=8}while(n>0);return rval};util.ByteBuffer.prototype.getBytes=function(count){var rval;if(count){count=Math.min(this.length(),count);rval=this.data.slice(this.read,this.read+count);this.read+=count}else if(count===0)rval="";else{rval=this.read===0?this.data:this.data.slice(this.read);
this.clear()}return rval};util.ByteBuffer.prototype.bytes=function(count){return typeof count==="undefined"?this.data.slice(this.read):this.data.slice(this.read,this.read+count)};util.ByteBuffer.prototype.at=function(i){return this.data.charCodeAt(this.read+i)};util.ByteBuffer.prototype.setAt=function(i,b){this.data=this.data.substr(0,this.read+i)+String.fromCharCode(b)+this.data.substr(this.read+i+1)};util.ByteBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)};util.ByteBuffer.prototype.copy=
function(){var c=util.createBuffer(this.data);c.read=this.read;return c};util.ByteBuffer.prototype.compact=function(){if(this.read>0){this.data=this.data.slice(this.read);this.read=0}};util.ByteBuffer.prototype.clear=function(){this.data="";this.read=0};util.ByteBuffer.prototype.truncate=function(count){var len=Math.max(0,this.length()-count);this.data=this.data.substr(this.read,len);this.read=0};util.ByteBuffer.prototype.toHex=function(){var rval="";for(var i=this.read;i<this.data.length;++i){var b=
this.data.charCodeAt(i);if(b<16)rval+="0";rval+=b.toString(16)}return rval};util.ByteBuffer.prototype.toString=function(){return util.decodeUtf8(this.bytes())};util.createBuffer=function(input,encoding){encoding=encoding||"raw";if(input!==undefined&&encoding==="utf8")input=util.encodeUtf8(input);return new util.ByteBuffer(input)};util.fillString=function(c,n){var s="";while(n>0){if(n&1)s+=c;n>>>=1;if(n>0)c+=c}return s};util.xorBytes=function(s1,s2,n){var s3="";var b="";var t="";var i=0;var c=0;for(;n>
0;--n,++i){b=s1.charCodeAt(i)^s2.charCodeAt(i);if(c>=10){s3+=t;t="";c=0}t+=String.fromCharCode(b);++c}s3+=t;return s3};util.hexToBytes=function(hex){var rval="";var i=0;if(hex.length&1==1){i=1;rval+=String.fromCharCode(parseInt(hex[0],16))}for(;i<hex.length;i+=2)rval+=String.fromCharCode(parseInt(hex.substr(i,2),16));return rval};util.bytesToHex=function(bytes){return util.createBuffer(bytes).toHex()};util.int32ToBytes=function(i){return String.fromCharCode(i>>24&255)+String.fromCharCode(i>>16&255)+
String.fromCharCode(i>>8&255)+String.fromCharCode(i&255)};var _base64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var _base64Idx=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];util.encode64=function(input,maxline){var line="";var output="";var chr1,chr2,chr3;var i=0;while(i<input.length){chr1=
input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);line+=_base64.charAt(chr1>>2);line+=_base64.charAt((chr1&3)<<4|chr2>>4);if(isNaN(chr2))line+="==";else{line+=_base64.charAt((chr2&15)<<2|chr3>>6);line+=isNaN(chr3)?"=":_base64.charAt(chr3&63)}if(maxline&&line.length>maxline){output+=line.substr(0,maxline)+"\r\n";line=line.substr(maxline)}}output+=line;return output};util.decode64=function(input){input=input.replace(/[^A-Za-z0-9\+\/\=]/g,"");var output="";var enc1,enc2,enc3,
enc4;var i=0;while(i<input.length){enc1=_base64Idx[input.charCodeAt(i++)-43];enc2=_base64Idx[input.charCodeAt(i++)-43];enc3=_base64Idx[input.charCodeAt(i++)-43];enc4=_base64Idx[input.charCodeAt(i++)-43];output+=String.fromCharCode(enc1<<2|enc2>>4);if(enc3!==64){output+=String.fromCharCode((enc2&15)<<4|enc3>>2);if(enc4!==64)output+=String.fromCharCode((enc3&3)<<6|enc4)}}return output};util.encodeUtf8=function(str){return unescape(encodeURIComponent(str))};util.decodeUtf8=function(str){return decodeURIComponent(escape(str))};
util.deflate=function(api,bytes,raw){bytes=util.decode64(api.deflate(util.encode64(bytes)).rval);if(raw){var start=2;var flg=bytes.charCodeAt(1);if(flg&32)start=6;bytes=bytes.substring(start,bytes.length-4)}return bytes};util.inflate=function(api,bytes,raw){var rval=api.inflate(util.encode64(bytes)).rval;return rval===null?null:util.decode64(rval)};var _setStorageObject=function(api,id,obj){if(!api)throw{message:"WebStorage not available."};var rval;if(obj===null)rval=api.removeItem(id);else{obj=
util.encode64(JSON.stringify(obj));rval=api.setItem(id,obj)}if(typeof rval!=="undefined"&&rval.rval!==true)throw rval.error;};var _getStorageObject=function(api,id){if(!api)throw{message:"WebStorage not available."};var rval=api.getItem(id);if(api.init)if(rval.rval===null){if(rval.error)throw rval.error;rval=null}else rval=rval.rval;if(rval!==null)rval=JSON.parse(util.decode64(rval));return rval};var _setItem=function(api,id,key,data){var obj=_getStorageObject(api,id);if(obj===null)obj={};obj[key]=
data;_setStorageObject(api,id,obj)};var _getItem=function(api,id,key){var rval=_getStorageObject(api,id);if(rval!==null)rval=key in rval?rval[key]:null;return rval};var _removeItem=function(api,id,key){var obj=_getStorageObject(api,id);if(obj!==null&&key in obj){delete obj[key];var empty=true;for(var prop in tmp){empty=false;break}if(empty)obj=null;_setStorageObject(api,id,obj)}};var _clearItems=function(api,id){_setStorageObject(api,id,null)};var _callStorageFunction=function(func,args,location){var rval=
null;if(typeof location==="undefined")location=["web","flash"];var type;var done=false;var exception=null;for(var idx in location){type=location[idx];try{if(type==="flash"||type==="both")if(args[0]===null)throw{message:"Flash local storage not available."};else{rval=func.apply(this,args);done=type==="flash"}if(type==="web"||type==="both"){args[0]=localStorage;rval=func.apply(this,args);done=true}}catch(ex){exception=ex}if(done)break}if(!done)throw exception;return rval};util.setItem=function(api,
id,key,data,location){_callStorageFunction(_setItem,arguments,location)};util.getItem=function(api,id,key,location){return _callStorageFunction(_getItem,arguments,location)};util.removeItem=function(api,id,key,location){_callStorageFunction(_removeItem,arguments,location)};util.clearItems=function(api,id,location){_callStorageFunction(_clearItems,arguments,location)};util.parseUrl=function(str){var regex=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;regex.lastIndex=0;var m=regex.exec(str);var url=m===
null?null:{full:str,scheme:m[1],host:m[2],port:m[3],path:m[4]};if(url){url.fullHost=url.host;if(url.port)if(url.port!==80&&url.scheme==="http")url.fullHost+=":"+url.port;else{if(url.port!==443&&url.scheme==="https")url.fullHost+=":"+url.port}else if(url.scheme==="http")url.port=80;else if(url.scheme==="https")url.port=443;url.full=url.scheme+"://"+url.fullHost}return url};var _queryVariables=null;util.getQueryVariables=function(query){var parse=function(q){var rval={};var kvpairs=q.split("&");for(var i=
0;i<kvpairs.length;i++){var pos=kvpairs[i].indexOf("=");var key;var val;if(pos>0){key=kvpairs[i].substring(0,pos);val=kvpairs[i].substring(pos+1)}else{key=kvpairs[i];val=null}if(!(key in rval))rval[key]=[];if(val!==null)rval[key].push(unescape(val))}return rval};var rval;if(typeof query==="undefined"){if(_queryVariables===null)if(typeof window==="undefined")_queryVariables={};else _queryVariables=parse(window.location.search.substring(1));rval=_queryVariables}else rval=parse(query);return rval};util.parseFragment=
function(fragment){var fp=fragment;var fq="";var pos=fragment.indexOf("?");if(pos>0){fp=fragment.substring(0,pos);fq=fragment.substring(pos+1)}var path=fp.split("/");if(path.length>0&&path[0]=="")path.shift();var query=fq==""?{}:util.getQueryVariables(fq);return{pathString:fp,queryString:fq,path:path,query:query}};util.makeRequest=function(reqString){var frag=util.parseFragment(reqString);var req={path:frag.pathString,query:frag.queryString,getPath:function(i){return typeof i==="undefined"?frag.path:
frag.path[i]},getQuery:function(k,i){var rval;if(typeof k==="undefined")rval=frag.query;else{rval=frag.query[k];if(rval&&typeof i!=="undefined")rval=rval[i]}return rval},getQueryLast:function(k,_default){var rval;var vals=req.getQuery(k);if(vals)rval=vals[vals.length-1];else rval=_default;return rval}};return req};util.makeLink=function(path,query,fragment){path=jQuery.isArray(path)?path.join("/"):path;var qstr=jQuery.param(query||{});fragment=fragment||"";return path+(qstr.length>0?"?"+qstr:"")+
(fragment.length>0?"#"+fragment:"")};util.setPath=function(object,keys,value){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)object[next]=value;else{var hasNext=next in object;if(!hasNext||(hasNext&&typeof object[next]!=="object"||hasNext&&object[next]===null))object[next]={};object=object[next]}}}};util.getPath=function(object,keys,_default){var i=0;var len=keys.length;var hasNext=true;while(hasNext&&(i<len&&(typeof object==="object"&&
object!==null))){var next=keys[i++];hasNext=next in object;if(hasNext)object=object[next]}return hasNext?object:_default};util.deletePath=function(object,keys){if(typeof object==="object"&&object!==null){var i=0;var len=keys.length;while(i<len){var next=keys[i++];if(i==len)delete object[next];else{if(!(next in object)||(typeof object[next]!=="object"||object[next]===null))break;object=object[next]}}}};util.isEmpty=function(obj){for(var prop in obj)if(obj.hasOwnProperty(prop))return false;return true};
util.format=function(format){var re=/%./g;var match;var part;var argi=0;var parts=[];var last=0;while(match=re.exec(format)){part=format.substring(last,re.lastIndex-2);if(part.length>0)parts.push(part);last=re.lastIndex;var code=match[0][1];switch(code){case "s":case "o":if(argi<arguments.length)parts.push(arguments[argi++ +1]);else parts.push("<?>");break;case "%":parts.push("%");break;default:parts.push("<%"+code+"?>")}}parts.push(format.substring(last));return parts.join("")};util.formatNumber=
function(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point===undefined?",":dec_point;var t=thousands_sep===undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c),10)+"";var j=i.length>3?i.length%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")};util.formatSize=function(size){if(size>=1073741824)size=util.formatNumber(size/1073741824,
2,".","")+" GiB";else if(size>=1048576)size=util.formatNumber(size/1048576,2,".","")+" MiB";else if(size>=1024)size=util.formatNumber(size/1024,0)+" KiB";else size=util.formatNumber(size,0)+" bytes";return size}})();(function(){function a(e,t){if(!t||typeof t=="function")return e;for(var n in t)e[n]=t[n];return e}function f(e,t,n){var r,i=0,s=e.length,o=s===undefined||typeof e=="function";if(n)if(o)for(r in e){if(t.apply(e[r],n)===!1)break}else for(;i<s;){if(t.apply(e[i++],n)===!1)break}else if(o)for(r in e){if(t.call(e[r],r,e[r])===!1)break}else for(;i<s;)if(t.call(e[i],i,e[i++])===!1)break;return e}function l(e){var t=function(e){if(window.XMLHttpRequest)return e(null,new XMLHttpRequest);if(window.ActiveXObject)try{return e(null,
new ActiveXObject("Msxml2.XMLHTTP"))}catch(t){return e(null,new ActiveXObject("Microsoft.XMLHTTP"))}return e(new Error)},n=function(e){if(typeof e=="string")return e;var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):
(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},i=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e=r(e);var n="",i,s,o,u,a,f,l,c=0;do i=e.charCodeAt(c++),s=e.charCodeAt(c++),o=e.charCodeAt(c++),u=i>>2,a=(i&3)<<4|s>>4,f=(s&15)<<2|o>>6,l=o&63,isNaN(s)?f=l=64:isNaN(o)&&(l=64),n+=t.charAt(u)+t.charAt(a)+t.charAt(f)+t.charAt(l),i=s=o="",u=a=f=l="";while(c<e.length);return n},s=function(){var e=arguments[0];
for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e},o=function(e,r,i,u){typeof i=="function"&&(u=i,i={}),i.cache=i.cache||!1,i.data=i.data||{},i.headers=i.headers||{},i.jsonp=i.jsonp||!1,i.async=i.async===undefined?!0:i.async;var a=s({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},o.headers,i.headers),f;a["content-type"]==="application/json"?f=JSON.stringify(i.data):f=n(i.data);if(e==="GET"){var l=[];f&&(l.push(f),
f=null),i.cache||l.push("_="+(new Date).getTime()),i.jsonp&&(l.push("callback="+i.jsonp),l.push("jsonp="+i.jsonp)),l=l.join("&"),l.length>1&&(r.indexOf("?")>-1?r+="&"+l:r+="?"+l);if(i.jsonp){var c=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.src=r,c.appendChild(h);return}}t(function(t,n){if(t)return u(t);n.open(e,r,i.async);for(var s in a)a.hasOwnProperty(s)&&n.setRequestHeader(s,a[s]);n.onreadystatechange=function(){if(n.readyState===4){var e=
n.responseText||"";if(!u)return;u(n.status,{text:function(){return e},json:function(){return JSON.parse(e)}})}},n.send(f)})},u={authBasic:function(e,t){o.headers.Authorization="Basic "+i(e+":"+t)},connect:function(e,t,n){return o("CONNECT",e,t,n)},del:function(e,t,n){return o("DELETE",e,t,n)},get:function(e,t,n){return o("GET",e,t,n)},head:function(e,t,n){return o("HEAD",e,t,n)},headers:function(e){o.headers=e||{}},isAllowed:function(e,t,n){this.options(e,function(e,r){n(r.text().indexOf(t)!==-1)})},
options:function(e,t,n){return o("OPTIONS",e,t,n)},patch:function(e,t,n){return o("PATCH",e,t,n)},post:function(e,t,n){return o("POST",e,t,n)},put:function(e,t,n){return o("PUT",e,t,n)},trace:function(e,t,n){return o("TRACE",e,t,n)}},a=e.type?e.type.toLowerCase():"get";u[a](e.url,e,function(t,n){t===200?e.success(n.json(),t,null):e.error(n.text(),t,null)})}function d(e,s){typeof e=="function"&&(s=e,e={}),e=e||{},p.extend(u,e),typeof u.ns=="string"&&(u.ns={namespaces:[u.ns],defaultNs:u.ns}),u.interpolationPrefixEscaped=
p.regexEscape(u.interpolationPrefix),u.interpolationSuffixEscaped=p.regexEscape(u.interpolationSuffix),u.lng||(u.lng=p.detectLanguage()),u.lng?u.useCookie&&p.cookie.create(u.cookieName,u.lng,u.cookieExpirationTime):(u.lng=u.fallbackLng,u.useCookie&&p.cookie.remove(u.cookieName)),o=p.toLanguages(u.lng),i=o[0],p.log("currentLng set to: "+i),_.setCurrentLng(i),t&&(u.setJqueryExt&&S());var a;t&&(t.Deferred&&(a=t.Deferred()));if(u.resStore){r=u.resStore,s&&s(L),a&&a.resolve();if(a)return a.promise();return}var f=
p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var l=0,c=u.preload.length;l<c;l++){var h=p.toLanguages(u.preload[l]);for(var d=0,v=h.length;d<v;d++)f.indexOf(h[d])<0&&f.push(h[d])}n.sync.load(f,u,function(e,t){r=t,s&&s(L),a&&a.resolve()});if(a)return a.promise()}function v(e,t){typeof e=="string"&&(e=[e]);for(var n=0,r=e.length;n<r;n++)u.preload.indexOf(e[n])<0&&u.preload.push(e[n]);return d(t)}function m(e,t,n){typeof t!="string"&&(n=t,t=u.ns.defaultNs),r[e]=r[e]||{},
r[e][t]=r[e][t]||{},p.extend(r[e][t],n)}function g(e){u.ns.defaultNs=e}function y(e,t){b([e],t)}function b(e,t){var i={dynamicLoad:u.dynamicLoad,resGetPath:u.resGetPath,getAsync:u.getAsync,ns:{namespaces:e,defaultNs:""}},s=p.toLanguages(u.lng);typeof u.preload=="string"&&(u.preload=[u.preload]);for(var o=0,a=u.preload.length;o<a;o++){var f=p.toLanguages(u.preload[o]);for(var l=0,c=f.length;l<c;l++)s.indexOf(f[l])<0&&s.push(f[l])}var h=[];for(var d=0,v=s.length;d<v;d++){var m=!1,g=r[s[d]];if(g)for(var y=
0,b=e.length;y<b;y++)g[e[y]]||(m=!0);else m=!0;m&&h.push(s[d])}h.length?n.sync._fetch(h,i,function(i,s){var o=e.length*h.length;p.each(e,function(e,i){p.each(h,function(e,a){r[a]=r[a]||{},r[a][i]=s[a][i],o--,o===0&&(t&&(u.useLocalStorage&&n.sync._storeLocal(r),t()))})})}):t&&t()}function w(e,t){return d({lng:e},t)}function E(){return i}function S(){function e(e,n,r){if(n.length===0)return;var i="text";if(n.indexOf("[")===0){var s=n.split("]");n=s[1],i=s[0].substr(1,s[0].length-1)}n.indexOf(";")===
n.length-1&&(n=n.substr(0,n.length-2));var o;i==="html"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.html()},r):r,e.html(t.t(n,o))):i==="text"?(o=u.defaultValueFromContent?t.extend({defaultValue:e.text()},r):r,e.text(t.t(n,o))):(o=u.defaultValueFromContent?t.extend({defaultValue:e.attr(i)},r):r,e.attr(i,t.t(n,o)))}function n(n,r){var i=n.attr(u.selectorAttr);if(!i)return;var s=n,o=n.data("i18n-target");o&&(s=n.find(o)||n),!r&&(u.useDataAttrOptions===!0&&(r=n.data("i18n-options"))),r=r||{};
if(i.indexOf(";")<=i.length-1){var a=i.split(";");t.each(a,function(t,n){e(s,n,r)})}else e(s,k,r);u.useDataAttrOptions===!0&&n.data("i18n-options",r)}t.t=t.t||L,t.fn.i18n=function(e){return this.each(function(){n(t(this),e);var r=t(this).find("["+u.selectorAttr+"]");r.each(function(){n(t(this),e)})})}}function x(e,t,n,r){r=r||t;if(e.indexOf(r.interpolationPrefix||u.interpolationPrefix)<0)return e;var i=r.interpolationPrefix?p.regexEscape(r.interpolationPrefix):u.interpolationPrefixEscaped,s=r.interpolationSuffix?
p.regexEscape(r.interpolationSuffix):u.interpolationSuffixEscaped;return p.each(t,function(t,o){typeof o=="object"&&o!==null?e=x(e,o,n?n+u.keyseparator+t:t,r):e=e.replace(new RegExp([i,n?n+u.keyseparator+t:t,s].join(""),"g"),o)}),e}function T(e,t){var n=",",r="{",i="}",o=p.extend({},t);delete o.postProcess;while(e.indexOf(u.reusePrefix)!=-1){s++;if(s>u.maxRecursion)break;var a=e.indexOf(u.reusePrefix),f=e.indexOf(u.reuseSuffix,a)+u.reuseSuffix.length,l=e.substring(a,f),c=l.replace(u.reusePrefix,"").replace(u.reuseSuffix,
"");if(c.indexOf(n)!=-1){var h=c.indexOf(n);if(c.indexOf(r,h)!=-1&&c.indexOf(i,h)!=-1){var d=c.indexOf(r,h),v=c.indexOf(i,d)+i.length;try{o=p.extend(o,JSON.parse(c.substring(d,v))),c=c.substring(0,h)}catch(m){}}}var g=A(c,o);e=e.replace(l,g)}return e}function N(e){return e.context&&typeof e.context=="string"}function C(e){return e.count!==undefined&&(typeof e.count!="string"&&e.count!==1)}function L(e,t){return s=0,A(e,t)}function A(e,t){t=t||{};if(!r)return f;var s,a,f=t.defaultValue||e,l=o;if(t.lng){l=
p.toLanguages(t.lng);if(!r[l[0]]){var c=u.getAsync;u.getAsync=!1,n.sync.load(l,u,function(e,t){p.extend(r,t),u.getAsync=c})}}var h=t.ns||u.ns.defaultNs;if(e.indexOf(u.nsseparator)>-1){var d=e.split(u.nsseparator);h=d[0],e=d[1]}if(N(t)){s=p.extend({},t),delete s.context,s.defaultValue=u.contextNotFound;var v=h+u.nsseparator+e+"_"+t.context;a=L(v,s);if(a!=u.contextNotFound)return x(a,{context:t.context})}if(C(t)){s=p.extend({},t),delete s.count,s.defaultValue=u.pluralNotFound;var m=h+u.nsseparator+
e+u.pluralSuffix,g=_.get(i,t.count);g>=0?m=m+"_"+g:g===1&&(m=h+u.nsseparator+e),a=L(m,s);if(a!=u.pluralNotFound)return x(a,{count:t.count})}var y,b=e.split(u.keyseparator);for(var w=0,E=l.length;w<E;w++){if(y)break;var S=l[w],k=0,O=r[S]&&r[S][h];while(b[k])O=O&&O[b[k]],k++;if(O!==undefined){if(typeof O=="string")O=x(O,t),O=T(O,t);else if(Object.prototype.toString.apply(O)==="[object Array]"&&(!u.returnObjectTrees&&!t.returnObjectTrees))O=O.join("\n"),O=x(O,t),O=T(O,t);else if(!u.returnObjectTrees&&
!t.returnObjectTrees)O="key '"+h+":"+e+" ("+S+")' "+"returned a object instead of string.",p.log(O);else{var P={};for(var H in O)P[H]=A(h+u.nsseparator+e+u.keyseparator+H,t);O=P}y=O}}y===undefined&&(u.fallbackToDefaultNS&&(y=A(e,t))),y===undefined&&(u.sendMissing&&(t.lng?M.postMissing(l[0],h,e,f,l):M.postMissing(u.lng,h,e,f,l)));var B=t.postProcess||u.postProcess;return y!==undefined&&(B&&(D[B]&&(y=D[B](y,e,t)))),y===undefined&&(f=x(f,t),f=T(f,t)),y!==undefined?y:f}function O(){var e,t=[];typeof window!=
"undefined"&&(function(){var e=window.location.search.substring(1),n=e.split("&");for(var r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0){var s=n[r].substring(0,i),o=n[r].substring(i+1);t[s]=o}}}(),t[u.detectLngQS]&&(e=t[u.detectLngQS]));if(!e&&(typeof document!="undefined"&&u.useCookie)){var n=p.cookie.read(u.cookieName);n&&(e=n)}return!e&&(typeof navigator!="undefined"&&(e=navigator.language?navigator.language:navigator.userLanguage)),e}Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(this==
null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(n===0)return-1;var r=0;arguments.length>0&&(r=Number(arguments[1]),r!=r?r=0:r!=0&&(r!=Infinity&&(r!=-Infinity&&(r=(r>0||-1)*Math.floor(Math.abs(r))))));if(r>=n)return-1;var i=r>=0?r:Math.max(n-Math.abs(r),0);for(;i<n;i++)if(i in t&&t[i]===e)return i;return-1});var e=this,t=e.jQuery,n={},r={},i,s=0,o=[];typeof module!="undefined"&&module.exports?module.exports=n:(t&&(t.i18n=t.i18n||n),e.i18n=e.i18n||n);var u={lng:undefined,load:"all",preload:[],
lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:"dev",detectLngQS:"setLng",ns:"translation",fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:undefined,useLocalStorage:!1,localStorageExpirationTime:6048E5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",
reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:undefined,useCookie:!0,cookieName:"i18next",postProcess:undefined},c={create:function(e,t,n){var r;if(n){var i=new Date;i.setTime(i.getTime()+n*60*1E3),r="; expires="+i.toGMTString()}else r="";document.cookie=e+"="+t+r+"; path=/"},read:function(e){var t=e+
"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r];while(i.charAt(0)==" ")i=i.substring(1,i.length);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}return null},remove:function(e){this.create(e,"",-1)}},h={create:function(e,t,n){},read:function(e){return null},remove:function(e){}},p={extend:t?t.extend:a,each:t?t.each:f,ajax:t?t.ajax:l,cookie:typeof document!="undefined"?c:h,detectLanguage:O,log:function(e){u.debug&&(typeof console!="undefined"&&console.log(e))},toLanguages:function(e){var t=
[];if(typeof e=="string"&&e.indexOf("-")>-1){var n=e.split("-");e=u.lowerCaseLng?n[0].toLowerCase()+"-"+n[1].toLowerCase():n[0].toLowerCase()+"-"+n[1].toUpperCase(),u.load!=="unspecific"&&t.push(e),u.load!=="current"&&t.push(n[0])}else t.push(e);return t.indexOf(u.fallbackLng)===-1&&(u.fallbackLng&&t.push(u.fallbackLng)),t},regexEscape:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},M={load:function(e,t,n){t.useLocalStorage?M._loadLocal(e,t,function(r,i){var s=[];for(var o=
0,u=e.length;o<u;o++)i[e[o]]||s.push(e[o]);s.length>0?M._fetch(s,t,function(e,t){p.extend(i,t),M._storeLocal(t),n(null,i)}):n(null,i)}):M._fetch(e,t,function(e,t){n(null,t)})},_loadLocal:function(e,t,n){var r={},i=(new Date).getTime();if(window.localStorage){var s=e.length;p.each(e,function(e,o){var u=window.localStorage.getItem("res_"+o);u&&(u=JSON.parse(u),u.i18nStamp&&(u.i18nStamp+t.localStorageExpirationTime>i&&(r[o]=u))),s--,s===0&&n(null,r)})}},_storeLocal:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=
(new Date).getTime(),window.localStorage.setItem("res_"+t,JSON.stringify(e[t]));return},_fetch:function(e,t,n){var r=t.ns,i={};if(!t.dynamicLoad){var s=r.namespaces.length*e.length,o;p.each(r.namespaces,function(r,u){p.each(e,function(e,r){var a=function(e,t){e&&(o=o||[],o.push(e)),i[r]=i[r]||{},i[r][u]=t,s--,s===0&&n(o,i)};typeof t.customLoad=="function"?t.customLoad(r,u,t,a):M._fetchOne(r,u,t,a)})})}else{var u=x(t.resGetPath,{lng:e.join("+"),ns:r.namespaces.join("+")});p.ajax({url:u,success:function(e,
t,r){p.log("loaded: "+u),n(null,e)},error:function(e,t,r){p.log("failed loading: "+u),n("failed loading resource.json error: "+r)},dataType:"json",async:t.getAsync})}},_fetchOne:function(e,t,n,r){var i=x(n.resGetPath,{lng:e,ns:t});p.ajax({url:i,success:function(e,t,n){p.log("loaded: "+i),r(null,e)},error:function(e,t,n){p.log("failed loading: "+i),r(n,{})},dataType:"json",async:n.getAsync})},postMissing:function(e,t,n,i,s){var o={};o[n]=i;var a=[];if(u.sendMissingTo==="fallback")a.push({lng:u.fallbackLng,
url:x(u.resPostPath,{lng:u.fallbackLng,ns:t})});else if(u.sendMissingTo==="current")a.push({lng:e,url:x(u.resPostPath,{lng:e,ns:t})});else if(u.sendMissingTo==="all")for(var f=0,l=s.length;f<l;f++)a.push({lng:s[f],url:x(u.resPostPath,{lng:s[f],ns:t})});for(var c=0,h=a.length;c<h;c++){var d=a[c];p.ajax({url:d.url,type:u.sendType,data:o,success:function(e,s,o){p.log("posted missing key '"+n+"' to: "+d.url);var u=n.split("."),a=0,f=r[d.lng][t];while(u[a])a===u.length-1?f=f[u[a]]=i:f=f[u[a]]=f[u[a]]||
{},a++},error:function(e,t,r){p.log("failed posting missing key '"+n+"' to: "+d.url)},dataType:"json",async:u.postAsync})}}},_={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(e){return Number(e>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ak:{name:"Akan",numbers:[1,2],plurals:function(e){return Number(e>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(e){return Number(e>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ay:{name:"Aymar\u00e1",numbers:[1],plurals:function(e){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(e){return Number(e!=1)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(e){return Number(e%
10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},bo:{name:"Tibetan",numbers:[1],plurals:function(e){return 0}},br:{name:"Breton",numbers:[1,2],plurals:function(e){return Number(e>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},ca:{name:"Catalan",
numbers:[1,2],plurals:function(e){return Number(e!=1)}},cgg:{name:"Chiga",numbers:[1],plurals:function(e){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},de:{name:"German",numbers:[1,2],plurals:function(e){return Number(e!=1)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(e){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(e){return Number(e!=1)}},en:{name:"English",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es:{name:"Spanish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},et:{name:"Estonian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},eu:{name:"Basque",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fa:{name:"Persian",numbers:[1],plurals:function(e){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(e){return Number(e>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fr:{name:"French",numbers:[1,2],plurals:function(e){return Number(e>
1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(e){return Number(e!=1)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},gun:{name:"Gun",numbers:[1,2],plurals:function(e){return Number(e>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(e){return Number(e!=1)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(e){return Number(e!=1)}},id:{name:"Indonesian",numbers:[1],plurals:function(e){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(e){return Number(e%10!=1||e%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ja:{name:"Japanese",numbers:[1],plurals:function(e){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(e){return 0}},
jv:{name:"Javanese",numbers:[0,1],plurals:function(e){return Number(e!==0)}},ka:{name:"Georgian",numbers:[1],plurals:function(e){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(e){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(e){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ko:{name:"Korean",numbers:[1],plurals:function(e){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},kw:{name:"Cornish",numbers:[1,
2,3,4],plurals:function(e){return Number(e==1?0:e==2?1:e==3?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(e){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(e){return Number(e>1)}},lo:{name:"Lao",numbers:[1],plurals:function(e){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[0,
1,2],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(e){return Number(e>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(e){return Number(e>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(e){return Number(e>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(e){return Number(e==1||e%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(e){return Number(e==1?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ms:{name:"Malay",numbers:[1],plurals:function(e){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)}},nah:{name:"Nahuatl",numbers:[1,
2],plurals:function(e){return Number(e!=1)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(e){return Number(e!=1)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(e){return Number(e!=1)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(e){return Number(e!=1)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(e){return Number(e>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(e){return Number(e!=1)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(e){return Number(e==1?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=
20))?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(e){return Number(e!=1)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(e){return Number(e==1?0:e===0||e%100>0&&
e%100<20?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(e){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(e){return Number(e!=1)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(e){return Number(e!=1)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(e){return Number(e==
1?0:e>=2&&e<=4?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(e){return Number(e!=1)}},son:{name:"Songhay",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?
1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(e){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(e){return Number(e!=1)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(e){return Number(e!=1)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(e){return Number(e!=1)}},te:{name:"Telugu",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(e){return Number(e>1)}},th:{name:"Thai",numbers:[1],plurals:function(e){return 0}},ti:{name:"Tigrinya",
numbers:[1,2],plurals:function(e){return Number(e>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(e){return Number(e!=1)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(e){return Number(e>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(e){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(e){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%10<=4&&(e%100<10||e%100>=20))?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(e){return Number(e!=
1)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(e){return Number(e>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(e){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(e){return Number(e>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(e){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(e){return Number(e!=1)}},zh:{name:"Chinese",numbers:[1],plurals:function(e){return 0}}},addRule:function(e,t){_.rules[e]=t},setCurrentLng:function(e){if(!_.currentRule||_.currentRule.lng!==
e){var t=e.split("-");_.currentRule={lng:e,rule:_.rules[t[0]]}}},get:function(e,t){function r(t,n){var r;_.currentRule&&_.currentRule.lng===e?r=_.currentRule.rule:r=_.rules[t];if(r){var i=r.plurals(n),s=r.numbers[i];return r.numbers.length===2&&(r.numbers[0]===1&&(s===2?s=-1:s===1&&(s=1))),s}return n===1?"1":"-1"}var n=e.split("-");return r(n[0],t)}},D={},P=function(e,t){D[e]=t},H=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=
[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,r){var i=1,s=n.length,o="",u,a=[],f,l,c,h,p,d;for(f=0;f<s;f++){o=e(n[f]);if(o==="string")a.push(n[f]);else if(o==="array"){c=n[f];if(c[2]){u=r[i];for(l=0;l<c[2].length;l++){if(!u.hasOwnProperty(c[2][l]))throw H('[sprintf] property "%s" does not exist',c[2][l]);u=u[c[2][l]]}}else c[1]?
u=r[c[1]]:u=r[i++];if(/[^s]/.test(c[8])&&e(u)!="number")throw H("[sprintf] expecting number but found %s",e(u));switch(c[8]){case "b":u=u.toString(2);break;case "c":u=String.fromCharCode(u);break;case "d":u=parseInt(u,10);break;case "e":u=c[7]?u.toExponential(c[7]):u.toExponential();break;case "f":u=c[7]?parseFloat(u).toFixed(c[7]):parseFloat(u);break;case "o":u=u.toString(8);break;case "s":u=(u=String(u))&&c[7]?u.substring(0,c[7]):u;break;case "u":u=Math.abs(u);break;case "x":u=u.toString(16);break;
case "X":u=u.toString(16).toUpperCase()}u=/[def]/.test(c[8])&&(c[3]&&u>=0)?"+"+u:u,p=c[4]?c[4]=="0"?"0":c[4].charAt(1):" ",d=c[6]-String(u).length,h=c[6]?t(p,d):"",a.push(c[5]?u+h:h+u)}}return a.join("")},n.cache={},n.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw"[sprintf] huh?";if(n[2]){i|=
1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw"[sprintf] huh?";s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw"[sprintf] huh?";s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(n)}t=t.substring(n[0].length)}return r},n}(),B=function(e,t){return t.unshift(e),H.apply(null,t)};P("sprintf",function(e,
t,n){return n.sprintf?Object.prototype.toString.apply(n.sprintf)==="[object Array]"?B(e,n.sprintf):typeof n.sprintf=="object"?H(e,n.sprintf):e:e}),n.init=d,n.setLng=w,n.preload=v,n.addResourceBundle=m,n.loadNamespace=y,n.loadNamespaces=b,n.setDefaultNamespace=g,n.t=L,n.translate=L,n.detectLanguage=p.detectLanguage,n.pluralExtensions=_,n.sync=M,n.functions=p,n.lng=E,n.addPostProcessor=P,n.options=u})();(function(){function getSqDist(p1,p2){var dx=p1.x-p2.x,dy=p1.y-p2.y;return dx*dx+dy*dy}function getSqSegDist(p,p1,p2){var x=p1.x,y=p1.y,dx=p2.x-x,dy=p2.y-y;if(dx!==0||dy!==0){var t=((p.x-x)*dx+(p.y-y)*dy)/(dx*dx+dy*dy);if(t>1){x=p2.x;y=p2.y}else if(t>0){x+=dx*t;y+=dy*t}}dx=p.x-x;dy=p.y-y;return dx*dx+dy*dy}function simplifyRadialDist(points,sqTolerance){var prevPoint=points[0],newPoints=[prevPoint],point;for(var i=1,len=points.length;i<len;i++){point=points[i];if(getSqDist(point,prevPoint)>sqTolerance){newPoints.push(point);
prevPoint=point}}if(prevPoint!==point)newPoints.push(point);return newPoints}function simplifyDouglasPeucker(points,sqTolerance){var len=points.length,MarkerArray=typeof Uint8Array!=="undefined"?Uint8Array:Array,markers=new MarkerArray(len),first=0,last=len-1,stack=[],newPoints=[],i,maxSqDist,sqDist,index;markers[first]=markers[last]=1;while(last){maxSqDist=0;for(i=first+1;i<last;i++){sqDist=getSqSegDist(points[i],points[first],points[last]);if(sqDist>maxSqDist){index=i;maxSqDist=sqDist}}if(maxSqDist>
sqTolerance){markers[index]=1;stack.push(first,index,index,last)}last=stack.pop();first=stack.pop()}for(i=0;i<len;i++)if(markers[i])newPoints.push(points[i]);return newPoints}function simplify(points,tolerance,highestQuality){if(points.length<=1)return points;var sqTolerance=tolerance!==undefined?tolerance*tolerance:1;points=highestQuality?points:simplifyRadialDist(points,sqTolerance);points=simplifyDouglasPeucker(points,sqTolerance);return points}window.simplify=simplify})();!function(a,b){var c,d,e,f="._tap",g="._tapActive",h="tap",i="clientX clientY screenX screenY pageX pageY".split(" "),j={count:0,event:0},k=function(a,c){var d=c.originalEvent,e=b.Event(d);e.type=a;for(var f=0,g=i.length;g>f;f++)e[i[f]]=c[i[f]];return e},l=function(a){if(a.isTrigger)return!1;var c=j.event,d=Math.abs(a.pageX-c.pageX),e=Math.abs(a.pageY-c.pageY),f=Math.max(d,e);return a.timeStamp-c.timeStamp<b.tap.TIME_DELTA&&(f<b.tap.POSITION_DELTA&&((!c.touches||1===j.count)&&o.isTracking))},m=function(a){if(!e)return!1;
var c=Math.abs(a.pageX-e.pageX),d=Math.abs(a.pageY-e.pageY),f=Math.max(c,d);return Math.abs(a.timeStamp-e.timeStamp)<750&&f<b.tap.POSITION_DELTA},n=function(a){if(0===a.type.indexOf("touch")){a.touches=a.originalEvent.changedTouches;for(var b=a.touches[0],c=0,d=i.length;d>c;c++)a[i[c]]=b[i[c]]}a.timeStamp=Date.now?Date.now():+new Date},o={isEnabled:!1,isTracking:!1,enable:function(){!$.event.special.tap&&(o.isEnabled||(o.isEnabled=!0,c=b(a.body).on("touchstart"+f,o.onStart).on("mousedown"+f,o.onStart).on("click"+
f,o.onClick)))},disable:function(){o.isEnabled&&(o.isEnabled=!1,c.off(f))},onStart:function(a){a.isTrigger||(n(a),(!b.tap.LEFT_BUTTON_ONLY||(a.touches||1===a.which))&&(a.touches&&(j.count=a.touches.length),o.isTracking||(a.touches||!m(a))&&(o.isTracking=!0,j.event=a,a.touches?(e=a,c.on("touchend"+f+g,o.onEnd).on("touchcancel"+f+g,o.onCancel)):c.on("mouseup"+f+g,o.onEnd))))},onEnd:function(a){var c;a.isTrigger||(n(a),l(a)&&(c=k(h,a),d=c,b(j.event.target).trigger(c)),o.onCancel(a))},onCancel:function(a){a&&
("touchcancel"===a.type&&a.preventDefault()),o.isTracking=!1,c.off(g)},onClick:function(a){return!a.isTrigger&&(d&&(d.isDefaultPrevented()&&(d.target===a.target&&(d.pageX===a.pageX&&(d.pageY===a.pageY&&a.timeStamp-d.timeStamp<750)))))?(d=null,!1):void 0}};b(a).ready(o.enable),b.tap={POSITION_DELTA:10,TIME_DELTA:400,LEFT_BUTTON_ONLY:!0}}(document,jQuery);var y=self,G=y.BC;(function(){function a(a){e?e.push(a):setTimeout(a,0)}var g={version:"0.7.2.0",isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},Ad:function(a){return null===a||void 0===a},vE:function(a){return null!==a&&void 0!==a}},e=[];y.attachEvent&&y.attachEvent("onload",function(){if(e){var a=e;e=null;for(var b=0,k=a.length;b<k;b++)a[b]()}});G||(y.BC=G={init:a,ready:a});for(var d in g)G[d]=g[d]})();Object.Rc="Object";Object.hg=null;Object.RD=function(a){for(var g in a)delete a[g]};
Object.Ip=function(a,g){return void 0!==a[g]};Object.keys?Object.gA=function(a){return Object.keys(a).length}:(Object.keys=function(a){var g=[],e;for(e in a)g.push(e);return g},Object.gA=function(a){var g=0,e;for(e in a)g++;return g});Boolean.Rc="Boolean";Boolean.parse=function(a){return"true"==a.toLowerCase()};Number.Rc="Number";
Number.parse=function(a){return a&&a.length?0<=a.indexOf(".")||(0<=a.indexOf("e")||((1>a.length?0:"f"==a.substr(a.length-1))||(1>a.length?0:"F"==a.substr(a.length-1))))?parseFloat(a):parseInt(a,10):0};Number.prototype.format=function(a){return G.Ad(a)||(0==a.length||"i"==a)?this.toString():R(this,a,!1)};Number.prototype.cv=function(a){return G.Ad(a)||(0==a.length||"i"==a)?this.toLocaleString():R(this,a,!0)};
Number.An=function(a,g,e,d){var c=null;e=a.indexOf(e);0<e&&(c=a.substr(e),a=a.substr(0,e));(e=S(a,"-"))&&(a=a.substr(1));var b=0,k=g[b];if(a.length<k)return c?a+c:a;for(var f=a.length,n="",l=!1;!l;){var p=k,m=f-p;0>m&&(k+=m,p+=m,m=0,l=!0);if(!p)break;m=a.substr(m,p);n=n.length?m+d+n:m;f-=p;b<g.length-1&&(b++,k=g[b])}e&&(n="-"+n);return c?n+c:n};
function R(a,g,e){e=e?G.yw.tD.numberFormat:G.yw.zD.numberFormat;var d="",c=-1;1<g.length&&(c=parseInt(g.substr(1)));g=g.charAt(0);switch(g){case "d":case "D":d=parseInt(Math.abs(a)).toString();-1!=c&&(d=T(d,c));0>a&&(d="-"+d);break;case "x":case "X":d=parseInt(Math.abs(a)).toString(16);"X"==g&&(d=d.toUpperCase());-1!=c&&(d=T(d,c));break;case "e":case "E":d=-1==c?a.toExponential():a.toExponential(c);"E"==g&&(d=d.toUpperCase());break;case "f":case "F":case "n":case "N":-1==c&&(c=e.EE);d=a.toFixed(c).toString();
c&&("."!=e.jv&&(c=d.indexOf("."),d=d.substr(0,c)+e.jv+d.substr(c+1)));if("n"==g||"N"==g)d=Number.An(d,e.GE,e.jv,e.FE);break;case "c":case "C":-1==c&&(c=e.YD);d=Math.abs(a).toFixed(c).toString();c&&("."!=e.Bt&&(c=d.indexOf("."),d=d.substr(0,c)+e.Bt+d.substr(c+1)));d=Number.An(d,e.$D,e.Bt,e.ZD);d=0>a?String.format(e.aE,d):String.format(e.bE,d);break;case "p":case "P":-1==c&&(c=e.IE),d=(100*Math.abs(a)).toFixed(c).toString(),c&&("."!=e.tv&&(c=d.indexOf("."),d=d.substr(0,c)+e.tv+d.substr(c+1))),d=Number.An(d,
e.KE,e.tv,e.JE),d=0>a?String.format(e.LE,d):String.format(e.ME,d)}return d}String.Rc="String";String.Bw="";String.bz=function(a,g,e){e&&(a&&(a=a.toUpperCase()),g&&(g=g.toUpperCase()));a=a||"";g=g||"";return a==g?0:a<g?-1:1};String.concat=function(){return 2===arguments.length?arguments[0]+arguments[1]:Array.prototype.join.call(arguments,"")};String.Qo=function(a,g,e){return 0==String.bz(a,g,e)};
String._format=function(a,g,e){String.ts||(String.ts=/(\{[^\}^\{]+\})/g);return a.replace(String.ts,function(a,c){var b=g[parseInt(c.substr(1))+1];if(G.Ad(b))return"";if(b.format){var k=null,f=c.indexOf(":");0<f&&(k=c.substring(f+1,c.length-1));return e?b.cv(k):b.format(k)}return e?b.toLocaleString():b.toString()})};String.format=function(a){return String._format(a,arguments,!1)};String.Pz=function(a,g){for(var e=a,d=1;d<g;d++)e+=a;return e};
String.prototype.ee=function(a,g){return g?a?this.substr(0,a)+g+this.substr(a):g+this:this};String.Fp=function(a){return!a||!a.length};String.cv=function(a){return String._format(a,arguments,!0)};function T(a,g){return a.length<g?String.Pz("0",g-a.length)+a:a}String.prototype.remove=function(a,g){return!g||a+g>this.length?this.substr(0,a):this.substr(0,a)+this.substr(a+g)};String.prototype.replaceAll=function(a,g){return this.split(a).join(g||"")};
function S(a,g){return g.length?g.length>a.length?!1:a.substr(0,g.length)==g:!0}String.prototype.trim||(String.prototype.trim=function(){return this.replace(/\s*$/,"").replace(/^\s*/,"")});Array.Rc="Array";Array.qk=[G.hk];Array.prototype.add=function(a){this.push(a)};Array.prototype.addRange=function(a){this.push.apply(this,a)};Array.prototype.clear=function(){this.length=0};Array.prototype.clone=function(){return 1===this.length?[this[0]]:Array.apply(null,this)};
Array.prototype.contains=function(a){return 0<=this.indexOf(a)};function U(a){return a.length?a[a.LD?0:a.length-1]:null}Array.prototype.every||(Array.prototype.every=function(a,g){for(var e=this.length,d=0;d<e;d++)if(d in this&&!a.call(g,this[d],d,this))return!1;return!0});Array.prototype.filter||(Array.prototype.filter=function(a,g){for(var e=this.length,d=[],c=0;c<e;c++)if(c in this){var b=this[c];a.call(g,b,c,this)&&d.push(b)}return d});
Array.prototype.forEach||(Array.prototype.forEach=function(a,g){for(var e=this.length,d=0;d<e;d++)d in this&&a.call(g,this[d],d,this)});Array.prototype.Jc=function(){return new G.$j(this)};Array.prototype.index=function(a,g){for(var e=this.length,d={},c=0;c<e;c++)if(c in this){var b=a.call(g,this[c],c);String.Fp(b)||(d[b]=this[c])}return d};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,g){var e=this.length;if(e)for(var d=g||0;d<e;d++)if(this[d]===a)return d;return-1});
Array.prototype.ee=function(a,g){this.splice(a,0,g)};Array.prototype.map||(Array.prototype.map=function(a,g){for(var e=this.length,d=Array(e),c=0;c<e;c++)c in this&&(d[c]=a.call(g,this[c],c,this));return d});Array.parse=function(a){return eval("("+a+")")};Array.prototype.remove=function(a){a=this.indexOf(a);return 0<=a?(this.splice(a,1),!0):!1};Array.prototype.some||(Array.prototype.some=function(a,g){for(var e=this.length,d=0;d<e;d++)if(d in this&&a.call(g,this[d],d,this))return!0;return!1});
Array.toArray=function(a){return Array.prototype.slice.call(a)};RegExp.Rc="RegExp";RegExp.parse=function(a){if(S(a,"/")){var g=a.lastIndexOf("/");if(1<g)return RegExp(a.substring(1,g),a.substr(g+1))}return null};Error.Rc="Error";
Error.UD=function(a,g,e){a=Error(a);if(g)for(var d in g)a[d]=g[d];e&&(a.nE=e);if(!(G.Ad(a.stack)||(G.Ad(a.fileName)||G.Ad(a.lineNumber)))){g=a.stack.split("\n");e=g[0];for(d=a.fileName+":"+a.lineNumber;!G.Ad(e)&&-1===e.indexOf(d);)g.shift(),e=g[0];e=g[1];isNullOrUndefined(e)||(e=e.match(/@(.*):(\d+)$/),G.Ad(e)||(g.shift(),a.stack=g.join("\n"),a.fileName=e[1],a.lineNumber=parseInt(e[2])))}return a};G.Md=y.Md||function(){};G.Md.Rc="Debug";
G.Md.writeln||(G.Md.writeln=function(a){y.console?y.console.debug?y.console.debug(a):y.console.log&&y.console.log(a):y.opera&&(y.opera.postError&&y.opera.postError(a))});G.Md.ns=function(a){G.Md.writeln(a);eval("debugger;")};G.Md.assert=function(a,g){a||(g="Assert failed: "+g,confirm(g+"\r\n\r\nBreak into debugger?")&&G.Md.ns(g))};G.Md.fail=function(a){G.Md.ns(a)};y.Ka=Function;y.Ka.Rc="Type";y.Fr=function(a){this.Rc=a};y.Fr.prototype={Vx:!0,getName:function(){return this.Rc}};
y.Ka.hm=function(a){y.qn||(y.qn={});y.Qr||(y.Qr=[]);if(!y.qn[a]){for(var g=self,e=a.split("."),d=0;d<e.length;d++){var c=e[d],b=g[c];b||(g[c]=b=new y.Fr(e.slice(0,d+1).join(".")),0==d&&y.Qr.add(b));g=b}y.qn[a]=g}};y.Ka.prototype.ma=function(a,g,e){this.prototype.constructor=this;this.Rc=a;this.Gr=!0;this.hg=g||Object;g&&(this.pk=!0);if(e){this.qk=[];for(var d=2;d<arguments.length;d++)e=arguments[d],this.qk.add(e)}};function V(a,g){a.Rc=g;a.Mr=!0}
y.Ka.prototype.zq=function(){if(this.pk){var a=this.hg;a.pk&&a.zq();for(var g in a.prototype){var e=a.prototype[g];this.prototype[g]||(this.prototype[g]=e)}delete this.pk}};y.Ka.prototype.HB||(y.Ka.prototype.HB=y.Ka.prototype.zq);function W(a,g){return G.Ad(g)?!1:a==Object||g instanceof a?!0:aa(a,y.Ka.eA(g))}
function aa(a,g){if(a==Object||a==g)return!0;if(a.Gr)for(var e=g.hg;e;){if(a==e)return!0;e=e.hg}else if(a.Mr){var d=g.qk;if(d&&d.contains(a))return!0;for(e=g.hg;e;){if((d=e.qk)&&d.contains(a))return!0;e=e.hg}}return!1}y.Ka.qE=function(a){return!0==a.Gr};y.Ka.rE=function(a){return!0==a.Tx};y.Ka.sE=function(a){return!0==a.Tx&&!0==a.Ir};y.Ka.tE=function(a){return!0==a.Mr};y.Ka.uE=function(a){return!0==a.Vx};y.Ka.OD=function(a,g){return W(g,a)};y.Ka.RE=function(a,g){return W(g,a)?a:null};
y.Ka.eA=function(a){var g=null;try{g=a.constructor}catch(e){}g&&g.Rc||(g=Object);return g};y.Ka.uA=function(a){if(!a)return null;y.Ka.rn||(y.Ka.rn={});var g=y.Ka.rn[a];g||(g=eval(a),y.Ka.rn[a]=g);return g};y.Ka.parse=function(a){return y.Ka.uA(a)};G.Um=function(){};G.Um.ma("Enum");
G.Um.parse=function(a,g){var e=a.prototype;if(a.Ir){for(var d=g.split("|"),c=0,b=!0,k=d.length-1;0<=k;k--){var f=d[k].trim(),n=!1;for(l in e)if(l===f){c|=e[l];n=!0;break}if(!n){b=!1;break}}if(b)return c}else for(var l in e)if(l===g)return e[l];throw"Invalid Enumeration Value";};
G.Um.JD=function(a){var g=this.prototype;if(this.Ir&&0!==a){var e=[];for(d in g)g[d]&a&&(e.length&&e.add(" | "),e.add(d));if(!e.length)throw"Invalid Enumeration Value";return e.join("")}for(var d in g)if(g[d]===a)return d;throw"Invalid Enumeration Value";};G.Hb=function(){};G.Hb.ma("Delegate");G.Hb.empty=function(){};G.Hb.Zx=function(a,g,e){for(var d=0;d<a.length;d+=2)if(a[d]===g&&a[d+1]===e)return!0;return!1};
G.Hb._create=function(a){function g(){if(2==a.length)return a[1].apply(a[0],arguments);for(var e=a.clone(),d=0;d<e.length;d+=2)G.Hb.Zx(a,e[d],e[d+1])&&e[d+1].apply(e[d],arguments);return null}g.Ud=a;return g};G.Hb.create=function(a,g){return a?G.Hb._create([a,g]):g};G.Hb.SD=function(a,g){return a?g?G.Hb._create((a.Ud?a.Ud:[null,a]).concat(g.Ud?g.Ud:[null,g])):a.Ud?a:G.Hb.create(null,a):g.Ud?g:G.Hb.create(null,g)};
G.Hb.remove=function(a,g){if(!a||a===g)return null;if(!g)return a;var e=a.Ud,d=null,c;g.Ud?(d=g.Ud[0],c=g.Ud[1]):c=g;for(var b=0;b<e.length;b+=2)if(e[b]===d&&e[b+1]===c){if(2==e.length)return null;e.splice(b,2);return G.Hb._create(e)}return a};G.Hb.VD=function(a,g,e){e=e||"__"+(new Date).valueOf();self[e]=g?a:function(){try{delete self[e]}catch(d){self[e]=void 0}a.apply(null,arguments)};return e};G.Hb.dE=function(a){delete self[a]};G.Hb.QD=function(a){self[a]=G.Hb.empty};G.Zc=function(){};
G.Zc.prototype={Ve:null};G.Zc.Jc=function(a){return a?a.Jc?a.Jc():new G.$j(a):null};V(G.Zc,"IEnumerator");G.hk=function(){};G.hk.prototype={Jc:null};V(G.hk,"IEnumerable");G.$j=function(a){this.Ur=a;this.Gn=-1;this.current=null};G.$j.prototype={Ve:function(){this.Gn++;this.current=this.Ur[this.Gn];return this.Gn<this.Ur.length}};G.$j.ma("ArrayEnumerator",null,G.Zc);G.er=function(){};G.er.prototype={fl:null};V(G.er,"IDisposable");G.xr=function(a){this.Kk=G.Ad(a)?[]:[a];this.isEmpty=0==this.Kk.length};
G.xr.prototype={append:function(a){G.Ad(a)||(this.Kk.add(a),this.isEmpty=!1);return this},clear:function(){this.Kk=[];this.isEmpty=!0},toString:function(a){return this.Kk.join(a||"")}};G.xr.ma("StringBuilder");G.fk=function(){};G.fk.ma("EventArgs");G.fk.Bw=new G.fk;y.XMLHttpRequest||(y.XMLHttpRequest=function(){for(var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"],g=0;g<a.length;g++)try{return new ActiveXObject(a[g])}catch(e){}return null});
G.Xq=function(){var a=G.Xq;a.pk&&a.zq();a.hg.apply(this);this.cancel=!1};G.Xq.ma("CancelEventArgs",G.fk);G.Ox=function(a){this.first=a};G.Ox.ma("Tuple");G.kc=function(a){this.ho=a;this.Ie=null};G.kc.prototype={Dl:function(){this.Ie=G.kc.Xr(this.Ie);return this.ho},Tv:function(a){this.ho!==a&&((this.ho=a,a=this.Ie)&&(this.Ie=null,G.kc.zs(a)))}};G.kc.Un=[];G.kc.oy={fl:function(){G.kc.Un.pop()}};G.kc.PE=function(a){G.kc.Un.push(a);return G.kc.oy};
G.kc.Xr=function(a){var g=G.kc.Un,e=g.length;if(e){a=a||[];for(var d=0;d<e;d++){var c=g[d];a.contains(c)||a.push(c)}return a}return null};G.kc.zs=function(a){for(var g=0,e=a.length;g<e;g++)a[g].pE()};G.kc.ma("Observable");G.ir=function(a){this.rf=a||[];this.Ie=null};
G.ir.prototype={add:function(a){this.rf.push(a);X(this)},clear:function(){this.rf.clear();X(this)},contains:function(a){return this.rf.contains(a)},Jc:function(){this.Ie=G.kc.Xr(this.Ie);return this.rf.Jc()},indexOf:function(a){return this.rf.indexOf(a)},ee:function(a,g){this.rf.ee(a,g);X(this)},remove:function(a){return this.rf.remove(a)?(X(this),!0):!1},toArray:function(){return this.rf}};function X(a){var g=a.Ie;g&&(a.Ie=null,G.kc.zs(g))}G.ir.ma("ObservableCollection",null,G.hk);G.Qw=function(){};
V(G.Qw,"IApplication");G.Rw=function(){};V(G.Rw,"IContainer");G.Uw=function(){};V(G.Uw,"IObjectFactory");G.Sw=function(){};V(G.Sw,"IEventManager");G.Tw=function(){};V(G.Tw,"IInitializable");self.Ka.hm("XODText");self.Ka.hm("XODTextOld");XODText.ob=function(){};XODText.cn=function(a,g){this.Gs=a;this.gb=Array(8);this.gb[0]=g[0];this.gb[1]=g[1];this.gb[2]=g[2];this.gb[3]=g[3];this.gb[4]=g[4];this.gb[5]=g[5];this.gb[6]=g[6];this.gb[7]=g[7]};
XODText.cn.prototype={Gs:null,gb:null,Ob:function(){for(var a=Array(8),g=0;8>g;g++)a[g]=this.gb[g];return a}};XODText.Up=function(a){this.Px=this.width=a};XODText.Up.prototype={width:0,Px:0};XODText.Xl=function(){};XODText.Xl.prototype={A:function(){},addColorStop:function(){}};XODText.ln=function(a){this.xh=[];this.as={};var g=new XODText.Ja;g.set(1,0,0,1,0,0);this.xh.push(g);this.Dn=a};
$.extend(XODText.ln.prototype,{Dn:null,Ns:0,Ri:0,Tn:0,hA:function(a){return this.as[a]},KD:function(a,g){var e=new XODText.oa;e.zd(a);g.jw(e);return e.width()},qh:function(a){a=a.split(" ")[1];console.assert(Object.Ip(this.Dn,a),"Font "+a+" file not found");return this.Dn[a]},Zs:function(a,g){var e=new XODText.Ja,d=a.Sn,c=a.Hs;e.set(c/d,0,0,c/d,0,0);e.jw(g)},font:null,save:function(){var a=new XODText.Ja;a.Fl(U(this.xh));this.xh.push(a)},restore:function(){this.xh.pop()},transform:function(a,g,e,
d,c,b){var k=new XODText.Ja;k.set(a,g,e,d,c,b);U(this.xh).concat(k)},translate:function(a,g){this.Ri=a;this.Tn=g},fillText:function(a,g,e){var d=this.qh(this.font);this.tk(a,g,e,d)},tk:function(a,g,e,d){if(!this.oh)for(this.translate(g,e),g=0,e=a.length;g<e;g++){var c=a.charAt(g),b=d.ju(c.toString());this.Zs(d,b);b.x1+=this.Ri;b.x2+=this.Ri;b.y1+=this.Tn;b.y2+=this.Tn;this.Ri+=b.width();var k=Array(8);k[0]=b.x1;k[1]=b.y1;k[2]=b.x2;k[3]=b.y1;k[4]=b.x2;k[5]=b.y2;k[6]=b.x1;k[7]=b.y2;U(this.xh).kw(k);
this.as[this.Ns]=new XODText.cn(c,k);this.Ns++}},measureText:function(a){var g=this.qh(this.font);return this.Ks(a,g)},Ks:function(a,g){var e=0;if(!this.oh)for(var d=0,c=a.length;d<c;d++){var b=g.ju(a.charAt(d).toString());this.Zs(g,b);e+=b.width()}return new XODText.Up(e)},lineWidth:0,lineCap:null,strokeStyle:null,fillStyle:null,globalAlpha:0,createLinearGradient:function(){return new XODText.Xl},createRadialGradient:function(){return new XODText.Xl},createPattern:function(){},addColorStop:function(){},
beginPath:function(){},closePath:function(){},fill:function(){},stroke:function(){},clip:function(){},moveTo:function(){},lineTo:function(){},quadraticCurveTo:function(){},bezierCurveTo:function(){},miterLimit:0,lineJoin:null,drawImage:function(){},setTransform:function(){},getImageData:function(){return new XODText.an},putImageData:function(){},scale:function(){},S:function(){this.save()},r:function(){this.restore()},t:function(a,g,e,d,c,b){this.transform(a,g,e,d,c,b)},T:function(a,g){this.translate(a,
g)},w:0,c:null,s:null,f:null,a:0,L:function(a,g,e,d){return this.createLinearGradient(a,g,e,d)},R:function(a,g,e,d,c,b){return this.createRadialGradient(a,g,e,d,c,b)},P:function(a,g){this.createPattern(a,g)},A:function(){},b:function(){this.beginPath()},z:function(){this.closePath()},F:function(){this.fill()},X:function(){this.stroke()},C:function(){this.clip()},M:function(a,g){this.moveTo(a,g)},l:function(a,g){this.lineTo(a,g)},q:function(a,g,e,d){this.quadraticCurveTo(a,g,e,d)},B:function(a,g,e,
d,c,b){this.bezierCurveTo(a,g,e,d,c,b)},n:null,x:function(a,g,e){var d=this.qh(this.n);this.tk(a,g,e,d)},m:function(a){var g=this.qh(this.n);return this.Ks(a,g)},i:0,j:null,I:function(a,g,e){this.drawImage(a,g,e)},Z:function(a,g,e,d,c,b){this.setTransform(a,g,e,d,c,b)},d:function(a,g,e,d){return this.getImageData(a,g,e,d)},D:function(a,g,e){this.putImageData(a,g,e)},e:function(a,g){this.scale(a,g)},fillTextCustom:function(a,g,e){var d=this.qh(this.font);this.tk(a,g,e,d)},xc:function(a,g,e){var d=
this.qh(this.n);this.tk(a,g,e,d)},cgb:function(){console.assert(!this.oh,"Custom Glyphs begin offset is incorrect");this.oh=!0},cge:function(){console.assert(this.oh,"Custom Glyphs end offset is incorrect");this.oh=!1},xw:function(a,g,e,d){d&&(1<a.length&&(a=a.substr(0,a.length-1)));g(a,g,e)},xcw:function(a,g,e,d){d&&(1<a.length&&(a=a.substr(0,a.length-1)));xc(a,g,e)},oh:!1});XODText.pf=function(){this.vh=[];this.fc=[];this.ta=[];this.gc=!1};
XODText.pf.prototype={clear:function(){this.Wa="";this.fc.clear();this.ta.clear();this.gc=!1},fb:function(){this.fc=[];this.ta=[];this.gc=!1},wk:function(a){for(var g="",e=0,d=0,c=0,b=0;e<a.length;)d=a.charCodeAt(e),9==d?(g+=String.fromCharCode(10),e++):128>d?(g+=String.fromCharCode(d),e++):191<d&&224>d?(c=a.charCodeAt(e+1),g+=String.fromCharCode((d&31)<<6|c&63),e+=2):(c=a.charCodeAt(e+1),b=a.charCodeAt(e+2),g+=String.fromCharCode((d&15)<<12|(c&63)<<6|b&63),e+=3);return g},ty:function(a,g){for(var e=
new XODText.Ya,d=G.Zc.Jc(a.split(","));d.Ve();){var c=d.current.split(":"),b=parseInt(c[0]),k=0;1<c.length&&(k=parseInt(c[1]));for(c=b;c<=b+k;c++){var f=g.hA(c);e.jo(f.Gs,f.Ob());this.fc.add(c);this.ta.addRange(f.Ob())}}return e},parse:function(a,g){var e=0,d=0,c=0;do{for(var b;a.advance();)if(b=a.Me(),"F"===b)a.vc();else if("P"===b)a.vc();else if("L"===b){a.vc();b=new XODText.kb;b.$n(e++);0<this.vh.length&&this.vh[this.vh.length-1].cC(b);this.vh.add(b);for(var k=G.Zc.Jc(a.Ag().split(" "));k.Ve();){var f=
k.current;if(0<b.Cg()){this.Wa+=" ";this.fc.add(-1);c++;var n=Array(8);b.kp().Ob(n);this.ta.addRange(n)}f=this.ty(f,g);f.$n(d++);f.zy(c);b.Ly(f);this.Wa+=f.Q;c+=f.Ne()}this.Wa+="\n";this.fc.add(-2);c++;console.assert(0<b.Cg(),"No words in line");0<b.Cg()&&(n=Array(8),b.kp().Ob(n),this.ta.addRange(n))}else console.assert("XML parser has encountered a symbol it can't process.");a.Go()}while(a.depth)},kq:function(a,g){try{var e=new window.qf(a);console.assert("TextData"===e.Me(),"XML parser has encountered a symbol it can't process.");
"TextData"===e.Me()&&(e.vc(),this.parse(e,g))}catch(d){console.warn("TextSelection has encountered an error: "+d.message);return}this.gc=!0},ready:function(){return this.gc},mj:function(){return this.vh.length?this.vh[0]:new XODText.kb},Dg:function(){return this.ta},Wa:"",fc:null,ta:null,gc:!1};XODText.kb=function(){this.Ua=[];this.Na=-1;this.lb=[];this.gb=Array(8);this.Gk=null};
XODText.kb.prototype={fb:function(){this.Na=this.ub=-1;this.lb=[]},La:function(a){return this.Na===a.Na},Cg:function(){return this.Ua.length},Tc:function(){return this.Ua.length?this.Ua[0]:new XODText.Ya},kp:function(){return this.Ua.length?this.Ua[this.Ua.length-1]:new XODText.Ya},Iu:function(a){return 0>a||a>=this.Cg()?new XODText.Ya:this.Ua[a]},Hf:function(){return null==this.Gk?new XODText.kb:this.Gk},cc:function(a){a.Qg(this.gb)},$n:function(a){this.Na=a},pl:function(){if(this.lb.length)return this.lb[0];
var a=new XODText.N,g=new XODText.N,e=this.Tc(),d=this.kp(),c=Array(8),b=Array(8);e.Nb(0,c);a.x=(c[0]+c[2]+c[4]+c[6])/4;a.y=(c[1]+c[3]+c[5]+c[7])/4;d.Nb(d.Ne()-1,b);g.x=(b[0]+b[2]+b[4]+b[6])/4;g.y=(b[1]+b[3]+b[5]+b[7])/4;0.01>Math.abs(a.x-g.x)&&(0.01>Math.abs(a.y-g.y)&&this.lb.add(0));a=Math.atan2(g.y-a.y,g.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.lb.add(a);return 0},Q:"",da:null,Na:0,lb:null,gb:null,Gk:null,cC:function(a){this.Gk=a},Ly:function(a){0<this.Ua.length&&this.Ua[this.Ua.length-1].dC(a);
this.Ua.add(a);var g=String.Fp(this.Q),e=Array(8);a.Ob(e);if(g)for(g=0;8>g;g++)this.gb[g]=e[g];else this.Q+=" ",XODText.Ra.Ik(this.gb,e,!1,0);this.Q+=a.Q}};XODText.Ya=function(){this.Rn=[];this.Na=this.pb=-1;this.gb=Array(8);this.Hk=null};
XODText.Ya.prototype={fb:function(){this.Na=this.pb=-1},La:function(a){return this.Na===a.Na},Ne:function(){return this.Rn.length},wd:function(){return this.Q.length},xd:function(){return this.Fs},zy:function(a){this.Fs=a},Uc:function(){return null==this.Hk?new XODText.Ya:this.Hk},Nb:function(a,g){for(var e=0;8>e;e++)g[e]=this.Rn[a][e]},Ob:function(a){for(var g=0;8>g;g++)a[g]=this.gb[g]},cc:function(a){var g=new XODText.oa;g.Qg(this.gb);a[0]=g.x1;a[1]=g.y1;a[2]=g.x2;a[3]=g.y2},$n:function(a){this.Na=
this.pb=a},pb:0,Q:"",da:null,Na:0,Fs:0,gb:null,Hk:null,jo:function(a,g){var e=String.Fp(this.Q);this.Q+=a;for(var d=Array(8),c=0;8>c;c++)d[c]=g[c];this.Rn.add(d);if(e)for(c=0;8>c;c++)this.gb[c]=d[c];else XODText.Ra.Ik(this.gb,d,!1,0)},dC:function(a){this.Hk=a}};XODTextOld.pf=function(){};
XODTextOld.pf.prototype={clear:function(){this.Ea.clear();this.Wa="";this.fc.clear();this.ta.clear();this.gc=!1},fb:function(){this.Ea=[];this.fc=[];this.ta=[];this.gc=!1},wk:function(a){for(var g="",e=0,d=0,c=0,b=0;e<a.length;)d=a.charCodeAt(e),9==d?(g+=String.fromCharCode(10),e++):128>d?(g+=String.fromCharCode(d),e++):191<d&&224>d?(c=a.charCodeAt(e+1),g+=String.fromCharCode((d&31)<<6|c&63),e+=2):(c=a.charCodeAt(e+1),b=a.charCodeAt(e+2),g+=String.fromCharCode((d&15)<<12|(c&63)<<6|b&63),e+=3);return g},
KA:function(a){this.Ea=[];this.fc=[];this.ta=[];this.gc=!1;try{var g=new window.qf(a);this.Wa="";g.vc();if(!g.advance())return;var e=g.Ag();this.Wa=e=this.wk(e);this.fc.clear();g.advance();for(var e=g.Ag(),d=e.split(","),c=G.Zc.Jc(d);c.Ve();){var b=c.current;try{var k=parseInt(b.trim());this.fc.add(k)}catch(f){}}this.Ea.clear();g.advance();for(var e=g.Ag(),d=e.split(","),n=G.Zc.Jc(d);n.Ve();){b=n.current;try{k=parseFloat(b.trim()),this.Ea.add(k)}catch(l){}}this.ta.clear();g.advance();e=g.Ag();d=e.split(",");
a=[];for(var g=[],e=0,p=G.Zc.Jc(d);p.Ve();){b=p.current;switch(b){case "Q":e=1;break;case "R":e=2;break;case "S":e=3;break;default:e=0}if(e)a.add(0),g.add(e);else try{k=parseFloat(b.trim()),a.add(k),g.add(e)}catch(m){return}}for(var e=0,q=a.length,r,u,s,v,p=b=d=0;p<q;){var w=g[p];if(0<w)e=w,++p,3===e&&(d=a[p],b=a[p+1],p+=2);else if(1===e)for(k=0;8>k;++k)this.ta.add(a[p++]);else 2===e?(r=a[p++],u=a[p++],s=a[p++],v=a[p++],this.ta.add(r),this.ta.add(u),this.ta.add(s),this.ta.add(u),this.ta.add(s),this.ta.add(v),
this.ta.add(r),this.ta.add(v)):3===e&&(r=a[p++],u=d,s=a[p++],v=b,this.ta.add(r),this.ta.add(u),this.ta.add(s),this.ta.add(u),this.ta.add(s),this.ta.add(v),this.ta.add(r),this.ta.add(v))}}catch(x){return}this.Wa.length&&(this.Wa.length===this.fc.length&&(8*this.Wa.length===this.ta.length&&(this.gc=!0)))},ready:function(){return this.gc},mj:function(){var a=new XODTextOld.kb;if(!this.Ea.length)return a.Vc(this.Ea,-1,this.Wa,this.ta,0),a;a.Vc(this.Ea,1,this.Wa,this.ta,1);return a},Dg:function(){return this.ta},
Ea:null,Wa:null,fc:null,ta:null,gc:!1};XODTextOld.kb=function(){};
XODTextOld.kb.prototype={fb:function(){this.ub=-1;this.Na=0;this.lb=[]},Vc:function(a,g,e,d,c){this.ub=g;this.Na=c;this.lb=[];this.$b=a;this.Q=e;this.da=d},La:function(a){return this.ub===a.ub},Cg:function(){return Math.abs(this.$b[this.ub])},Re:function(){return 0<this.$b[this.ub]},Tc:function(){var a=new XODTextOld.Ya;a.Vc(this.$b,this.ub+(this.Re()?6:10),this.ub,this.Q,this.da,1);return a},Iu:function(a){if(0>a||a>=this.Cg()){var g=new XODTextOld.Ya;g.Vc(this.$b,-1,-1,this.Q,this.da,0)}else{var e=
this.Re()?6:10,d=this.Re()?5:11,g=new XODTextOld.Ya;g.Vc(this.$b,this.ub+e+d*a,this.ub,this.Q,this.da,1+a)}return g},Hf:function(){var a=this.ub+parseInt(this.$b[this.ub+1]);if(a>=this.$b.length){var g=new XODTextOld.kb;g.Vc(this.$b,-1,this.Q,this.da,0)}else g=new XODTextOld.kb,g.Vc(this.$b,a,this.Q,this.da,this.Na+1);return g},cc:function(a){if(this.Re())a.x1=this.$b[this.ub+2+0],a.y1=this.$b[this.ub+2+1],a.x2=this.$b[this.ub+2+2],a.y2=this.$b[this.ub+2+3];else{for(var g=1.79769E308,e=XODText.ob.kf,
d=1.79769E308,c=XODText.ob.kf,b=0;4>b;++b)var k=this.$b[this.ub+2+2*b],f=this.$b[this.ub+2+2*b+1],g=Math.min(g,k),e=Math.max(e,k),d=Math.min(d,f),c=Math.max(c,f);a.x1=g;a.y1=d;a.x2=e;a.y2=c}},pl:function(){if(this.lb.length)return this.lb[0];var a=new XODText.N,g=new XODText.N,e=new XODTextOld.Ya;e.fb();var d=this.Tc(),c=new XODTextOld.Ya;c.fb();for(var b=this.Tc();!b.La(e);b=b.Uc())c=b;e=Array(8);b=Array(8);d.Nb(0,e);a.x=(e[0]+e[2]+e[4]+e[6])/4;a.y=(e[1]+e[3]+e[5]+e[7])/4;c.Nb(c.Ne()-1,b);g.x=(b[0]+
b[2]+b[4]+b[6])/4;g.y=(b[1]+b[3]+b[5]+b[7])/4;0.01>Math.abs(a.x-g.x)&&(0.01>Math.abs(a.y-g.y)&&this.lb.add(0));a=Math.atan2(g.y-a.y,g.x-a.x);a*=180/3.1415926;0>a&&(a+=360);this.lb.add(a);return 0},ub:0,$b:null,Q:null,da:null,Na:0,lb:null};XODTextOld.Ya=function(){};
XODTextOld.Ya.prototype={fb:function(){this.Ge=this.pb=-1;this.Na=0},Vc:function(a,g,e,d,c,b){this.pb=g;this.Ge=e;this.Ea=a;this.Q=d;this.da=c;this.Na=b},La:function(a){return this.pb===a.pb},Ne:function(){return parseInt(this.Ea[this.pb])},wd:function(){return parseInt(this.Ea[this.pb+2])},xd:function(){return parseInt(this.Ea[this.pb+1])},Re:function(){return 0<this.Ea[this.Ge]},kA:function(){return Math.abs(this.Ea[this.Ge])},Uc:function(){var a=this.Re(),g=a?5:11;this.pb>=this.Ge+(a?6:10)+(this.kA()-
1)*g?(a=new XODTextOld.Ya,a.Vc(this.Ea,-1,-1,this.Q,this.da,0)):(a=new XODTextOld.Ya,a.Vc(this.Ea,this.pb+g,this.Ge,this.Q,this.da,this.Na+1));return a},cA:function(a){var g=this.Ne();return 0>a||a>=g?-1:parseInt(this.Ea[this.pb+1])+a},Nb:function(a,g){var e=this.cA(a);if(!(0>e)){var d=new XODTextOld.kb;d.Vc(this.Ea,this.Ge,this.Q,this.da,0);if(d.Re()){var c=new XODText.oa;d.cc(c);d=c.y1<c.y2?c.y1:c.y2;c=c.y1>c.y2?c.y1:c.y2;e*=8;g[0]=this.da[e];g[1]=d;g[2]=this.da[e+2];g[3]=g[1];g[4]=this.da[e+4];
g[5]=c;g[6]=this.da[e+6];g[7]=g[5]}else for(e*=8,d=0;8>d;++d)g[d]=this.da[e+d]}},Ob:function(a){var g=new XODTextOld.kb;g.Vc(this.Ea,this.Ge,this.Q,this.da,0);if(g.Re()){var e=this.Ea[this.pb+3],d=this.Ea[this.pb+4];if(e>d){var c;c=e;e=d;d=c}c=new XODText.oa;g.cc(c);g=c.y1<c.y2?c.y1:c.y2;c=c.y1>c.y2?c.y1:c.y2;a[0]=e;a[1]=g;a[2]=d;a[3]=g;a[4]=d;a[5]=c;a[6]=e;a[7]=c}else for(e=this.pb+3,d=0;8>d;++d)a[d]=this.Ea[e+d]},cc:function(a){var g=new XODTextOld.kb;g.Vc(this.Ea,this.Ge,this.Q,this.da,0);if(g.Re()){var e=
this.Ea[this.pb+3],d=this.Ea[this.pb+4];if(e>d){var c;c=e;e=d;d=c}c=new XODText.oa;g.cc(c);g=c.y1<c.y2?c.y1:c.y2;c=c.y1>c.y2?c.y1:c.y2}else{e=1.79769E308;d=XODText.ob.kf;g=1.79769E308;c=XODText.ob.kf;for(var b=this.pb+3,k=0;4>k;++k){var f=this.Ea[b+2*k],n=this.Ea[b+2*k+1],e=Math.min(e,f),d=Math.max(d,f),g=Math.min(g,n);c=Math.max(c,n)}}a[0]=e;a[1]=g;a[2]=d;a[3]=c},pb:0,Ge:0,Ea:null,Q:null,da:null,Na:0};XODText.oa=function(){this.y2=this.x2=this.y1=this.x1=0};
XODText.oa.prototype={Va:function(a,g,e,d){this.x1=a;this.y1=g;this.x2=e;this.y2=d},zd:function(a){this.x1=a.x1;this.y1=a.y1;this.x2=a.x2;this.y2=a.y2},normalize:function(){if(this.x1>this.x2){var a;a=this.x1;this.x1=this.x2;this.x2=a}this.y1>this.y2&&(a=this.y1,this.y1=this.y2,this.y2=a)},set:function(a,g,e,d){this.x1=a;this.y1=g;this.x2=e;this.y2=d},Ej:function(a){return this.x2<a.x1||(this.x1>a.x2||(this.y2<a.y1||this.y1>a.y2))},width:function(){var a=this.x2-this.x1;return 0>a?-a:a},height:function(){var a=
this.y2-this.y1;return 0>a?-a:a},Qg:function(a){for(var g=1.79769E308,e=XODText.ob.kf,d=1.79769E308,c=XODText.ob.kf,b=0;4>b;++b)var k=a[2*b],f=a[2*b+1],g=Math.min(g,k),e=Math.max(e,k),d=Math.min(d,f),c=Math.max(c,f);this.x1=g;this.y1=d;this.x2=e;this.y2=c},Hl:function(a,g){var e,d,c,b,k,f,n,l;a.x1<a.x2?(e=a.x1,d=a.x2):(e=a.x2,d=a.x1);a.y1<a.y2?(c=a.y1,b=a.y2):(c=a.y2,b=a.y1);g.x1<g.x2?(k=g.x1,f=g.x2):(k=g.x2,f=g.x1);g.y1<g.y2?(n=g.y1,l=g.y2):(n=g.y2,l=g.y1);if(d<k||(f<e||(b<n||l<c)))return this.x1=
this.x2=this.y1=this.y2=0,!1;this.x1=e<k?k:e;this.x2=d<f?d:f;this.y1=c<n?n:c;this.y2=b<l?b:l;return this.x1===this.x2||this.y1===this.y2?(this.x1=this.x2=this.y1=this.y2=0,!1):!0},IA:function(a){this.hy(a,a)},hy:function(a,g){this.normalize();this.x1-=a;this.x2+=a;this.y1-=g;this.y2+=g},union:function(a){a.x1<this.x1&&(this.x1=a.x1);a.y1<this.y1&&(this.y1=a.y1);a.x2>this.x2&&(this.x2=a.x2);a.y2>this.y2&&(this.y2=a.y2)},contains:function(a,g){if(this.x1<this.x2){if(a<this.x1||a>this.x2)return!1}else if(a<
this.x2||a>this.x1)return!1;if(this.y1<this.y2){if(g<this.y1||g>this.y2)return!1}else if(g<this.y2||g>this.y1)return!1;return!0},x1:0,y1:0,x2:0,y2:0};XODText.N=function(){this.y=this.x=0};XODText.N.La=function(a,g){return a.x===g.x&&a.y===g.y};XODText.N.CE=function(a,g){return a!==g};XODText.N.Pt=function(a){var g=new XODText.N;g.x=a.x/2;g.y=a.y/2;return g};XODText.N.multiply=function(a,g){var e=new XODText.N;e.init(a.x*g,a.y*g);return e};
XODText.N.Gg=function(a,g){var e=new XODText.N;e.init(a.x-g.x,a.y-g.y);return e};XODText.N.Kj=function(a,g){var e=new XODText.N;e.init(a.x+g.x,a.y+g.y);return e};XODText.N.distance=function(a,g){var e=a.x-g.x,d=a.y-g.y;return Math.sqrt(e*e+d*d)};
XODText.N.prototype={x:0,y:0,init:function(a,g){this.x=a;this.y=g},Gl:function(a){this.x=a.x;this.y=a.y},add:function(a){this.x+=a.x;this.y+=a.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);return a?(this.x/=a,this.y/=a,!0):!1},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Lb:function(a){return this.x*a.x+this.y*a.y}};XODText.ob.ma("XODText.doubleData");XODText.cn.ma("XODText.Letter");XODText.Up.ma("XODText.nsIDOMTextMetrics");XODText.Xl.ma("XODText.nsIDOMCanvasGradient");
XODText.ln.ma("XODText.SelectionContext");XODText.pf.ma("XODText.SelectionInfo");XODText.kb.ma("XODText.Line");XODText.Ya.ma("XODText.Word");XODText.oa.ma("XODText.SelectionRect");XODText.N.ma("XODText.SelectionPoint");XODText.ob.ze=1.79769E308;XODText.ob.kf=-1.79769E308;self.Ka.hm("XODText");XODText.xk=function(){};XODText.Wb=function(a,g){this.x=a;this.y=g};XODText.Wb.prototype={x:0,y:0};XODText.Ra=function(){this.qe=this.oe=this.pi=this.oi=this.y2=this.x2=this.y1=this.x1=0};
XODText.Ra.Ik=function(a,g,e,d){var c=new XODText.N;c.init(0,0);var b=new XODText.N;b.init(0,0);var k=new XODText.N;k.init(0,0);var f=new XODText.N;f.init(0,0);for(var n=0;4>n;++n){XODText.Ra.Gu(c,a,n);if(!c.normalize()&&e)return!1;n?2===n?k=XODText.N.Gg(k,c):1===n?f=XODText.N.Kj(f,c):3===n&&(f=XODText.N.Gg(f,c)):k=XODText.N.Kj(k,c);for(var l=Array(8),p=0;1>p;++p){for(var m=0;8>m;++m)l[m]=g[8*p+m];XODText.Ra.Gu(b,l,n);if(!b.normalize()&&e)return!1;n?2===n?k=XODText.N.Gg(k,b):1===n?f=XODText.N.Kj(f,
b):3===n&&(f=XODText.N.Gg(f,b)):k=XODText.N.Kj(k,b)}if(e&&Math.abs(c.Lb(b))<XODText.Ra.fz)return!1}k=XODText.N.Pt(k);f=XODText.N.Pt(f);if(!k.normalize()&&e||(!f.normalize()&&e||e&&!XODText.Ra.eB(a,g,k,f,d,d/10)))return!1;XODText.Ra.inflate(a,g,1,k,f);return!0};XODText.Ra.Gu=function(a,g,e){var d=(e+1)%4;a.x=g[2*d]-g[2*e];a.y=g[2*d+1]-g[2*e+1]};
XODText.Ra.eB=function(a,g,e,d,c,b){var k=new XODText.N;k.init(a[0],a[1]);var f=new XODText.N;f.init(a[2],a[3]);var n=new XODText.N;n.init(g[0],g[1]);var l=new XODText.N;l.init(g[2],g[3]);var p=k.Lb(e),m=f.Lb(e),q=n.Lb(e);e=l.Lb(e);if(p>m)var r=p,p=m,m=r;q>e&&(r=q,q=e,e=r);if(q-m>c||p-e>c)return!1;k.x=a[2];k.y=a[3];f.x=a[4];f.y=a[5];n.x=g[2];n.y=g[3];l.x=g[4];l.y=g[5];p=k.Lb(d);m=f.Lb(d);q=n.Lb(d);e=l.Lb(d);p>m&&(r=p,p=m,m=r);q>e&&(r=q,q=e,e=r);return Math.abs(p-q)>b||Math.abs(m-e)>b?!1:!0};
XODText.Ra.inflate=function(a,g,e,d,c){for(var b=XODText.ob.ze,k=XODText.ob.kf,f=XODText.ob.ze,n=XODText.ob.kf,l=0,p=0,m=0,q=0,r=0;4>r;++r){var u=new XODText.N;u.init(a[2*r],a[2*r+1]);l=u.Lb(d);p=u.Lb(c);r?(b>l&&(b=l,m=u.x),k<l&&(k=l),f>p&&(f=p,q=u.y),n<p&&(n=p)):(b=k=l,f=n=p,m=u.x,q=u.y);for(u=0;u<e;++u){var s=new XODText.N;s.init(g[8*u+2*r],g[8*u+2*r+1]);l=s.Lb(d);p=s.Lb(c);b>l&&(b=l,m=s.x);k<l&&(k=l);f>p&&(f=p,q=s.y);n<p&&(n=p)}}g=new XODText.N;g.init(m,q);q=g.Lb(c);m=XODText.N.multiply(d,b-g.Lb(d));
q=XODText.N.multiply(c,f-q);g.x+=m.x+q.x;g.y+=m.y+q.y;a[0]=g.x;a[1]=g.y;b=k-b;f=n-f;a[2]=a[0]+b*d.x;a[3]=a[1]+b*d.y;a[4]=a[2]+f*c.x;a[5]=a[3]+f*c.y;a[6]=a[0]+f*c.x;a[7]=a[1]+f*c.y};
XODText.Ra.prototype={_init:function(a,g,e,d,c,b,k,f){this.x1=a;this.y1=g;this.x2=e;this.y2=d;this.oi=c;this.pi=b;this.oe=k;this.qe=f},yy:function(a,g,e,d,c,b,k,f){this.x1=a;this.y1=g;this.x2=e;this.y2=d;this.oi=c;this.pi=b;this.oe=k;this.qe=f},Cu:function(){return{x1:this.x1,y1:this.y1,x2:this.x2,y2:this.y2,x3:this.oi,y3:this.pi,x4:this.oe,y4:this.qe}},x1:0,y1:0,x2:0,y2:0,oi:0,pi:0,oe:0,qe:0};XODText.Ja=function(){};
XODText.Ja.Rj=function(a){var g=Math.cos(a);a=Math.sin(a);var e=new XODText.Ja;e.Va(g,-a,a,g,0,0);return e};
XODText.Ja.prototype={m_a:0,m_b:0,m_c:0,m_d:0,m_h:0,m_v:0,Fl:function(a){this.m_a=a.m_a;this.m_b=a.m_b;this.m_c=a.m_c;this.m_d=a.m_d;this.m_h=a.m_h;this.m_v=a.m_v},Va:function(a,g,e,d,c,b){this.m_a=a;this.m_b=g;this.m_c=e;this.m_d=d;this.m_h=c;this.m_v=b},set:function(a,g,e,d,c,b){this.m_a=a;this.m_b=g;this.m_c=e;this.m_d=d;this.m_h=c;this.m_v=b},inverse:function(){var a=new XODText.Ja,g=this.m_a*this.m_d-this.m_b*this.m_c;if(!g)return a;a.m_a=this.m_d/g;a.m_c=-this.m_c/g;a.m_h=(this.m_c*this.m_v-
this.m_h*this.m_d)/g;a.m_b=-this.m_b/g;a.m_d=this.m_a/g;a.m_v=-(this.m_a*this.m_v-this.m_h*this.m_b)/g;return a},wa:function(a){var g=a.x;a.x=a.x*this.m_a+a.y*this.m_c+this.m_h;a.y=g*this.m_b+a.y*this.m_d+this.m_v;return a},concat:function(a){var g=this.m_a,e=this.m_b,d=this.m_c,c=this.m_d;this.m_a=a.m_a*g+a.m_b*d;this.m_b=a.m_a*e+a.m_b*c;this.m_c=a.m_c*g+a.m_d*d;this.m_d=a.m_c*e+a.m_d*c;this.m_h=a.m_h*g+a.m_v*d+this.m_h;this.m_v=a.m_h*e+a.m_v*c+this.m_v},Qo:function(a){return this.m_a==a.m_a&&(this.m_b==
a.m_b&&(this.m_c==a.m_c&&(this.m_d==a.m_d&&(this.m_h==a.m_h&&this.m_v==a.m_v))))},kw:function(a){var g=new XODText.Wb(a[0],a[1]),e=new XODText.Wb(a[2],a[3]),d=new XODText.Wb(a[4],a[5]),c=new XODText.Wb(a[6],a[7]),g=this.wa(g),e=this.wa(e),d=this.wa(d),c=this.wa(c);a[0]=g.x;a[1]=g.y;a[2]=e.x;a[3]=e.y;a[4]=d.x;a[5]=d.y;a[6]=c.x;a[7]=c.y},jw:function(a){var g=Array(8);g[0]=a.x1;g[1]=a.y1;g[2]=a.x2;g[3]=a.y1;g[4]=a.x2;g[5]=a.y2;g[6]=a.x1;g[7]=a.y2;this.kw(g);a.Qg(g)}};XODText.rh=function(){};
XODText.rh.Xx=function(a,g){return a.Db<g.Db||(a.Db===g.Db&&a._position<g._position||a.Db===g.Db&&(a._position===g._position&&a.mg<g.mg))?-1:a.Db===g.Db&&(a._position===g._position&&a.mg===g.mg)?0:1};
XODText.rh.prototype={_init:function(){this.Bk=[]},_add:function(a){this.Bk.add(a)},_clear:function(){this.Bk.clear()},Yx:function(a,g){g.clear();for(var e=[],d=G.Zc.Jc(this.Bk);d.Ve();){var c=d.current;e.add(c)}e.sort(XODText.rh.Xx);for(var d="",b=[],k=[],f=[],n=XODText.xk.Er,l=0;l<e.length;++l)if(c=e[l],!(0>c.Db||(c.Db>=a.length||(0>c._position||0>=c.mg)))){if(-1!==c.Db){k=a[c.Db].text;if(!k.ready())return!1;d=k.Wa;b=k.fc;k=k.Dg();if(!d.length||(d.length!==b.length||8*d.length!==k.length))continue;
for(var n=XODText.xk.Er,p=G.Zc.Jc(b);p.Ve();){var m=p.current;m>n&&(n=m)}f.clear();for(var q=0;q<n+1;++q)f.add(-1);for(q=0;q<b.length;++q)p=b[q],0<=p&&(f[p]=q)}b=Array(8);for(p=c._position;p<c._position+c.mg&&!(p>n);++p)if(m=f[p],!(0>m)){for(q=0;8>q;++q)b[q]=k[8*m+q];var r=!1;if(1<=g.length&&(q=g[g.length-1],q.Db===c.Db)){var u=b[0]-b[2],s=b[1]-b[3];XODText.Ra.Ik(q.rd,b,!0,Math.sqrt(u*u+s*s))&&(r=d.charAt(m),q.eo.ee(q.eo.length,r),r=!0)}r||(r=d.charAt(m),m=new XODText.Fn,m.Qi(c.Db,r,b),g.add(m))}}return 0<
g.length},Bk:null};XODText.Pi=function(){};XODText.Pi.prototype={Qi:function(a,g,e){this.Db=a;this._position=g;this.mg=e},Db:0,_position:0,mg:0};XODText.Fn=function(){};XODText.Fn.prototype={Qi:function(a,g,e){this.Db=a;this.eo=g;this.rd=Array(8);for(a=0;8>a;++a)this.rd[a]=e[a]},Db:0,eo:null,rd:null};XODText.Ok=function(){this.Sd=new XODText.oa;this.Dk=new XODText.oa};XODText.Ok.prototype={Sd:null,Dk:null,Ek:null,Fk:null};XODText.bb=function(){};XODText.ab=function(){};
XODText.Gc=function(){this.Vn={};this.He=0;this.Ca=this.uh=this.Ak=this.Yb=-1;this.Qn=this.tf=this.Ck=this.ng=!1;this.bd=[];this.tb=[];this.pd=[];this.Fa=this.pa="";this.Zb=[];this.Qd=[];this.wh=[];this.On=[];this.ja={};this.ja[" "]=null;this.ja["\t"]=null;this.ja["\n"]=null;this.ja["."]=null;this.ja[","]=null;this.ja["?"]=null;this.ja[":"]=null;this.ja[";"]=null;this.ja['"']=null;this.ja["'"]=null;this.ja["<"]=null;this.ja[">"]=null;this.ja["`"]=null;this.ja["~"]=null;this.ja["!"]=null;this.ja["@"]=
null;this.ja["#"]=null;this.ja.$=null;this.ja["%"]=null;this.ja["^"]=null;this.ja["&"]=null;this.ja["("]=null;this.ja[")"]=null;this.ja["["]=null;this.ja["]"]=null;this.ja["{"]=null;this.ja["}"]=null;this.ja["|"]=null;this.ja._=null;this.ja["\\"]=null;this.ja["-"]=null;this.ja["="]=null;this.ja["+"]=null;this.ja["/"]=null;this.ja["*"]=null};
XODText.Gc.Vd=function(a,g){for(var e=0,d=a.length-1,c=Math.floor((e+d)/2);a[c]!==g&&e<d;)g<a[c]?d=c-1:g>a[c]&&(e=c+1),c=Math.floor((e+d)/2);return a[c]!==g?!1:!0};
XODText.Gc.prototype={Ty:function(a,g,e,d,c){this.Ck=!1;this.nc=a.o.u;if(0>this.nc.length||(0>g.length||0<=d&&d>c))return!1;this.He=e;if(!this.Xs(g))return!1;a=d;g=this.nc.length;if(0>a)if(0>c)a=0,c=g-1;else return!1;else if(c<a)return!1;console.assert(0<=a&&a<=c);if(a>=g||c>=g)return!1;this.Ak=a;this.uh=c;this.Yb=this.fe()?this.uh:this.Ak;++this.uh;this.Fa=this.pa="";this.Qd.clear();this.wh.clear();this.bd.clear();this.tb.clear();this.Ck=!0;this.Ca=-1;this.ng=!1;return!0},run:function(a){var g=-1,
e=-1,d=-1,c="",b="",k=new XODText.rh;k._init();k._clear();if(!this.Ck||0>=this.qd.length)return new XODText.Be(XODText.ab.Df,d,c,b,g,e);var f="",n=-1,l=-1;for((new XODText.rh)._init();;){if(this.Yb===this.uh)return new XODText.Be(XODText.ab.Df,d,c,b,g,e);var p=!0;if(!this.pa.length||this.Ca===this.pa.length){if(!this.fe()){if(this.Ca===this.pa.length){if(this.Vu()&&!this.ng)return this.ng=!0,d=this.Yb,new XODText.Be(XODText.ab.hl,d,c,b,g,e);++this.Yb}if(this.Yb===this.uh)return new XODText.Be(XODText.ab.Df,
d,c,b,g,e)}else if(this.Ca===this.pa.length){if(this.Vu()&&!this.ng)return this.ng=!0,d=this.Yb,new XODText.Be(XODText.ab.hl,d,c,b,g,e);if(this.Yb===this.Ak)return new XODText.Be(XODText.ab.Df,d,c,b,g,e);--this.Yb}(p=this.Bn(this.Yb))?this.fe()?(this.Ca=this.pa.length,--this.Ca):this.Ca=0:this.Ca=0}this.ng=!1;p&&(console.assert(this.Ca!==this.pa.length),e=this.ey(f,n,l,b,k),f=e.En,n=e.vk,l=e.uk,b=e.wn,g=e.Nk,e=e.Mk);if(p&&n!==this.pa.length){console.assert(0<f.length);c=f;d=this.Yb;this.fe()?(this.Ca=
n)?--this.Ca:this.Ca=this.pa.length:this.Ca=l;if(this.Cj())for(a.clear(),f=[],k.Yx(this.nc,f),k=0;k<f.length;++k)n=new XODText.Ra,l=f[k],n.x1=l.rd[0],n.y1=l.rd[1],n.x2=l.rd[2],n.y2=l.rd[3],n.oi=l.rd[4],n.pi=l.rd[5],n.oe=l.rd[6],n.qe=l.rd[7],a.add(n);return new XODText.Be(XODText.ab.gj,d,c,b,g,e)}this.Ca=this.pa.length}},Xs:function(a){if(0>=a.length)return!1;for(var g="",e=a.length,d=!1,c=0;c<e;++c){var b=this.Jk(a.charAt(c));" "===b?d||(g+=b,d=!0):(d=!1,g+=b)}this.Es=g;this.pd.clear();a="";for(c=
0;c<g.length;++c)b=g.charAt(c),this.lg(b)?this.pd.add(a.length-1):a+=b;this.qd=a;this.Il()||(this.qd=this.qd.toLowerCase());c=this.tf;this.qd.length?this.tf=!1:(this.qd=g,this.pd.clear(),this.tf=!0);this.tf!==c&&(0<this.pa.length&&(!this.Bn(this.Yb)&&(this.Ca=this.pa.length)));return!0},setMode:function(a){var g=this.Cj(),e=this.Il(),d=this.fe();this.He=a;var c=this.Cj();a=this.Il();var b=this.fe(),k=!1;e!==a&&this.Xs(this.Es);if(!(0>=this.pa.length)){g!==c&&(c&&(!k&&(console.assert(0<=this.Ca&&this.Ca<=
this.pa.length),this.Bn(this.Yb),k=!0)));if(e!==a&&!k){console.assert(this.Zb.length===this.pa.length);console.assert(this.Zb.length<=this.Fa.length);g=this.pa.length;e="";for(c=0;c<g;++c)console.assert(0<=this.Zb[c]&&this.Zb[c]<this.Fa.length),e+=this.Jk(this.Fa.charAt(this.Zb[c]));this.pa=e;a||(this.pa=this.pa.toLowerCase())}if(d!==b)if(console.assert(0<=this.Ca&&this.Ca<=this.pa.length),this.Ca!==this.pa.length)if(b)for(c=0;2>c;++c)this.Ca&&--this.Ca;else for(c=0;2>c;++c)this.Ca!==this.pa.length&&
++this.Ca;else b?(this.Ca=this.pa.length,--this.Ca):this.Ca=0}},Cj:function(){return 0<(this.He&XODText.bb.Vt)},NA:function(){return 0<(this.He&XODText.bb.Tt)},Il:function(){return 0<(this.He&XODText.bb.Ut)},PA:function(){return 0<(this.He&XODText.bb.Xt)},fe:function(){return 0<(this.He&XODText.bb.Po)},Vu:function(){return 0<(this.He&XODText.bb.Wt)},ey:function(a,g,e,d,c){var b=this.Sx(-1,-1);g=b.vk;e=b.uk;var k=b.Nk,f=b.Mk;if(g===this.pa.length)return b;var n,l;a=this.by(0,0,g,e);n=a.Vs;l=a.ks;d=
"";for(var p=n;p<l;++p)d+=this.Fa.charAt(p);a=d;d="";if(this.NA()){var m=n,q=l,k=this.Fa.length,p=f=0,r=!1,u=!1,s=!1;if(m)for(--m;m;){var v=this.Fa.charAt(m);r&&(this.Fe(v)&&p++);r||(!s||(this.Fe(v)||(r=u=!0)));if(30<=f||0<p){m++;break}if(this.Qd.length>m&&-2===this.Qd[m]){var w=this.Fa.charAt(m+1);if("A"<=w&&"Z">=w){++m;u=!0;break}}--m;f++;s=s||(this.Fe(v)||"\n"===v)}u||(m=n);r=q;for(p=0;q!==k;){this.Fe(this.Fa.charAt(q))&&(r=q-1,p++);if(10<=p||70<=f){q===k-1||(this.Fe(this.Fa.charAt(q+1))||(q=r));
break}q++}q===k&&--q;for(p=m;p<=q;++p)k=this.Fa.charAt(p),d="\n"===k?d+" ":d+k;k=n-m;f=l-m}if(this.Cj()){console.assert(this.Fa.length===this.Qd.length);m=n;q=l;console.assert(q>=m);n=q-m;l=[];for(p=m;p<q;++p)l.ee(l.length,this.Qd[p]);for(p=0;p<n&&0>l[p];)++p;for(u=r=p;p<n;)if(m=l[p],p===n-1)s=this.Yb,m=l[u],q=l[p],0>q&&(q=l[r]),console.assert(0<=s&&(0<=m&&q>=m)),v=new XODText.Pi,v.Qi(s,m,q-m+1),c._add(v),++p;else if(-1===m)console.assert(0<=l[r]),++p;else if(-2===m){console.assert(0<=l[r]);s=this.Yb;
m=l[u];q=l[r];console.assert(0<=s&&(0<=m&&q>=m));v=new XODText.Pi;v.Qi(s,m,q-m+1);c._add(v);for(++p;p<n&&0>l[p];)++p;u=r=p}else 0<=m&&(console.assert(0<=l[r]),r===p||this.$x(l,r,p)?(r=p,++p):(s=this.Yb,m=l[u],q=l[r],console.assert(0<=s&&(0<=m&&q>=m)),v=new XODText.Pi,v.Qi(s,m,q-m+1),c._add(v),u=r=p))}b.En=a;b.vk=g;b.uk=e;b.wn=d;b.Nk=k;b.Mk=f;return b},Nn:null,yh:null,cy:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},uy:function(a,g,e){Object.Ip(this.Vn,a)?this.yh=this.Vn[a]:(this.yh=
RegExp(this.cy(a),"g"),this.Vn[a]=this.yh);this.yh.lastIndex=e;this.Nn=this.yh.exec(g);return null!=this.Nn?this.yh.lastIndex-this.Nn[0].length:-1},Sx:function(a,g){g=0;var e,d;e=this.Ca;for(a=d=this.pa.length;;){var c=!1;console.assert(0<this.qd.length);if(this.fe()){if(e===d){a=g=d;break}a=this.pa.lastIndexOf(this.qd,e)}else a=this.uy(this.qd,this.pa,e);if(0>a){a=g=d;break}g=a+this.qd.length;this.fe()?(e=a,0!==e?--e:e=d):e=g;if(!this.tf)if(0<this.pd.length)if(this.bd.length||this.tb.length){for(var b=
this.tb.length,k=this.bd.length,f=a-0,n=G.Zc.Jc(this.pd);n.Ve();){var l=n.current,l=f+l;if(!XODText.Gc.Vd(this.bd,l)&&!XODText.Gc.Vd(this.tb,l)){c=!0;break}}if(c)continue;for(var n=a-0,p=g-0-1,m=l=this.Mn(this.tb,n);m!==b;++m){var q=this.tb[m];if(q>=n&&(q<p&&(l=q-f,!XODText.Gc.Vd(this.pd,l)))){c=!0;break}if(q>=p)break}if(c)continue;for(m=l=this.Mn(this.bd,n);m!==k;++m){q=this.bd[m];if(q>=n&&(q<p&&(l=q-f,!XODText.Gc.Vd(this.pd,l)))){c=!0;break}if(q>=p)break}if(c)continue}else continue;else if(this.tb.length)for(n=
a-0,p=g-0-1,b=this.tb.length,m=l=this.Mn(this.tb,n);m!==b&&(q=this.tb[m],q>=n&&q<p||!(q>=p));++m);if(this.PA()){if(0!==a&&(q=a-0-1,!(XODText.Gc.Vd(this.bd,q)||(XODText.Gc.Vd(this.tb,q)||(this.Fe(this.pa.charAt(a))||this.Fe(this.pa.charAt(a-1)))))))continue;if(g!==d&&(q=g-0-1,!(XODText.Gc.Vd(this.bd,q)||(XODText.Gc.Vd(this.tb,q)||(this.Fe(this.pa.charAt(g-1))||this.Fe(this.pa.charAt(g)))))))continue}break}return new XODText.jn("",a,g,"",-1,-1)},Fe:function(a){return Object.Ip(this.ja,a)?!0:this.zk(a)||
this.ky(a)},Mn:function(a,g){var e=a.indexOf(g);0>e&&(e=~e);return e},Jk:function(a){a=a.charCodeAt(0);if(39===a||8217===a)a=39;else if(34===a||(8220===a||8221===a))a=34;return String.fromCharCode(a)},lg:function(a){var g=a;a=a.charCodeAt(0);return"-"===g||(8208===a||(8209===a||(65293===a||173===a)))},jy:function(a){var g=a;a=a.charCodeAt(0);return","===g||(65292===a||65294===a)},ky:function(a){var g=a;a=a.charCodeAt(0);return 32<a&&48>a||(57<a&&65>a||(90<a&&97>a||(122<a&&127>a||(this.jy(g)||(this.lg(g)||
(173===a||1642<=a&&(1645>=a||(8210<=a&&8231>=a||(8240<=a&&8269>=a||(8592<=a&&9215>=a||(12441<=a&&12444>=a||(65281<=a&&65291>=a||(65295===a||(65306<=a&&65312>=a||(65344===a||65371<=a&&65374>=a)))))))))))))))?!0:!1},zk:function(a){a=a.charCodeAt(0);return 32===a||(1<=a&&31>=a||(160===a||8192<=a&&(8207>=a||(8232<=a&&8239>=a||8298<=a&&8303>=a))))?!0:!1},Bn:function(a){if(0>a||a>=this.nc.length)return!1;this.Fa=this.pa="";this.Zb.clear();this.bd.clear();this.tb.clear();var g=this.Cj(),e=[],d=[];if(g){var c=
this.nc[a].text;if(!c.ready())return!1;a=c.Wa;e=c.fc;d=c.Dg();console.assert(a.length===e.length);this.Qd.clear();this.Qn&&this.On.clear()}else{c=this.nc[a].text;if(!c.ready())return!1;a=c.Wa}if(0>=a.length)return!1;for(var c="",b=a.length,k=-1,f=0;f<b;++f){var n=a.charAt(f),l=-1;g&&(l=e[f]);if("\n"===n){for(n=f-1;0<=n&&" "===a.charAt(n);)--n;if(!(0>n||this.lg(a.charAt(n)))){for(n=f+1;n<b&&" "===a.charAt(n);)++n;n>=b||(this.lg(a.charAt(n))||(c+=" ",this.Zb.add(this.Fa.length),this.Fa+=" ",g&&(k=k<
l?l:k,this.vn(l,d,8*f))))}}else if(" "===n)f<b-1&&("\n"===a.charAt(f+1)||" "===a.charAt(f+1))||(c+=n,this.Zb.add(this.Fa.length),this.Fa+=n,g&&(k=k<l?l:k,this.vn(l,d,8*f)));else{if(this.lg(n))if(this.tf)c+=this.Jk(n),this.Zb.add(this.Fa.length);else{var p=c.length-1;f<b-1&&"\n"===a.charAt(f+1)?this.bd.add(p):this.tb.length&&p===this.tb[this.tb.length-1]||this.tb.add(p)}else c+=this.Jk(n),this.Zb.add(this.Fa.length);this.Fa+=n;g&&(k=k<l?l:k,this.vn(l,d,8*f))}}console.assert(c.length===this.Zb.length);
this.pa=c;if(g){b=this.Qd.length;this.wh.clear();for(f=0;f<k+1;++f)this.wh.add(!0);for(f=0;f<b;++f)l=this.Qd[f],0<=l&&(this.wh[l]=!1)}this.Il()||(this.pa=this.pa.toLowerCase());this.bd.sort();this.tb.sort();this.pd.sort();return!0},vn:function(a,g,e){this.Qd.add(a);if(this.Qn)for(a=e;a<e+8;++a)this.On.add(g[a])},by:function(a,g,e,d){e?(a=this.Zb[e-1],++a):a=0;d<this.Zb.length?g=this.Zb[d]:(g=this.Zb[d-1],g===this.Fa.length-1&&++g);console.assert(a>=e&&(g>=d&&g>=a));if(!this.tf){if(!XODText.Gc.Vd(this.pd,
this.qd.length-1))for(;0<g&&this.lg(this.Fa.charAt(g-1));)--g;e=this.Fa.length;if(!XODText.Gc.Vd(this.pd,-1))for(;a<e-1&&this.lg(this.Fa.charAt(a));)++a;g<a&&(console.assert(!1),g=a)}return new XODText.hn(a,g)},$x:function(a,g,e){console.assert(0<=g&&(g<=e&&(g<a.length&&e<a.length)));g=a[g];a=a[e];if(g===a||g+1===a)return!0;for(e=!0;0<=g&&g<a-1;)if(!this.wh[++g]){e=!1;break}return e},Ck:!1,nc:null,He:0,ja:null,Yb:0,Ak:0,uh:0,Ca:0,ng:!1,Fa:null,pa:null,Zb:null,Qd:null,wh:null,qd:null,tf:!1,Es:null,
bd:null,tb:null,pd:null,On:null,Qn:!1};XODText.ok=function(a){this.Q="";this.Rd=-1;this.da=[];this.Da="";this.nc=a.o.u;this.Ua=new XODText.pf;this.Ua.fb();this.Ic=[]};
XODText.ok.prototype={Dg:function(){for(var a=this.da.length/8,g=[],e=0;e<a;++e){var d=new XODText.Ra,c=8*e;d.yy(this.da[c],this.da[c+1],this.da[c+2],this.da[c+3],this.da[c+4],this.da[c+5],this.da[c+6],this.da[c+7]);g.add(d)}return g},zk:function(a){a=a.charCodeAt(0);return 32===a||(1<=a&&31>=a||(160===a||8192<=a&&(8207>=a||(8232<=a&&8239>=a||8298<=a&&8303>=a))))?!0:!1},xy:function(a,g){this.da.clear();this.Da="";var e=this.nc.length;if(0>a||a>=e)return!1;g.normalize();if(0>=this.Rd||this.Rd!==a){e=
this.nc[a].text;if(!e.ready())return!1;this.Ua=e;this.Q=this.Ua.Wa;this.zn();this.yn();this.Rd=a}var e=new XODText.oa,d=Array(8),c,b,k,f=new XODText.kb;f.fb();var n,l=new XODText.Ya;l.fb();var p=[],m=!1;for(k=this.Ua.mj();!k.La(f);k=k.Hf())if(k.cc(e),e.normalize(),!g.Ej(e)){for(n=k.Tc();!n.La(l);n=n.Uc())if(n.Ob(d),e.Qg(d),!g.Ej(e)){c=n.wd();var q=n.xd();b=p.length;if(0<c&&0<b){m&&("\n"!==p[0]&&(this.zk(p[b-1])?p[b-1]="\n":p.add("\n")),m=!1);for(b=0;b<p.length;++b)this.Da+=p[b];p.clear()}for(b=0;b<=
c;++b)q+b<this.Q.length&&(b<c?this.Da+=this.Q.charAt(q+b):p.add(this.Q.charAt(q+b)));0<c&&(q=e.x2-e.x1,b=e.y2-e.y1,this.Td(d,Math.sqrt(q*q+b*b)/c*3))}m=!0}return 0<this.da.length},zn:function(){var a,g=new XODText.kb;g.fb();var e=Array(8),d=Array(8),c=0.1,b=-100;for(a=this.Ua.mj();!a.La(g);a=a.Hf()){var k=new XODText.N,f=new XODText.N,n=new XODText.Ya;n.fb();var l=a.Tc(),p=new XODText.Ya;p.fb();for(var m=a.Tc();!m.La(n);m=m.Uc())p=m;l.Nb(0,e);k.x=(e[0]+e[2]+e[4]+e[6])/4;k.y=(e[1]+e[3]+e[5]+e[7])/
4;p.Nb(p.Ne()-1,d);f.x=(d[0]+d[2]+d[4]+d[6])/4;f.y=(d[1]+d[3]+d[5]+d[7])/4;n=XODText.N.distance(k,f);n>c&&(b=Math.atan2(f.y-k.y,f.x-k.x),b*=180/3.1415926,0>b&&(b+=360),c=n)}this.lb=b;this.Pn=2>Math.abs(this.lb)||2>Math.abs(this.lb-180)},RB:function(a,g){this.da.clear();this.Da="";var e=this.nc.length;if(0>a||a>=e)return!1;g.normalize();if(0>=this.Rd||this.Rd!==a){e=this.nc[a].text;if(!e.ready())return!1;this.Ua=e;this.Q=this.Ua.Wa;this.zn();this.yn();this.Rd=a}var e=new XODText.oa,d=Array(8),c,b,
k,f=new XODText.kb;f.fb();var n,l=new XODText.Ya;l.fb();var p=[],m=!1;for(k=this.Ua.mj();!k.La(f);k=k.Hf())if(k.cc(e),e.normalize(),!g.Ej(e)){for(n=k.Tc();!n.La(l);n=n.Uc())if(n.Ob(d),e.Qg(d),!g.Ej(e)){c=n.wd();var q=n.xd(),r=p.length;if(0<c&&0<r){m&&("\n"!==p[0]&&(this.zk(p[r-1])?p[r-1]="\n":p.add("\n")),m=!1);for(r=0;r<p.length;++r)this.Da+=p[r];p.clear()}var r=0,u=Array(8),s=Array(8),v=!1,w=!1;for(b=0;b<=c;++b)if(q+b<this.Q.length){var x=Array(8),D=new XODText.oa;n.Nb(b,x);D.Qg(x);g.Ej(D)?0===
r?v=!0:w=!0:(r++,1===r&&(v&&n.Nb(b,u)),n.Nb(b,s),b<c?this.Da+=this.Q.charAt(q+b):p.add(this.Q.charAt(q+b)))}0<r&&(v&&this.kg(d,u,!0),w&&this.kg(d,s,!1),e.Qg(d),c=e.x2-e.x1,q=e.y2-e.y1,this.Td(d,Math.sqrt(c*c+q*q)/r*3))}m=!0}return 0<this.da.length},PB:function(a,g){this.da.clear();this.Da="";var e=this.nc.length;if(0>a||a>=e)return!1;if(0>=this.Rd||this.Rd!==a){e=this.nc[a].text;if(null==e||!e.ready())return!1;this.Ua=e;this.Q=this.Ua.Wa;this.zn();this.yn();this.Rd=a}var d=XODText.ob.ze,c=XODText.ob.ze,
b,k,e=Array(8),f=Array(8),n=new XODText.oa,l=new XODText.kb,p=new XODText.kb;l.fb();p.fb();var m=this.Pn,q=this.Pn,r,u=new XODText.kb;u.fb();var s=new XODText.Ya;s.fb();var v=new XODText.N;v.init(g.x1,g.y1);var w=new XODText.N;w.init(g.x2,g.y2);p=this.dy(v,w,l,p);l=p.ss;p=p.Ds;if(l.La(u)||p.La(u))return!1;w=new XODText.Ya;v=new XODText.Ya;w.fb();v.fb();for(var c=d=XODText.ob.ze,x=l.Tc();!x.La(s);x=x.Uc())x.cc(e),m?(k=g.x1,r=g.y1):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,k=g.y1,r=g.x1),b=(e[3]+
e[1])/2,e[2]<=k?(k=e[2]-k,b-=r,b=k*k+b*b):e[0]>=k?(k=e[0]-k,b-=r,b=k*k+b*b):(b-=r,b*=b),b<d&&(d=b,w=x);for(x=p.Tc();!x.La(s);x=x.Uc())x.cc(e),q?(d=g.x2,r=g.y2):(r=e[0],e[0]=e[1],e[1]=r,r=e[2],e[2]=e[3],e[3]=r,d=g.y2,r=g.x2),b=(e[3]+e[1])/2,e[2]<=d?(k=e[2]-d,b-=r,b=k*k+b*b):e[0]>=d?(k=e[0]-d,b-=r,b=k*k+b*b):(b-=r,b*=b),b<c&&(c=b,v=x);if(w.La(s)||v.La(s))return!1;r=x=0;var D,c=d=XODText.ob.ze,B=w.Ne();for(D=0;D<B;++D)w.Nb(D,e),k=(e[0]+e[2]+e[4]+e[6])/4,b=(e[1]+e[3]+e[5]+e[7])/4,k-=g.x1,b-=g.y1,b=k*
k+b*b,b<d&&(d=b,x=D);B=v.Ne();for(D=0;D<B;++D)v.Nb(D,e),k=(e[0]+e[2]+e[4]+e[6])/4,b=(e[1]+e[3]+e[5]+e[7])/4,k-=g.x2,b-=g.y2,b=k*k+b*b,b<c&&(c=b,r=D);k=l.Na;D=p.Na;c=w.Na;d=v.Na;b=-1;if(k===D){c>d&&(b=w,w=v,v=b,b=x,x=r,r=b);l.cc(n);if(c===d&&(x===r&&(b=new XODText.oa,!b.Hl(n,g))))return!1;c===d?(r<x&&(b=x,x=r,r=b),b=r):b=w.wd();w.Nb(x,e);console.assert(m===q);m=w.xd();console.assert(x<=b);for(q=x;q<=b;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<=b&&(w.Ob(f),m=f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*
m+q*q),m=m/(b+1)*3,this.kg(f,e,!0),c===d&&(n=Array(8),v.Nb(r,n),this.kg(f,n,!1)),this.Td(f,m));for(x=w=w.Uc();!x.La(s)&&x.Na<v.Na;x=x.Uc()){b=x.wd();m=x.xd();for(q=0;q<=b;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<b&&(x.Ob(f),m=f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*m+q*q),m=m/b*3,this.Td(f,m))}v.Nb(r,e);b=v.wd();if(c!==d){m=v.xd();console.assert(r<=b);for(q=0;q<=r;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<b&&(v.Ob(f),m=f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*m+q*q),m=m/b*3,this.kg(f,
e,!1),this.Td(f,m))}}else{k>D&&(m=l,l=p,p=m,b=w,w=v,v=b,b=x,x=r,r=b);l.cc(n);b=new XODText.oa;b.Hl(n,g)||(w=l.Tc(),x=0);w.Nb(x,e);b=w.wd();m=w.xd();console.assert(x<=b);for(q=x;q<=b;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<b&&(w.Ob(f),m=f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*m+q*q),m=m/b*3,this.kg(f,e,!0),this.Td(f,m));for(x=w=w.Uc();!x.La(s);x=x.Uc()){b=x.wd();m=x.xd();for(q=0;q<=b;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<b&&(x.Ob(f),m=f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*
m+q*q),m=m/b*3,this.Td(f,m))}for(l=l.Hf();!l.La(p)&&!l.La(u);l=l.Hf())if(this.Yn(l.pl()))for(l.cc(n),x=l.Tc();!x.La(s);x=x.Uc()){b=x.wd();m=x.xd();for(q=0;q<=b;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<b&&(x.Ob(f),m=f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*m+q*q),m=m/b*3,this.Td(f,m))}p.cc(n);b=new XODText.oa;b.Hl(n,g)||(v=p.Iu(p.Cg()-1),r=v.Ne()-1);for(x=p.Tc();!x.La(s)&&!x.La(v);x=x.Uc()){b=x.wd();m=x.xd();for(q=0;q<=b;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<b&&(x.Ob(f),m=
f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*m+q*q),m=m/b*3,this.Td(f,m))}v.Nb(r,e);b=v.wd();m=v.xd();console.assert(r<=b);for(q=0;q<=r;++q)m+q<this.Q.length&&(this.Da+=this.Q.charAt(m+q));0<b&&(v.Ob(f),m=f[0]-f[2],q=f[1]-f[3],m=Math.sqrt(m*m+q*q),m=m/b*3,this.kg(f,e,!1),this.Td(f,m))}return 0<this.da.length},Td:function(a,g){var e=this.da.length/8;if(e){for(var d=Array(8),e=8*(e-1),c=0;8>c;++c)d[c]=this.da[e+c];if(XODText.Ra.Ik(d,a,!0,g))for(c=0;8>c;++c)this.da[e+c]=d[c];else for(c=0;8>c;++c)this.da.add(a[c])}else for(var c=
0;8>c;++c)this.da.add(a[c])},kg:function(a,g,e){var d=new XODText.N;d.init(a[0],a[1]);var c=new XODText.N;c.init(a[2],a[3]);var b=XODText.N.Gg(c,d);b.normalize()&&(e?(c=new XODText.N,c.init(g[0],g[1]),g=XODText.N.Gg(c,d),g=g.Lb(b),b=XODText.N.multiply(b,g),a[0]+=b.x,a[1]+=b.y,a[6]+=b.x,a[7]+=b.y):(d=new XODText.N,d.init(g[2],g[3]),g=XODText.N.Gg(d,c),g=g.Lb(b),b=XODText.N.multiply(b,g),a[2]+=b.x,a[3]+=b.y,a[4]+=b.x,a[5]+=b.y))},xs:function(a){var g=XODText.Ja.Rj(0),e=XODText.Ja.Rj(1.570796325),d=
XODText.Ja.Rj(3.14159265),c=XODText.Ja.Rj(3.14159265*1.5);switch(parseInt(a/90+0.1)){case 0:return g;case 1:return e;case 2:return d;case 3:return c;case 4:return g;default:return g}},Yn:function(){return!0},$s:function(a,g){var e=this.xs(g),d=new XODText.Wb(a.x1,a.y1),d=e.wa(d);a.x1=d.x;a.y1=d.y;d=new XODText.Wb(a.x2,a.y2);d=e.wa(d);a.x2=d.x;a.y2=d.y;a.normalize()},yn:function(){this.Ic.clear();var a,g=new XODText.kb;g.fb();var e=new XODText.oa,d=new XODText.Ok,c=!1,b=new XODText.oa;for(a=this.Ua.mj();!a.La(g);a=
a.Hf())if(this.Yn(a.pl())){a.cc(e);e.normalize();var k=new XODText.oa;k.zd(e);this.$s(e,this.lb);if(c){var f=!0;e.y1>b.y1&&(f=!1);if(e.x2<b.x1||e.x1>b.x2)f=!1;var n=e.width()/b.width(),l=e.height()/b.height();if(1.6<n||(0.7>n||(1.4<l||0.7>l)))f=!1;f?(d.Dk.union(k),d.Sd.union(e)):(this.Ic.add(d),d=new XODText.Ok,d.Dk.zd(k),d.Sd.zd(e),d.Ek=a);d.Fk=a}else d.Dk.zd(k),d.Sd.zd(e),d.Ek=a,d.Fk=a,c=!0;b.zd(e)}c&&this.Ic.add(d)},qs:function(a,g){for(var e=XODText.ob.ze,d=new XODText.oa,c=a.Ek,b=a.Ek;;b=b.Hf()){if(!this.Yn(b.pl()))if(b.La(a.Fk))break;
else continue;b.cc(d);this.$s(d,this.lb);var k=(d.y1+d.y2)/2;Math.abs(k-g.y)<e&&(c=b,e=Math.abs(k-g.y));if(b.La(a.Fk))break}return c},dy:function(a,g,e,d){var c=-1,b=-1,k=!1,f=!1,n=this.xs(this.lb),l=new XODText.N,p=new XODText.N;l.Gl(a);p.Gl(g);a=new XODText.Wb(l.x,l.y);a=n.wa(a);l.x=a.x;l.y=a.y;a=new XODText.Wb(p.x,p.y);a=n.wa(a);p.x=a.x;p.y=a.y;g=0;for(var m=this.Ic.length;g<m;++g)n=this.Ic[g],0>c&&(n.Sd.contains(l.x,l.y)&&(c=g,f=!0)),0>b&&(n.Sd.contains(p.x,p.y)&&(b=g,k=!0));if(!f||!k){a=[];for(n=
0;n<this.Ic.length;++n)a.add(0);var n=Math.max(c,b),q=new XODText.oa;q.Va(l.x,l.y,p.x,p.y);q.IA(0.1);0<=n&&q.union(this.Ic[n].Sd);var r=new XODText.oa;g=0;for(m=this.Ic.length;g<m;++g){var u=new XODText.oa;u.zd(this.Ic[g].Sd);r.Hl(u,q)&&(a[g]=1)}g=a.indexOf(1);for(q=m=a.indexOf(1);-1!==m;){q=m;m++;if(m>=a.length)break;m=a.indexOf(1,m)}a=q;if(0>g)return new XODText.lk(e,d);0>n?(c=g,b=a,k=new XODText.oa,k.zd(this.Ic[c].Sd),f=(l.x-k.x1)*(l.x-k.x2),f=0<f?Math.min(Math.abs(l.x-k.x1),Math.abs(l.x-k.x2)):
0,n=(l.y-k.y1)*(l.y-k.y2),n=0<n?Math.min(Math.abs(l.y-k.y1),Math.abs(l.y-k.y2)):0,f=f*f+n*n,n=(p.x-k.x1)*(p.x-k.x2),n=0<n?Math.min(Math.abs(p.x-k.x1),Math.abs(p.x-k.x2)):0,a=(p.y-k.y1)*(p.y-k.y2),a=0<a?Math.min(Math.abs(p.y-k.y1),Math.abs(p.y-k.y2)):0,f>n*n+a*a&&(k=c,c=b,b=k)):(m=new XODText.oa,m.zd(this.Ic[n].Sd),q=new XODText.N,f?q.Gl(p):q.Gl(l),console.assert(!(f&&k)&&!(!f&&!k)),console.assert(!m.contains(q.x,q.y)),n-g>Math.max(a-n,0)?(f||(c=Math.min(n,g)),k||(b=Math.min(n,g))):(f||(c=Math.max(n,
a)),k||(b=Math.max(n,a))))}0<=c&&(0<=b&&(e=this.qs(this.Ic[c],l,e),d=this.qs(this.Ic[b],p,d)));return new XODText.lk(e,d)},da:null,Da:null,nc:null,Ua:null,Rd:0,lb:0,Pn:!1,Ic:null};XODText.Be=function(a,g,e,d,c,b){this.nm=a;this.bm=g;this.oq=e;this.it=d;this.Ev=c;this.Dv=b};XODText.Be.prototype={nm:0,bm:0,oq:null,it:null,Ev:0,Dv:0};XODText.lk=function(a,g){this.ss=a;this.Ds=g};XODText.lk.prototype={ss:null,Ds:null};XODText.hn=function(a,g){this.Vs=a;this.ks=g};XODText.hn.prototype={Vs:0,ks:0};
XODText.jn=function(a,g,e,d,c,b){this.En=a;this.vk=g;this.uk=e;this.wn=d;this.Nk=c;this.Mk=b};XODText.jn.prototype={En:null,vk:0,uk:0,wn:null,Nk:0,Mk:0};XODText.xk.ma("XODText._intData");XODText.Wb.ma("XODText.Point2D");XODText.Ra.ma("XODText.Quad");XODText.Ja.ma("XODText.Matrix2D");XODText.rh.ma("XODText._highlights");XODText.Pi.ma("XODText._highlight");XODText.Fn.ma("XODText._highlightDocInfo");XODText.Ok.ma("XODText._selectionTextBlock");XODText.bb.ma("XODText.SearchMode");XODText.ab.ma("XODText.ResultCode");
XODText.Gc.ma("XODText.TextSearchLowlevel");XODText.ok.ma("XODText.TextLocator");XODText.Be.ma("XODText.ResultRun");XODText.lk.ma("XODText.ResultFindStructuralBounds");XODText.hn.ma("XODText.ResultDetermineOriRange");XODText.jn.ma("XODText.ResultFindTexts");XODText.xk.Er=-2147483648;XODText.Ra.fz=Math.cos(3.14159265/180*2);XODText.bb.Ut=1;XODText.bb.Xt=2;XODText.bb.Po=4;XODText.bb.Wt=8;XODText.bb.Vt=16;XODText.bb.Tt=32;XODText.ab.Df=0;XODText.ab.hl=1;XODText.ab.gj=2;self.Ka.hm("XODText");
XODText.Ym=function(){this.Yr={};this.Sn=1E3;this.Hs=200};XODText.Ym.prototype={Is:0,Js:0,Sn:0,Hs:0,ju:function(a){var g=new XODText.oa,e=this.Yr[a];"undefined"!=typeof e?g.zd(e):window.utils.warn("Character "+a+" does not have bounding box.");return g},jo:function(a,g,e){var d=new XODText.oa;d.set(g,this.Is,e,this.Js);this.Yr[a]=d},sm:function(a,g){this.Is=a;this.Js=g},pC:function(a){this.Sn=a}};XODText.Zm=function(){this.Yo={};this.gc=!1};
$.extend(XODText.Zm.prototype,{gc:!1,isReady:function(){return this.gc},lE:function(){return this.Yo},kq:function(a){try{var g=new window.qf(a);console.assert("FontInfo"===g.Me(),"Root element is incorrect.");"FontInfo"===g.Me()&&(g.vc(),this._parse(g))}catch(e){console.warn("Font Parser has encountered an error: "+e.message);return}this.gc=!0},wk:function(a){var g="",e=0,d=0,c=0,b=0;for(2<=a.length&&("{"===a.charAt(0)&&("}"===a.charAt(1)&&(a=a.substr(2))));e<a.length;)d=a.charCodeAt(e),128>d?(g+=
String.fromCharCode(d),e++):191<d&&224>d?(c=a.charCodeAt(e+1),g+=String.fromCharCode((d&31)<<6|c&63),e+=2):(c=a.charCodeAt(e+1),b=a.charCodeAt(e+2),g+=String.fromCharCode((d&15)<<12|(c&63)<<6|b&63),e+=3);return g},ry:function(a){a=a.hb("name");console.assert(42===a.length,"Font file name is incorrect.");console.assert(null!=a,"Font file name is incorrect.");return a="f"+parseInt("0x"+a.substr(28,8))},qy:function(a,g){console.assert(null!=g,"Font bbox file is corrupted.");var e=a.hb("height");console.assert(null!=
e,"Height attribute is missing.");e=e.split(":");g.sm(parseFloat(e[0]),parseFloat(e[1]))},sy:function(a,g){var e=a.hb("units_per_em");null!=e&&g.pC(parseInt(e))},py:function(a,g){console.assert(null!=g,"Font bbox file is corrupted.");var e=a.hb("bbox");console.assert(null!=e,"Character width is missing.");var d=e.split(":"),e=parseFloat(d[0]),d=parseFloat(d[1]),c=this.wk(a.Ag());console.assert(0<c.length,"Char value is empty.");g.jo(c,e,d)},_parse:function(a){do{for(var g=null;a.advance();){var e=
a.Me();"Font"===e?(g=new XODText.Ym,e=this.ry(a),this.qy(a,g),this.sy(a,g),this.Yo[e]=g,a.vc()):"c"===e?this.py(a,g):console.warn("Font XML parser has encountered a tag it can't process.")}a.Go()}while(a.depth)}});XODText.Ym.ma("XODText.Font");XODText.Zm.ma("XODText.FontParser");
(function(a){function g(c){this.done=!1;this.Mc=new Worker(a.h.tp()+"CoreWorker.js");var f=null,b=null,d=this;this.index=c;this.Mc.addEventListener("message",function(a){switch(a.data.command){case "done":d.done=!0;b=null;break;case "nextChunk":f=a.data.resources;b=a.data.dataString;break;default:throw Error("Unknown message command "+a.data.command+" from worker");}d.done?(d.callback(null,[]),d.finish()):f&&(b&&(d.callback(b,f),b=f=null))},!1);this.hD()}var e=[],d=[],c="./",b=!1;g.prototype={setData:function(a){this.done=
!1;this.Mc.postMessage({command:"data",dataString:a})},cancel:function(){this.Mc.postMessage({command:"cancel"})},hD:function(){this.Mc.postMessage({command:"options",imageScaling:b,specialBlendSupported:a.utils.specialBlendSupported})},kB:function(a){this.callback=a;this.Mc.postMessage({command:"nextChunk"})},finish:function(){this.done=!0;if(d.length){var a=d[0];d.shift();this.setData(a.data);a.vo(this)}}};a.yA=function(a,f){for(var c=e.length,b,p=0;p<c;++p)e[p].done&&(b=e[p]);b||4>c&&(b=e[c]=new g(c));
b?(b.setData(a),f(b)):d.push({vo:f,data:a})};a.h=a.h||{};a.h.tp=function(){return c};a.h.rC=function(a){a.indexOf("/")!==a.length-1&&(a+="/");c=a};a.h.VB=function(a){b=a}})(window);
(function(a){function g(a,f,c,b,k,n){this.$f=16;this.cx=288;this.status=0;this.root=null;this.m=0;var l=Array(this.$f+1),g,x,D,B,A,C,Q,L=Array(this.$f+1),E,F,H,I=new e,N=Array(this.$f);B=Array(this.cx);var J,M=Array(this.$f+1),O,z,K;K=this.root=null;for(A=0;A<l.length;A++)l[A]=0;for(A=0;A<L.length;A++)L[A]=0;for(A=0;A<N.length;A++)N[A]=null;for(A=0;A<B.length;A++)B[A]=0;for(A=0;A<M.length;A++)M[A]=0;g=256<f?a[256]:this.$f;E=a;F=0;A=f;do l[E[F]]++,F++;while(0<--A);if(l[0]==f)this.root=null,this.status=
this.m=0;else{for(C=1;C<=this.$f&&0==l[C];C++);Q=C;n<C&&(n=C);for(A=this.$f;0!=A&&0==l[A];A--);D=A;n>A&&(n=A);for(O=1<<C;C<A;C++,O<<=1)if(0>(O-=l[C])){this.status=2;this.m=n;return}if(0>(O-=l[A]))this.status=2,this.m=n;else{l[A]+=O;M[1]=C=0;E=l;F=1;for(H=2;0<--A;)M[H++]=C+=E[F++];E=a;A=F=0;do 0!=(C=E[F++])&&(B[M[C]++]=A);while(++A<f);f=M[D];M[0]=A=0;E=B;F=0;B=-1;J=L[0]=0;H=null;for(z=0;Q<=D;Q++)for(a=l[Q];0<a--;){for(;Q>J+L[1+B];){J+=L[1+B];B++;z=(z=D-J)>n?n:z;if((x=1<<(C=Q-J))>a+1)for(x-=a+1,H=Q;++C<
z&&!((x<<=1)<=l[++H]);)x-=l[H];J+C>g&&(J<g&&(C=g-J));z=1<<C;L[1+B]=C;H=Array(z);for(x=0;x<z;x++)H[x]=new e;K=null==K?this.root=new d:K.next=new d;K.next=null;K.list=H;N[B]=H;0<B&&(M[B]=A,I.b=L[B],I.e=16+C,I.t=H,C=(A&(1<<J)-1)>>J-L[B],N[B-1][C].e=I.e,N[B-1][C].b=I.b,N[B-1][C].n=I.n,N[B-1][C].t=I.t)}I.b=Q-J;F>=f?I.e=99:E[F]<c?(I.e=256>E[F]?16:15,I.n=E[F++]):(I.e=k[E[F]-c],I.n=b[E[F++]-c]);x=1<<Q-J;for(C=A>>J;C<z;C+=x)H[C].e=I.e,H[C].b=I.b,H[C].n=I.n,H[C].t=I.t;for(C=1<<Q-1;0!=(A&C);C>>=1)A^=C;for(A^=
C;(A&(1<<J)-1)!=M[B];)J-=L[B],B--}this.m=L[1];this.status=0!=O&&1!=D?1:0}}}function e(){this.n=this.b=this.e=0;this.t=null}function d(){this.list=this.next=null}var c=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],k=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,
16385,24577],n=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];a.mf||(a.mf={});a.mf.wr=function(a){this.oD();this.Mm=a;this.Nm=0};a.mf.wr.prototype={getBytes:function(a){for(var f,c=Array(1024),b=[],k=0;k<a&&0<(f=this.nD(c,0,c.length));)b[b.length]=String.fromCharCode.apply(null,c.slice(0,f)),k+=f;return k?(this.Mm=this.Mm.slice(this.Nm),this.Nm=0,b.join("")):""},jD:function(){return this.Mm.length==this.Nm?-1:this.Mm.charCodeAt(this.Nm++)&
255},qb:function(a){for(;this.Xg<a;)this.ri|=this.jD()<<this.Xg,this.Xg+=8},Cb:function(a){return this.ri&c[a]},jb:function(a){this.ri>>=a;this.Xg-=a},Lm:function(a,f,c){var b,k,d;if(0==c)return 0;for(d=0;;){this.qb(this.Hd);k=this.Zf.list[this.Cb(this.Hd)];for(b=k.e;16<b;){if(99==b)return-1;this.jb(k.b);b-=16;this.qb(b);k=k.t[this.Cb(b)];b=k.e}this.jb(k.b);if(16==b)this.jc&=32767,a[f+d++]=this.Yf[this.jc++]=k.n;else{if(15==b)break;this.qb(b);this.Nc=k.n+this.Cb(b);this.jb(b);this.qb(this.qi);k=this.qw.list[this.Cb(this.qi)];
for(b=k.e;16<b;){if(99==b)return-1;this.jb(k.b);b-=16;this.qb(b);k=k.t[this.Cb(b)];b=k.e}this.jb(k.b);this.qb(b);this.Yg=this.jc-k.n-this.Cb(b);for(this.jb(b);0<this.Nc&&d<c;)this.Nc--,this.Yg&=32767,this.jc&=32767,a[f+d++]=this.Yf[this.jc++]=this.Yf[this.Yg++]}if(d==c)return c}this.Xf=-1;return d},pD:function(a,f,c){var b;b=this.Xg&7;this.jb(b);this.qb(16);b=this.Cb(16);this.jb(16);this.qb(16);if(b!=(~this.ri&65535))return-1;this.jb(16);this.Nc=b;for(b=0;0<this.Nc&&b<c;)this.Nc--,this.jc&=32767,
this.qb(8),a[f+b++]=this.Yf[this.jc++]=this.Cb(8),this.jb(8);0==this.Nc&&(this.Xf=-1);return b},mD:function(a,c,d){if(null==this.Km){var e,l=Array(288);for(e=0;144>e;e++)l[e]=8;for(;256>e;e++)l[e]=9;for(;280>e;e++)l[e]=7;for(;288>e;e++)l[e]=8;this.Sq=7;e=new g(l,288,257,b,k,this.Sq);if(0!=e.status)return alert("HufBuild error: "+e.status),-1;this.Km=e.root;this.Sq=e.m;for(e=0;30>e;e++)l[e]=5;this.Rq=5;e=new g(l,30,0,f,n,this.Rq);if(1<e.status)return this.Km=null,alert("HufBuild error: "+e.status),
-1;this.kD=e.root;this.Rq=e.m}this.Zf=this.Km;this.qw=this.kD;this.Hd=this.Sq;this.qi=this.Rq;return this.Lm(a,c,d)},lD:function(a,c,d){var e,u,s,v,w,x,D,B=Array(316);for(e=0;e<B.length;e++)B[e]=0;this.qb(5);x=257+this.Cb(5);this.jb(5);this.qb(5);D=1+this.Cb(5);this.jb(5);this.qb(4);e=4+this.Cb(4);this.jb(4);if(286<x||30<D)return-1;for(u=0;u<e;u++)this.qb(3),B[l[u]]=this.Cb(3),this.jb(3);for(;19>u;u++)B[l[u]]=0;this.Hd=7;u=new g(B,19,19,null,null,this.Hd);if(0!=u.status)return-1;this.Zf=u.root;this.Hd=
u.m;v=x+D;for(e=s=0;e<v;)if(this.qb(this.Hd),w=this.Zf.list[this.Cb(this.Hd)],u=w.b,this.jb(u),u=w.n,16>u)B[e++]=s=u;else if(16==u){this.qb(2);u=3+this.Cb(2);this.jb(2);if(e+u>v)return-1;for(;0<u--;)B[e++]=s}else{17==u?(this.qb(3),u=3+this.Cb(3),this.jb(3)):(this.qb(7),u=11+this.Cb(7),this.jb(7));if(e+u>v)return-1;for(;0<u--;)B[e++]=0;s=0}this.Hd=9;u=new g(B,x,257,b,k,this.Hd);0==this.Hd&&(u.status=1);if(0!=u.status)return-1;this.Zf=u.root;this.Hd=u.m;for(e=0;e<D;e++)B[e]=B[e+x];this.qi=6;u=new g(B,
D,0,f,n,this.qi);this.qw=u.root;this.qi=u.m;return 0==this.qi&&257<x||0!=u.status?-1:this.Lm(a,c,d)},oD:function(){null==this.Yf&&(this.Yf=Array(65536));this.Xg=this.ri=this.jc=0;this.Xf=-1;this.Jm=!1;this.Nc=this.Yg=0;this.Km=this.Zf=null},nD:function(a,f,c){var b,k;for(b=0;b<c&&(!this.Jm||-1!=this.Xf);){if(0<this.Nc){if(0!=this.Xf)for(;0<this.Nc&&b<c;)this.Nc--,this.Yg&=32767,this.jc&=32767,a[f+b++]=this.Yf[this.jc++]=this.Yf[this.Yg++];else{for(;0<this.Nc&&b<c;)this.Nc--,this.jc&=32767,this.qb(8),
a[f+b++]=this.Yf[this.jc++]=this.Cb(8),this.jb(8);0==this.Nc&&(this.Xf=-1)}if(b==c)break}if(-1==this.Xf){if(this.Jm)break;this.qb(1);0!=this.Cb(1)&&(this.Jm=!0);this.jb(1);this.qb(2);this.Xf=this.Cb(2);this.jb(2);this.Zf=null;this.Nc=0}switch(this.Xf){case 0:k=this.pD(a,f+b,c-b);break;case 1:k=null!=this.Zf?this.Lm(a,f+b,c-b):this.mD(a,f+b,c-b);break;case 2:k=null!=this.Zf?this.Lm(a,f+b,c-b):this.lD(a,f+b,c-b);break;default:k=-1}if(-1==k)return this.Jm?0:-1;b+=k}return b}};a.mf.inflate=function(f){return(new a.mf.wr(f)).getBytes(4E7)}})(self);
(function(a){a.Jd={sf:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Hz:function(g){for(var e="",d,c,b,k,f,n,l=0;l<g.length;)d=g.charCodeAt(l++),c=g.charCodeAt(l++),b=g.charCodeAt(l++),k=d>>2,d=(d&3)<<4|c>>4,f=(c&15)<<2|b>>6,n=b&63,isNaN(c)?f=n=64:isNaN(b)&&(n=64),e=e+a.Jd.sf.charAt(k)+a.Jd.sf.charAt(d)+a.Jd.sf.charAt(f)+a.Jd.sf.charAt(n);return e},nz:function(g){var e="",d,c,b,k,f,n=0;for(g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");n<g.length;)d=a.Jd.sf.indexOf(g.charAt(n++)),c=a.Jd.sf.indexOf(g.charAt(n++)),
k=a.Jd.sf.indexOf(g.charAt(n++)),f=a.Jd.sf.indexOf(g.charAt(n++)),d=d<<2|c>>4,c=(c&15)<<4|k>>2,b=(k&3)<<6|f,e+=String.fromCharCode(d),64!==k&&(e+=String.fromCharCode(c)),64!==f&&(e+=String.fromCharCode(b));return e}};"undefined"===typeof window.btoa&&(window.btoa=a.Jd.Hz);"undefined"===typeof window.atob&&(window.atob=a.Jd.nz)})(window);
(function(a){function g(a){var d;"undefined"!==typeof DOMParser?(d=new DOMParser,d=d.parseFromString(a,"text/xml"),this.Xu=!1):(d=new ActiveXObject("MSXML2.DOMDocument"),d.preserveWhiteSpace=!0,d.async=!1,d.loadXML(a),this.Xu=!0);this.current=d.documentElement;this.next=this.current.nextSibling;this.diff=this.depth=0}g.prototype={Rr:function(){for(;this.next&&this.next.nodeType!==Node.ELEMENT_NODE;)this.next=this.next.nextSibling},advance:function(){this.Rr();return this.next?(this.current=this.next,
this.next=this.current.nextSibling,!0):!1},Me:function(){return this.current.tagName},vc:function(){++this.depth;this.next=this.current.firstChild;this.Rr();this.next||++this.diff},Go:function(){--this.depth;0<this.diff?--this.diff:this.current=this.current.parentNode;this.current&&(this.next=this.current.nextSibling)},hb:function(a){return this.current.getAttribute(a)},Ag:function(){return this.Xu?this.current.text:this.current.textContent}};a.qf=g})(window);
(function(a){function g(a){this.depth=this.index=0;this.od=a;this.location={start:0,Ol:1,Pl:1,end:a.length,empty:!0};this.Dj=[this.location];this.Cp=!1;"?"===this.od.charAt(1)&&this.uu();this.location.empty=!1}g.prototype={advance:function(){this.yf=null;this.uu();var a=this.location.start;++a;this.location.empty=!1;if("/"!==this.od.charAt(a))return this.location.empty="/"===this.od.charAt(this.od.indexOf(">",a)-1),!0;this.location.end=!0;return!1},oz:function(a){if(a)return a.split("&quot;").join('"').split("&lt;").join("<").split("&gt;").join(">").split("&amp;").join("&")},
$u:function(){var a=this.location.start+1,d=this.od.indexOf(">",a);this.location.empty&&--d;a=this.od.substring(a,d);this.yf={};d=a.indexOf(" ");if(-1!==d){this.Yt=a.substring(0,d);for(var a=a.slice(d),a=a.split('"'),d=a.length-1,c=0;c<d;++c){var b=a[c],k=a[++c];this.yf[b.substring(1,b.length-1)]=k}}else this.Yt=a},uu:function(){if(this.Cp)this.Cp=!1,this.location.start=this.od.indexOf("<",this.location.start+1);else{var a=this.location.Ol;if(!this.location.empty)for(var d=this.location.Pl;0<d;)a=
this.od.indexOf("<",a),"/"===this.od.charAt(++a)?--d:(a=this.od.indexOf(">",a),"/"!==this.od.charAt(a-1)&&++d);this.location.start=this.od.indexOf("<",a)}this.location.Ol=this.location.start+1;this.location.Pl=1},Me:function(){null!==this.yf&&"undefined"!==typeof this.yf||this.$u();return this.Yt},vc:function(){++this.depth;this.location={start:this.location.start};this.Dj[this.Dj.length]=this.location;this.Cp=!0},Go:function(){--this.depth;this.yf=null;var a=this.location.Ol,d=this.location.Pl,c=
this.location.empty,b=this.location.end;this.Dj.pop();this.location=this.Dj[this.Dj.length-1];this.location.Ol=a;this.location.Pl=b?0:c?d:d+1},hb:function(a){null!==this.yf&&"undefined"!==typeof this.yf||this.$u();return this.oz(this.yf[a])}};a.HD=g})(self);
(function(a){function g(a){if(a){if(a.length!==this.xi)throw Error("Data is wrong size for zip header!");this.jl=a=this.yB(a);if(a.wm!==this.Iz)throw Error("Signature is wrong!");this.yg={};this.names=[]}}function e(a,c,f){this.source=a;this.Xk=this.yo=!1;this.nd={};this.ij=function(){};this.vg=c;this.cl=f;this.Et=_.isUndefined(f)||_.isUndefined(f.type)}function d(a){this.Kg=a;this.started=!1;this.Xe=1}d.prototype={cancel:function(){}};e.prototype={Nd:"Document/FixedDocument.fdoc",ue:"Document/DocProps/core.xml",
Ld:"Document/Structure/DocStruct.struct",ZB:function(a){this.ij=a},km:function(c){var k=this;this.Th(function(f){if(f){a.utils.warn("Error loading document: "+f);k.ij(f);if(c){c(f);return}throw f;}return k.W([k.Nd,k.ue,k.Ld])})},Qj:function(){return!1},W:function(a){var c=this;if(!c.yo)throw Error("Document must be loaded before requesting parts");_(a).each(function(a){c.Mz(a,function(a,f,b,d){return a?(f!==c.Ld&&c.ij(a),c.trigger("partReady",{ba:f,Le:!1,qc:!!a.io,error:a})):c.trigger("partReady",
{ba:f,data:b,Le:!1,qc:!1,error:null,xb:d})})})},YB:function(a){this.bl=a},so:function(a){var c=this;_(a).each(function(a){var b=c.nd[a];b&&(b.Xe--,0===b.Xe&&(delete c.nd[a],b.cancel()))})},Mz:function(a,c){if(this.nd[a])this.nd[a].Xe++;else return this.nd[a]=new d(a),this.zv(a,c)}};_(e.prototype).extend(Backbone.Events);g.prototype={ou:function(){return{start:this.jl.Nt,stop:this.jl.Nt+this.jl.wz}},Kh:function(a){var c=this.yg[a],f=c.offset+this.dn+c.Hg+c.jj;return{start:f,stop:f+c.po,Kg:a}},ql:function(a){a=
this.Kh(a);var c=Math.floor(a.start/102400),f=a.stop-a.start;return Math.min(f,102400*(c+1)-a.start)>f/2?c:c+1},aA:function(a){var c=this.ql(a),f=this.names.indexOf(a),d=this.Kh(a);a=[];var e;for(e=f-1;0<=e&&this.ql(this.names[e])===c;--e);var d=e+1,p=this.Kh(this.names[d]).start;for(e=f+1;e<this.names.length&&this.ql(this.names[e])===c;++e);c=e-1;f=this.Kh(this.names[c]).stop;for(e=d;e<=c;++e)d=this.Kh(this.names[e]),d.start-=p,d.stop-=p,a.push(d);return{start:p,stop:f,xv:a}},zt:function(a){return!!this.yg[a]},
Tu:function(a){return 0!==this.yg[a].Eo},yv:function(a){for(var c=10,f=this.Ew,d=this.jl.SC,e=0;e<d;e++){var p=this.zB(a,c),c=c+f,g=a.substr(c,p.Hg),c=c+(p.Hg+p.jj+p.yt+10);this.yg[g]=p;this.names[this.names.length]=g}},xi:22,Ew:36,dn:30,jq:function(a,c,f){for(var d="",e=0;e<c;e++)var p=a.charCodeAt(e+f).toString(16),d=1===p.length?"0"+p+d:p+d;return parseInt(d,16)},zB:function(a,c){var f={},d=this.jq;f.Eo=d(a,2,c);f.po=d(a,4,c+10);f.UC=d(a,4,c+14);f.Hg=d(a,2,c+18);f.jj=d(a,2,c+20);f.yt=d(a,2,c+22);
f.offset=d(a,4,c+32);return f},yB:function(a){var c={},f=this.jq;c.wm=f(a,4,0);c.gE=f(a,2,4);c.PD=f(a,2,6);c.DE=f(a,2,8);c.SC=f(a,2,10);c.wz=f(a,4,12);c.Nt=f(a,4,16);c.yt=f(a,2,20);return c},AB:function(a){var c={},f=this.jq;c.wm=f(a,4,0);c.$E=f(a,2,4);c.jE=f(a,2,6);c.Eo=f(a,2,8);c.BE=f(a,2,10);c.AE=f(a,2,12);c.TD=f(a,4,14);c.po=f(a,4,18);c.UC=f(a,4,22);c.Hg=f(a,2,26);c.jj=f(a,2,28);return c},Iz:101010256,bB:67324752,cB:"PK\u0003\u0004"};g.inflate=function(c){return a.mf.inflate(c)};a.h=a.h||{};a.h.v=
a.h.v||{};var c=a.h.v;c.Pd=e;c.Ni=g;c.no=Array(1024);a.op=function(b,k,f){k=k||0;f=f||!1;var d="";if(a.utils.ie&&!_.isUndefined(b.responseBody)){f=b.responseBody;var e=_.isArray(f)?f:(new a.VBArray(f)).toArray();f=e.length;b=Array(f);for(k=0;k<f;k++)b[k]=e[k]&255;k=f/1024+1;for(f=0;f<k;f++)d+=String.fromCharCode.apply(null,b.slice(1024*f,1024*f+1024))}else if(!a.Uint8Array||(_.isUndefined(b.response)||f))for(f=b.responseText,b=c.no;k<f.length;){for(e=0;1024>e&&k<f.length;++e)b[e]=f.charCodeAt(k)&
255,++k;d+=String.fromCharCode.apply(null,b.slice(0,e))}else{f=b.response;var e=new a.Uint8Array(f),p=e.length;if(a.utils.typedArrayApply)for(;k<p;)b=e.subarray(k,k+1024),k+=1024,d+=String.fromCharCode.apply(null,b);else for(b=c.no;k<p;){f=0;for(var g=Math.min(k+1024,p);k<g;f++,k++)b[f]=e[k];d+=String.fromCharCode.apply(null,1024>f?b.slice(0,f):b)}}return d};a.h.v.bg={en:0,Wq:1,bx:2}})(window);
(function(a){function g(c,b,k){e.apply(this,arguments);if("xod"!==c.name.split(".").pop())throw Error("Not an XOD file");if(!a.FileReader||(!a.File||!a.Blob))throw Error("File API is not supported in this browser");this.file=c}var e=a.h.v.Pd,d=a.h.v.Ni;g.prototype=new e;g.prototype=_(g.prototype).extend({Lp:function(a,b,k){var f=new FileReader;f.onloadend=function(a,c){if(f.error){var d=f.error;if(d.code===d.ABORT_ERR){console.warn("Request for chunk "+b.start+"-"+b.stop+" was aborted");return}return k(d)}return k(!1,
c||a.target.result)};b&&(a=(a.slice||(a.webkitSlice||(a.mozSlice||a.Ro))).call(a,b.start,b.stop));f.readAsBinaryString(a);return function(){f.abort()}},Th:function(a){var b=this;b.Xk=!0;var k=d.prototype.xi;b.Lp(b.file,{start:-k,stop:b.file.size},function(f,e){if(f)return console.warn("Error loading end header: %s",f),a(f);if(e.length!==k)throw Error("Zip end header data is wrong size!");b.Vb=new d(e);var l=b.Vb.ou();b.Lp(b.file,l,function(f,k){if(f)return console.warn("Error loading central directory: %s",
f),a(f);if(k.length!==l.stop-l.start)throw Error("Zip central directory data is wrong size!");b.Vb.yv(k);b.yo=!0;b.Xk=!1;return a(!1)})})},zv:function(a,b){var k=this,f=k.nd[a];if(!k.Vb.zt(a))return b(Error('File not found: "'+a+'"'),a);var d=k.Vb.Kh(a),e=k.Lp(k.file,d,function(f,e){delete k.nd[a];if(f)return console.warn('Error loading part "%s": %s',a,f),b(f);if(e.length!==d.stop-d.start)throw Error("Part data is wrong size!");var l=k.Vb.Tu(a);b(!1,a,e,l)});f.started=!0;f.cancel=e}});a.h.v.Zw=g;
a.Od=a.Od||{};a.Od.uD=function(a){return{name:a.value.split(/[\/\\]/).pop(),size:null,data:null,Hm:[],Bp:!1,Ro:function(a,c){return{mv:this,Ro:this.Ro,start:a,stop:c}}}};a.Od.vD=function(){return{error:!1,onloadend:function(){},result:null,readAsBinaryString:function(a){var b=a.mv||a,k=this,f=encodeURI(b.name);if(b.data)return this.wp(a);if(b.Bp)return b.Hm.push(function(){k.wp(a)});b.Bp=!0;new JSIO.sD(f,function(f){b.Bp=!1;if(f)return console.error('Failed to load file "%s"',b.name),console.warn("File must be in same directory as this page for FakeFileReader to work"),
k.error=Error('Failed to load file "%s"',b.name),k.onloadend(k.error);b.size=this.fileSize;b.data=this.read(this.fileSize);k.wp.call(k,a);for(f=0;f<b.Hm.length;f++)b.Hm[f]();b.Hm=[]})},wp:function(a){var b=a.mv||a,k=a.start||0;a=a.stop||b.size;null===k&&(k=b.size);null===a&&(a=b.size);0>k&&(k=b.size+k);0>a&&(a=b.size+a);b=b.data.slice(k,a);k="";for(a=0;a<b.length/1E3;a++)k+=String.fromCharCode.apply(null,b.slice(1E3*a,1E3*a+1E3));this.result=k;this.onloadend({},k)}}}})(window);
(function(a){function g(a,f,c,b){k.apply(this,[a,c,b]);this.Ye={};this.qo=f;this.url=a}function e(){this.Xe=1}function d(f){var c=f.W,b=f.range;return function(k,d){if(k){if(k.code===c.rb.si){a.utils.warn("Request for range "+b.start+"-"+b.stop+" was aborted");return}return f.dd.forEach(function(a){a("Error retrieving file: "+c.url+". Received return status "+k.status+".")})}return f.dd.forEach(function(a){a(!1,d,c)})}}function c(f,c,b){this.url=f;this.range=c;this.bl=b;this.W=new XMLHttpRequest;
this.W.open("GET",this.url,!0);a.Uint8Array&&(!a.utils.ie&&(this.W.responseType="arraybuffer"));_.isUndefined(c.stop)?this.W.setRequestHeader("Range","bytes="+c.start):this.W.setRequestHeader("Range",["bytes=",c.start,"-",c.stop-1].join(""));this.W.setRequestHeader("X-Requested-With","XMLHttpRequest");if(b)for(var k in b)this.W.setRequestHeader(k,b[k]);this.W.overrideMimeType?this.W.overrideMimeType("text/plain; charset=x-user-defined"):this.W.setRequestHeader("Accept-Charset","x-user-defined");this.status=
this.rb.eh}function b(f,c,b){for(var k=-1,d=0;d<b.length;d++)_.isEqual(b[d].range,c)&&(_.isEqual(b[d].url,f)&&(k=d));-1===k&&a.utils.warn(c+" not found in queue");return k}var k=a.h.v.Pd,f=a.h.v.Ni,n=[],l=[];c.prototype={constructor:c,start:function(f){var c=this;this.W.onreadystatechange=function(){if(c.io)return c.status=c.rb.si,f({code:c.rb.si});if(this.readyState===c.Qx.DONE)if(c.xl(),200===this.status||206===this.status){var b=a.op(this);c.success(b,f)}else c.status=c.rb.ek,f({code:c.status,
status:this.status})};this.W.send(null);this.status=this.rb.Ii},success:function(a,f){this.status=this.rb.wx;if(f)return f(!1,a)},abort:function(){this.xl();this.io=!0;this.W.abort()},xl:function(){var a=b(this.url,this.range,l);-1!==a&&l.splice(a,1);if(0<n.length){var a=n.shift(),f=new this.constructor(a.url,a.range,this.bl);a.W=f;l.push(a);f.start(d(a))}},Qx:{FD:0,DONE:4},rb:{eh:0,Ii:1,wx:2,ek:3,si:4},extend:function(a){var f=$.extend({},this,a.prototype);f.constructor=a;return f}};a.aF=[];g.prototype=
{gm:c,$w:3,Zk:function(f,c,b){var k=-1===f.indexOf("?")?"?":"&";switch(b){case !1:case a.h.v.bg.en:f=f+k+"_="+_.uniqueId();break;case !0:case a.h.v.bg.Wq:f=f+k+"_="+c.start+","+(_.isUndefined(c.stop)?"":c.stop)}return f},Jz:function(a,f,c,b,k){for(var d=0;d<n.length;d++)if(_.isEqual(n[d].range,f)&&_.isEqual(n[d].url,a))return n[d].dd.push(b),n[d].Yl++,null;for(d=0;d<l.length;d++)if(_.isEqual(l[d].range,f)&&_.isEqual(l[d].url,a))return l[d].dd.push(b),l[d].Yl++,null;c={url:a,range:f,qo:c,dd:[b],Yl:1,
W:{}};if(0===n.length&&l.length<this.$w)return l.push(c),c.W=new this.gm(a,f,k),c;n.push(c);return null},Rl:function(a,f,c){var k=this.Zk(a,f,this.qo);(a=this.Jz(k,f,this.qo,c,this.bl))&&a.W.start(d(a));return function(){var a=b(k,f,l),c;-1!==a?(c=--l[a].Yl,0===c&&l[a].W.abort()):(a=b(k,f,n),-1!==a&&(c=--n[a].Yl,0===c&&n.splice(a,1)))}},qu:function(){return{start:-f.prototype.xi}},Th:function(c){var b=this;b.Xk=!0;var k=f.prototype.xi;b.Rl(b.url,b.qu(),function(d,e){if(d)return a.utils.warn("Error loading end header: "+
d),c(d);if(e.length!==k)return c("Invalid XOD file: Zip end header data is wrong size!");try{b.Vb=new f(e)}catch(l){return c(l)}var n=b.Vb.ou();b.Rl(b.url,n,function(f,k){if(f)return a.utils.warn("Error loading central directory: "+f),c(f);if(k.length!==n.stop-n.start)return c("Invalid XOD file: Zip central directory data is wrong size! Should be "+(n.stop-n.start)+" but is "+k.length);b.Vb.yv(k);b.yo=!0;b.Xk=!1;return c(!1)})})},zv:function(f,c){var b=this;if(!b.Vb.zt(f))return delete b.nd[f],c(Error('File not found: "'+
f+'"'),f);var k=b.Vb.ql(f);if(k in b.Ye){var d=b.nd[f];d.Fh=b.Ye[k];d.Fh.Xe++;d.cancel=d.Fh.cancel}else{var l=b.Vb.aA(f),n=b.Rl(b.url,l,function(d,e){if(d)return a.utils.warn('Error loading part "'+f+'": '+d),c(d,f);if(e.length!==l.stop-l.start)return c(Error("Part data is wrong size!"),f);var n;do{if(!b.Ye[k])return;n=b.Ye[k].Xe;for(var g=l.xv.length,u=0;u<g;++u){var v=l.xv[u];c(!1,v.Kg,e.substring(v.start,v.stop),b.Vb.Tu(v.Kg));v.Kg in b.nd&&delete b.nd[v.Kg]}}while(n!==b.Ye[k].Xe);delete b.Ye[k]}),
g=b.nd[f];g&&(g.started=!0,g.cancel=function(){g.Fh.Xe--;0===g.Fh.Xe&&(n(),delete b.Ye[k])},b.Ye[k]=new e,g.Fh=b.Ye[k],g.Fh.cancel=g.cancel)}}};g.prototype=$.extend(new k,g.prototype);a.h.v.zi=g;a.h.v.Pm=c})(window);
(function(a){function g(a,c){e.apply(this,[a]);this.url=a;-1===c.indexOf("/",c.length-1)&&(c+="/");this.path=c}var e=a.h.v.Pd;g.prototype=new e;g.prototype=_(g.prototype).extend({W:function(d){var c=this;_(d).each(function(b){var k=-1!==b.indexOf("Images/"),f=-1!==b.indexOf("Thumbs/"),d=-1!==b.indexOf("Fonts/");if(k||(f||d))return c.trigger("partReady",{ba:b,data:b,Le:!0,qc:!1,error:null,xb:!1});$.ajax({url:c.path+b,mimeType:"text/plain; charset=x-user-defined",xhr:function(){var a=$.ajaxSettings.xhr();
a&&(this.oA=function(){return a.responseBody});return a},success:function(f){var k=a.utils.ie?this.oA():f;f="";var d,e,n;if(a.utils.ie){k=(new a.VBArray(k)).toArray();n=k.length;d=Array(n);for(e=0;e<n;e++)d[e]=k[e]&255;k=n/1024+1;for(e=0;e<k;e++)f+=String.fromCharCode.apply(null,d.slice(1024*e,1024*e+1024))}else for(d=a.h.v.no,e=0;e<k.length;){for(n=0;1024>n&&e<k.length;++n)d[n]=k.charCodeAt(e)&255,++e;f+=String.fromCharCode.apply(null,d.slice(0,n))}return c.trigger("partReady",{ba:b,data:f,Le:!1,
qc:!1,error:null,xb:!0})},error:function(a,f,k){a=Error(f+" "+k);return c.trigger("partReady",{ba:b,Le:!1,qc:!!a.io,error:a})}})})},Th:function(a){a()}});a.h.v.Vm=g})(window);
(function(a){function g(a,f,b,l){c.apply(this,[a,b,l]);this.url=a;this.Vj=new d(a,f);this.Vb=new e}function e(){this.buffer="";this.state=0;this.Bq=4;this.Se=null;this.Xh=b.prototype.dn;this.yg={}}function d(c,f){var b=-1===c.indexOf("?")?"?":"&";switch(f){case !1:case a.h.v.bg.en:this.url=c+b+"_="+_.uniqueId();break;default:this.url=c}this.W=new XMLHttpRequest;this.W.open("GET",this.url,!0);this.W.setRequestHeader("X-Requested-With","XMLHttpRequest");this.W.overrideMimeType?this.W.overrideMimeType("text/plain; charset=x-user-defined"):
this.W.setRequestHeader("Accept-Charset","x-user-defined");this.status=this.rb.eh}var c=a.h.v.Pd,b=a.h.v.Ni;d.prototype={start:function(c){var f=this,b=this.W,d;f.Jp=0;if(c)for(var e in c)this.W.setRequestHeader(e,c[e]);b.onreadystatechange=function(){if(4===b.readyState&&200!==b.status)f.trigger("done","Error received return status "+b.status);else if(a.utils.ie){if(4===b.readyState)return d=f.pB(),f.trigger("data",d),f.trigger("done")}else 3<=b.readyState&&((d=f.xB())&&f.trigger("data",d),4===b.readyState&&
f.trigger("done"))};this.W.send(null);this.status=this.rb.Ii},xB:function(){var c=this.W,f=c.responseText;if(this.Jp!==f.length)return c=a.op(c,this.Jp,!0),this.Jp=f.length,c},pB:function(){return a.op(this.W,0,!0)},abort:function(){var c=this;this.W.onreadystatechange=function(){a.utils.warn("StreamingRequest aborted");c.status=c.rb.si;return c.trigger("aborted")};this.W.abort()},finish:function(){var a=this;this.W.onreadystatechange=function(){a.status=a.rb.Cw;return a.trigger("done")};this.W.abort()},
rb:{eh:0,Ii:1,Cw:2,ek:3,si:4}};_(d.prototype).extend(Backbone.Events);e.prototype=new b;e.prototype=_(e.prototype).extend({processData:function(a){var f;for(a=this.buffer+a;a.length>=this.Xh;)switch(this.state){case 0:this.Se=f=this.AB(a.slice(0,this.Xh));if(f.wm!==this.bB)throw Error("Wrong signature in local header: "+f.wm);a=a.slice(this.Xh);this.state=1;this.Xh=f.po+f.Hg+f.jj+this.Bq;this.trigger("header",f);break;case 1:this.Se.name=a.slice(0,this.Se.Hg);this.yg[this.Se.name]=this.Se;f=this.Xh-
this.Bq;var c=a.slice(this.Se.Hg+this.Se.jj,f);this.trigger("file",this.Se.name,c,this.Se.Eo);a=a.slice(f);if(a.slice(0,this.Bq)===this.cB)this.state=0,this.Xh=b.prototype.dn;else return this.state=2,!0}this.buffer=a;return!1}});_(e.prototype).extend(Backbone.Events);g.prototype=new c;g.prototype=_(g.prototype).extend({km:function(){var a=this;this.W([this.Nd,this.ue,this.Ld]);this.Vj.bind("data",function(f){try{if(a.Vb.processData(f))return a.Vj.finish()}catch(c){throw a.Vj.abort(),a.ij(c),c;}});
this.Vj.bind("done",function(f){f&&a.ij(f)});this.Vb.bind("header",_(this.CB).bind(this));this.Vb.bind("file",_(this.BB).bind(this));return this.Vj.start(this.bl)},Qj:function(){return!0},W:function(){},CB:function(){},BB:function(a,f,c){this.trigger("partReady",{ba:a,data:f,Le:!1,qc:!1,error:null,xb:c})}});a.h.v.Lx=g;a.h.v.ED=d})(window);
(function(a){function g(a){e.apply(this);this.db=a}var e=a.h.v.Pd;g.prototype=new e;g.prototype=_(g.prototype).extend({W:function(a){var c=this;_(a).each(function(a){c.db.get(a,function(k,f,d){return k?c.trigger("partReady",{ba:a,error:k}):c.trigger("partReady",{ba:a,data:f,Le:!1,qc:!1,error:null,xb:d})})})},Th:function(a){a()}});a.h.v.Ki=g})(window);
(function(a){function g(a,b,k,f){d.apply(this,arguments)}function e(c,b){this.url=c;this.range=b;this.W=new XMLHttpRequest;this.W.open("GET",this.url,!0);a.Uint8Array&&(this.W.responseType="arraybuffer");this.W.setRequestHeader("X-Requested-With","XMLHttpRequest");this.status=this.rb.eh}var d=a.h.v.zi;e.prototype=a.h.v.Pm.prototype.extend(e);g.prototype={gm:e,Zk:function(a,b){return a+"/bytes="+b.start+","+(b.stop?b.stop:"")}};g.prototype=$.extend(new d,g.prototype);a.h.v.uw=g;a.h.v.rD=e})(window);
(function(a){function g(a,f,c,b){d.apply(this,arguments)}function e(a,f){this.url=a;this.range=f;this.status=this.rb.eh}var d=a.h.v.zi,c=a.h.v.Pm,b={};e.prototype={start:function(c){var f=this;b[this.range.start]={success:function(b){var d=atob(b),e,n=d.length;b=new Uint8Array(n);for(e=0;e<n;++e)b[e]=d.charCodeAt(e);d=b.length;e="";var g=0;if(a.utils.typedArrayApply)for(;g<d;)n=b.subarray(g,g+1024),g+=1024,e+=String.fromCharCode.apply(null,n);else for(n=Array(1024);g<d;){for(var u=0,s=Math.min(g+
1024,d);g<s;u++,g++)n[u]=b[g];e+=String.fromCharCode.apply(null,1024>u?n.slice(0,u):n)}f.success(e,c)},fail:function(){f.status=f.rb.ek;c({code:f.status})}};var d=document.createElement("IFRAME");d.setAttribute("src",this.url);document.documentElement.appendChild(d);d.parentNode.removeChild(d);d=null;this.status=this.rb.Ii;f.xl()}};e.prototype=c.prototype.extend(e);g.prototype={gm:e,Zk:function(a,f){return a+"#"+f.start+"&"+(f.stop?f.stop:"")}};g.prototype=$.extend(new d,g.prototype);a.h.v.Ai=g;a.h.v.yD=
e;a.h.v.Ai.fq=function(a,f){var c=b[f];delete b[f];c.success(a)};a.h.v.Ai.dq=function(a,f){var c=b[f];delete b[f];c.fail()}})(window);
(function(a){function g(a,f,c,b){d.apply(this,arguments)}function e(a,f){this.url=a;this.range=f;this.status=this.rb.eh}var d=a.h.v.zi,c=a.h.v.Pm,b={};e.prototype={start:function(a){function f(){d.status=d.rb.ek;a({code:d.status})}function c(f){var b=atob(f),e,n=b.length;f=new Uint8Array(n);for(e=0;e<n;++e)f[e]=b.charCodeAt(e);b=f.length;e="";for(var g=0;g<b;)n=f.subarray(g,g+1024),g+=1024,e+=String.fromCharCode.apply(null,n);d.success(e,a)}var d=this;"undefined"===typeof b[this.range.start]&&(b[this.range.start]=
{success:c,fail:f},window.external.notify(this.url),this.status=this.rb.Ii);d.xl()}};e.prototype=c.prototype.extend(e);g.prototype={gm:e,Zk:function(a,f){return a+"?"+f.start+"&"+(f.stop?f.stop:"")}};g.prototype=$.extend(new d,g.prototype);a.h.v.Li=g;a.h.v.GD=e;a.h.v.Li.fq=function(a,f){var c=b[f];delete b[f];c.success(a)};a.h.v.Li.dq=function(a,f){var c=b[f];delete b[f];c.fail()}})(window);
(function(a){function g(){e.apply(this,arguments)}var e=a.h.v.zi;g.prototype=$.extend(new e,{qu:function(){return{start:this.bu-a.h.v.Ni.prototype.xi,stop:this.bu}},Th:function(a){var c=this;this.Rl(this.url,{start:0,stop:1},function(b,k,f){if(b)return a(b);b=f.W.getResponseHeader("Content-Range");c.bu=b.split("/")[1];e.prototype.Th.call(c,a)})}});a.h.v.vw=g})(window);
(function(a){function g(f,c,b){this.zc=f;this.Xp=!1;this.cache=new d(a.Yq,f.Qj());this.u=c;this.We={};this.Bm={};this.oo={};this.Fo={};this.$o=[];this.ll={};this.Fq={};this.le=b;this.$l=_.bind(this.$l,this);f.bind("partReady",this.$l)}function e(a){window._indexedDB=window._indexedDB||(window.indexedDB||(window.mozIndexedDB||(window.webkitIndexedDB||window.msIndexedDB)));window._IDBTransaction=window._IDBTransaction||(window.IDBTransaction||window.webkitIDBTransaction);window._IDBTransaction&&(!window._IDBTransaction.READ_WRITE&&
(window._IDBTransaction.READ_WRITE="readwrite"));this.name=a;this.db=null;this.Gt="1";this.gl=this.qc=!1}function d(a,f){this.dB=this.Pj=a;this.queue=[];this.Qz=f}function c(a,f){this.Yh=a;this.rv=f;this.dd={};this.Cd={};this.qc=!1;for(var c=0;c<f.length;c++)this.Cd[f[c]]=!0}function b(){this.index=0;this.data={functions:[],dd:[],done:!1};this.rc=[]}function k(a){this.data=a;this.rc=[]}function f(a,f){for(var c=[],b=0;b<a.length;++b)-1===f.indexOf(a[b])&&c.push(a[b]);return c}function n(a,f){this.Yh=
a;this.gi={};this.ae=null;this.ew={};this.Za=f}var l=a.h.v.Vm;a.Vo=!1;k.prototype={init:function(f){if(this.data){var c=this;a.yA(this.data,function(a){c.Mc=a;c.Zo();c.lm=[];c.du=!1;c.data=null;f()})}else f()},cancel:function(){for(var a=0;a<this.rc.length;a++){for(var f=0;f<this.rc[a].saves;f++)this.rc[a].restore();this.rc[a].saves=0}this.rc=[];this.Mc&&this.Mc.cancel()},clone:function(){return new k(this.data)},run:function(a,f,c){return this.zm?(c&&this.Zo(),-1===this.rc.indexOf(a)&&this.rc.push(a),
runEval(this.zm,a,f),!1):this.du=!0},hw:function(){var a=this.lm;this.lm=this.Dt;return f(this.lm,a)},iw:function(a){var c=this;this.init(function(){function b(){var k=f(c.lm,c.du?[]:c.Dt);a(k)}c.Nq?b():c.callback=b})},Zo:function(){if(this.Mc.done)return!1;this.Nq=!1;var a=this;this.Mc.kB(function(f,c){a.zm=f;a.Dt=c;a.Nq=!0;var b=a.callback;a.callback=null;b&&b()})},ap:function(a){var f=this;this.init(function(){function c(){if(f.zm){var b=new Function("c","t",f.zm);f.Zo();a(b)}else a()}f.Nq?c():
f.callback=c})}};b.prototype={clone:function(){var a=new b;a.data=this.data;a.index=0;return a},cancel:function(){for(var a=0;a<this.rc.length;a++){for(var f=0;f<this.rc[a].saves;f++)this.rc[a].restore();this.rc[a].saves=0}this.rc=[]},ap:function(a,f){function c(){d.ap(function(a){a?(b.data.functions.push(a),setTimeout(c,0)):(b.data.done=!0,f());a=b.data.dd.length;if(0<a){for(var k=0;k<a;++k)b.data.dd[k]();b.data.dd=[]}})}this.data.done=!1;var b=this,d=new k(a);b.data.functions=[];c();this.index=
0},hw:function(){return[]},iw:function(a){this.data.done||this.index<this.data.functions.length?a([]):this.data.dd.push(function(){a([])})},run:function(a,f,c){var b=this.data.functions[this.index];c&&this.index++;-1===this.rc.indexOf(a)&&this.rc.push(a);return b?(b(a,f),!1):!0}};c.prototype={OA:function(){return 0===_(this.Cd).keys().length}};d.prototype={getItem:function(a){return(a=this[a])?a:null},setItem:function(a,f,c){if(a in this)this.queue.splice(this.queue.indexOf(a),1),this.queue.push(a);
else if(this.Qz)this[a]={data:f,xb:c},this.queue.push(a);else if(f.length<this.dB/2){for(;this.Pj<f.length;){var b=this.queue[0];this.Pj+=this[b].data.length;delete this[b];this.queue.shift()}this.Pj-=f.length;this[a]={data:f,xb:c};this.queue.push(a)}}};e.prototype={open:function(a,f){var c=this,b=window._indexedDB.open(c.name);if(_.isUndefined(b))f("User declined to increase space");else{b.onsuccess=function(){c.db=b.result;if(c.db.setVersion&&c.db.version!==c.Gt){var a=c.db.setVersion(c.Gt);a.onsuccess=
function(){c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"});a.result.oncomplete=k}}else k()};b.onupgradeneeded=function(a){c.db=a.target.result;c.db.objectStoreNames.contains(c.name)&&c.db.deleteObjectStore(c.name);c.db.createObjectStore(c.name,{keyPath:"partName"})};b.onerror=function(){f("Error opening database for offline mode")};var k=function(){c.get("NumParts",function(b,k){if(b)c.gl=!1,a();else{var d=c.db.transaction([c.name]).objectStore(c.name).count();
d.onsuccess=function(){c.gl=d.result===k;a()};d.onerror=function(){f("Error opening database for offline mode")}}})}}},bw:function(a,f,c,b){var k=this.db.transaction([this.name],window._IDBTransaction.READ_WRITE);k.oncomplete=function(){b&&b()};k.onerror=function(){b&&b();throw Error("Error adding "+a+" to the offline database");};k.objectStore(this.name).put({partName:a,partData:f,compressed:c})},DC:function(a,f,c,b,k){function d(f){a.de(f,function(a){var f=g.indexOf(a.ba);-1<f&&delete g[f];e()||
n.bw(a.ba,a.data,a.xb,function(){e()||(l++,b(l/B),l===B&&(n.gl=!0,c()))})},!0)}function e(){n.qc&&(!A&&(A=!0,k(g),c()));return A}var n=this;n.qc=!1;c=c||function(){};b=b||function(){};k=k||function(){};var l=0,g=Object.keys(f),B=g.length,A=!1;n.bw("NumParts",B+1,!1,function(){for(var a=0;a<B;a++)d(g[a])})},Wy:function(){this.qc=!0},get:function(a,f){var c=this.db.transaction([this.name]).objectStore(this.name).get(a);c.onsuccess=function(){c.result?f(!1,c.result.partData,c.result.compressed):f("Part "+
a+" not found in the offline database")};c.onerror=function(){f("Error getting "+a+" from offline database")}},Rh:function(){return this.gl}};g.prototype={de:function(f,c,b){function k(a){a=$.extend({},a);c(a)}var d=this.cache.getItem(f);if(null!==d){var e=d.xb;d.xb&&!b?(b=a.mf.inflate(d.data),e=!1):b=d.data;c({ba:f,data:b,Le:!0,qc:!1,error:null,xb:e});return c}this.bind(f,k);this.oo[f]=!0;this.Fo[f]=!b;this.zc.W([f]);return k},$l:function(f){if(f.error)console.error("Error reading part "+f.ba+": "+
f.error),this.trigger(f.ba,{ba:f.ba,error:f.error}),this.unbind(f.ba);else{var c=this,b=function(b){c.cache.setItem(f.ba,b,f.xb);if(c.oo[f.ba]){var k=f.xb;f.xb&&(c.Fo[f.ba]&&(b=a.mf.inflate(b),k=!1));delete c.oo[f.ba];delete c.Fo[f.ba];c.trigger(f.ba,{ba:f.ba,data:b,Le:!1,qc:!1,error:null,xb:k});c.unbind(f.ba);delete c._callbacks[f.ba]}};this.zc.vg?this.zc.Et?b(this.zc.vg(f.data,this.zc.cl,f.ba)):this.zc.vg(f.data,this.zc.cl,f.ba,b):b(f.data)}},rp:function(a){return this.Hp?"Thumbs/"+(a+1)+".jpg":
"Thumbs/"+(a+1)+".png"},qp:function(a,f,c){var b=this,k=!1,d=this.de(this.rp(a),function(a){k=a.Le;b.Av(f);c(a)});k||(this.Bm[f]={vo:d,Dd:a})},Au:function(f,b,k){function d(a){if(a.error)return console.error("Failed to load part for page "+f+": "+a.error);delete A.Cd[D];w.mo=l.oB(a.ba,a.data);e()}function e(){if(A.OA()){if(null===L.ae)throw Error("Functions have not been generated yet");A.qc||(Q||(delete l.We[f],l.trigger(f,!1,L),k(!1,L),Q=!0,l.unbind(f+""),l._callbacks&&delete l._callbacks[f+""]))}}
var l=this;this.We[f]=this.We[f]||{ei:{}};var g=0<Object.keys(this.We[f].ei).length;this.We[f].ei[b]=null;if(g)return a.utils.warn("Duplicate request for page "+f),g=function(a,f){var c=$.extend({},f);c.ae=f.ae.clone();c.gi=$.extend(!0,{},c.gi);k(a,c)},this.We[f].ei[b]=g,this.bind(f,g);var w=l.u[f],x=w.mm[2],D=w.mm[1],B=w.mm[0],A;A=this.Xp?new c(f,[B,D,x]):new c(f,[B,x]);this.We[f].W=A;var C=A.dd,Q=!1,L=new n(f,l);C[x]=l.de(x,function(c){if(c.error)return console.error("Failed to load part for page "+
f+": "+c.error);c=l.rB(c.ba,c.data);delete A.Cd[x];_(c).each(function(a){A.Cd[a.slice(1)]=!0});_(c).each(function(c){c=c.slice(1);var b=-1!==c.indexOf(".odttf")||-1!==c.indexOf(".otf"),k=-1!==c.indexOf(".png")||-1!==c.indexOf(".jpg");a.Vo&&b?(delete A.Cd[c],L.gi[c]=l.tg(c)):b&&!l.le.Kl(l.tg(c).name)?(A.rv.push(c),C[c]=l.de(c,function(a){if(a.error)return console.error("Failed to load part for page "+f+": "+a.error);delete A.Cd[c];L.gi[c]=l.tg(a.ba,a.data);e()})):k&&a.Vo?(delete A.Cd[c],setTimeout(function(){l.de(c,
function(a){a=l.tg(a.ba,a.data);var c=new Image;c.src=a.data;$(c).css({position:"absolute","z-index":8,height:"100%",width:"100%"}).prependTo("#pageContainer"+f)})},0)):(delete A.Cd[c],L.gi[c]=l.tg(c),e())});e()});this.Xp&&(C[D]=l.de(D,d));if(f in l.ll)return L.ae=l.ll[f].clone(),L.ew=l.Fq[f],delete A.Cd[B],e();C[B]=l.de(B,function(c){if(c.error)return console.error("Failed to load part for page "+f+": "+c.error);l.Rz(c.data,A,L,function(){delete A.Cd[B];if(a.bh){if(l.$o.length>=a.bh){var c=l.$o.shift();
delete l.ll[c];delete l.Fq[c]}l.$o.push(f);l.ll[f]=L.ae;l.Fq[f]=L.ew}e()})},!0)},Rz:function(f,c,d,e){a.bh?(c=new b,c.ap(f,e),d.ae=c):(d.ae=new k(f),e())},Xy:function(a,f){var c=this.We[a];if(c){this.zc.so(c.W.rv);var b=c.ei[f];b&&this.unbind(a+"",b);delete c.ei[f];if(0===Object.keys(c.ei).length){c.qc=!0;var c=c.dd,k;for(k in c)c.hasOwnProperty(k)&&this.unbind(k,c[k]);delete this._callbacks[a+""];delete this.We[a]}}},Zy:function(a){var f=this.Bm[a];f&&(this.zc.so([this.rp(f.Dd)]),this.Av(a))},Av:function(a){var f=
this.Bm[a];f&&(this.unbind(this.rp(f.Dd),f.vo),delete this.Bm[a])},tg:function(f,c){var b,k=f,d=f.match(/\.([a-zA-Z]+)$/)[1].toLowerCase();switch(d){case "png":case "jpg":f="i"+f.match(/Images\/(\d+)/)[1];if(c){l&&this.zc instanceof l?b=this.zc.path+c:(b=btoa(c),b="data:image/"+("jpg"===d?"jpeg":d)+";base64,"+b);break}break;case "odttf":var e;c&&(e=this.tz(f,c));f="f"+parseInt(f.substr(34,8),16);c&&(b=new a.dg.FontFace(f,e,"opentype"),this.le.Uu(f)||b.ee());d="font";break;case "otf":f=f.substr(0,
f.length-4);f="f"+parseInt(f.substr(6),10);if(c){if(l&&this.zc instanceof l)d=this.zc.path;else throw Error("Use an external part retriever for documents with external fonts");b=new a.dg.FontFace(f,null,"opentype",d+c);this.le.Uu(f)||b.ee()}d="font";break;default:b=c}return{name:f,type:d,data:b,ba:k}},rB:function(f,c){var b=[],k=new a.qf(c);for(k.vc();k.advance();){var d=k.hb("Target");null!==d?b.push(d):a.utils.warn("Corrupt rels part: %s",f)}0<b.length&&(_(b).last().match(/Thumbs/)&&b.pop());return b},
oB:function(f,c){var b=[],k=new a.qf(c);for(k.vc();k.advance();){for(var d=k.Me(),e=k.hb("BBox"),e=e.split(","),l=0;4>l;++l)e[l]=parseFloat(e[l]);"Hyperlink"===d?b[b.length]=new a.h.eg(e,k.hb("Target")):"Link"===d&&(b[b.length]=new a.h.ye(e,k.hb("ID"),k.hb("Vpos"),k.hb("Hpos")))}return b},tz:function(a,f){a=a.split("/")[1].split(".")[0];for(var c=a.split("-"),b=[],k=16,d=0;d<c.length;++d)for(var e=c[d],l=0;l<e.length;l+=2)b[--k]=parseInt(e.slice(l,l+2),16);for(c=0;16>c;++c)k=b[c],b[c]=String.fromCharCode(f.charCodeAt(c)^
k),b[c+16]=String.fromCharCode(f.charCodeAt(c+16)^k);return f=b.join("")+f.slice(32)}};_(g.prototype).extend(Backbone.Events);a.h.v.ex=g;a.h.gx=e;a.h.wD=k})(window);
(function(a){function g(){this.fonts=[]}function e(a,b,k,f){_.isUndefined(f)?(f=this.gB[k],b=btoa(b),this.url=["data:",f,";base64,",b].join("")):this.url="'"+f+"'";this.url=["url(",this.url,") format('",k,"')"].join("");this.LB=["@font-face { font-family:'",a,"';src:",this.url,"}"].join("");this.name=a}document.head||(document.head=document.getElementsByTagName("head")[0]);a.hf={};e.prototype={Dq:null,styleSheet:null,gB:{woff:"application/x-font-woff",opentype:"font/opentype"},ee:function(){if(!a.hf[this.name]){if(!this.styleSheet){var c=
document.createElement("style");document.head.appendChild(c);e.prototype.styleSheet=c.sheet;e.prototype.Dq=c}c=this.styleSheet.cssRules.length;this.styleSheet.insertRule(this.LB,c);a.hf[this.name]=this.styleSheet.cssRules[c]}},remove:function(){if(!a.utils.ie){var c=a.hf[this.name];if(!c)throw Error("CSS @font-face rule is not in use");var b,k=this.styleSheet.cssRules.length,f=this.styleSheet.cssRules;for(b=0;b<k;b++)if(f[b]===c){this.styleSheet.deleteRule(b);delete a.hf[this.name];return}throw Error("CSS @font-face stylesheet has been altered externally");
}}};g.prototype={$A:atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="),
aB:0,Fy:function(a){this.fonts.push(a)},CA:function(){return 0!==this.fonts.length},av:function(c){function b(a,f){return a.charCodeAt(f)<<24|a.charCodeAt(f+1)<<16|a.charCodeAt(f+2)<<8|a.charCodeAt(f+3)&255}function k(a,f){g++;30<g?(console.warn("Load test font never loaded."),f()):(e.font="30px "+a,e.fillText(".",0,20),0<e.getImageData(0,0,1,1).data[3]?f():setTimeout(_.bind(k,null,a,f)))}var f,d;f=document.createElement("canvas");f.width=1;f.height=1;var e=f.getContext("2d"),g=0,m="lt"+Date.now()+
this.aB++,q=this.$A,q=q.substr(0,976)+m+q.substr(976+m.length),r=b(q,16);f=0;for(d=m.length-3;f<d;f+=4)r=r-1482184792+b(m,f)|0;f<m.length&&(r=r-1482184792+b(m+"XXX",f)|0);var q=q.substr(0,16)+(String.fromCharCode(r>>24&255)+String.fromCharCode(r>>16&255)+String.fromCharCode(r>>8&255)+String.fromCharCode(r&255))+q.substr(20),u=new a.dg.FontFace(m,q,"opentype");u.ee();q=[];f=0;for(d=this.fonts.length;f<d;f++)q.push(this.fonts[f].name);q.push(m);var s=document.createElement("div");s.setAttribute("style",
"visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");f=0;for(d=q.length;f<d;++f)r=document.createElement("span"),r.textContent="Hi",r.style.fontFamily=q[f],s.appendChild(r);document.body.appendChild(s);var v=this;k(m,function(){document.body.removeChild(s);u.remove();for(var a=0;a<v.fonts.length;a++)c(v.fonts[a].name);v.fonts=[]})},WA:function(a,b,k){var f=document.createElement("div");f.setAttribute("style","visibility: hidden;width: 10px; height: 10px;position: absolute; top: 0px; left: 0px;");
f.innerHTML=""+('<span style="font-family:'+a+'">" + testString +"</span>');document.body.appendChild(f);$.get(b,function(){setTimeout(function(){k();document.body.removeChild(f)},300)})}};if(document.fonts){var d=e,e=function(){d.apply(this,arguments);this.Xo=new window.FontFace(this.name,this.url,{})};e.prototype=d.prototype;$.extend(e.prototype,{ee:function(){document.fonts.add(this.Xo);a.hf[this.name]=this},remove:function(){document.fonts.delete(this.Xo)}});$.extend(g.prototype,{av:function(a){this.fonts.forEach(function(b){b.Xo.load().then(function(){a(b.name)})["catch"](function(){a(b.name);
console.warn("font failed to load"+b.name)})})}})}a.dg={FontFace:e,Fw:g}})(window);
(function(a){function g(a,c,b){this.page=a;this.Jg=c;this.le=b;this.au=c.Za.zc.path;this.Fg=this.paused=!1}var e={sd:0,gd:1,xg:2,ud:3};a.asc=function(a){var c=0.707106781*a.m_a+0.707106781*a.m_b;a=0.707106781*a.m_c+0.707106781*a.m_d;return Math.sqrt(c*c+a*a)};g.prototype={pause:function(){this.paused=!0;this.Ao()},Ao:function(){this.Sl=!1;clearTimeout(this.bv)},cz:function(d,c,b,k,f,n,l){function g(){B=!0;q.iw(function(){if(m.abort){if(D)return v&&(v=!1,k(r)),q=m.Tf=null,m.Ao(),m.abort&&m.abort(),
b(r);q.hw();m.abort&&(++w,D=q.run(u,s,!0),B=!1,m.Sl=!1,m.paused||m.tm())}})}var m=this;c=c||e.sd;b=b||function(){};var q=this.Jg.ae;f&&(0<f&&(f=Math.round(f)));d=a.h.Qa.Sv(this.page,d||1,c,n,f,l);var r=d.canvas,u=d.ctx,s=d.t,v=void 0!==k,w=0,x=setTimeout(function(){},a.bh?2E3:6E3);m.abort=function(){B=!1;m.Ao();m.bv=null;m.Tf=null;q&&(q.cancel(),q=null);m.Jg.ae=null;clearTimeout(x);m.tm=null;m.abort=null};var D=!1;m.Tf=function(){!1!==B||(m.Sl||m.tm());m.paused=!1};m.tm=function(){m.Sl=!0;m.bv=setTimeout(g,
0)};var B=!1;m.Sl=!1;m.paused||m.tm()},Du:function(a){var c=[];if(a)for(var b=0;b<a.length;++b)c[b]=this.Jg.Za.tg(a[b]);else _(this.Jg.gi).each(function(a){c.push(a)});return c},ZA:function(d,c,b){function k(c){var b=l.le.Kl(c.name);f(c);switch(c.type){case "png":case "jpg":if(a.ci[c.name]){if(b){e(c.name);break}a.ci[c.name].Af.push(function(){e(c.name)});break}var k=new Image;k.onload=function(){for(var a=0;a<this.Af.length;++a)this.Af[a]();k.Af=[];k=k.onload=k.onerror=null};k.onerror=function(){a.utils.warn("img error "+
c.name);for(var f=0;f<this.Af.length;++f)this.Af[f]();k.Af=[];k=k.onload=k.onerror=null};k.hres=c.hres;k.vres=c.vres;a.ci[c.name]=k;k.Af=[];k.Af[0]=function(){e(c.name)};k.Dd=l.Jg.Yh;k.src=c.data;break;case "font":_.isUndefined(l.au)?m.Fy(c.data):m.WA(c.name,l.au+c.ba,function(){e(c.name)});break;default:a.utils.warn("unknown resource type: "+c.type),e(c.name)}}function f(a){b&&l.le.Ay(a.name)}function e(a){l.le.loaded(a);if(l.Fg&&1>--g)return l.Fg=!1,d(c[0])}if(this.Fg)throw Error("Multiple calls to loadResource");
var l=this;c=this.Du(c);var g=c.length;this.Fg=!0;var m=new a.dg.Fw,q=!0;_(c).each(function(a){q=!1;l.le.Kl(a.name)?(f(a),e(a.name)):a.data?k(a):l.Jg.Za.de(a.ba,function(c){l.le.Kl(a.name)?(f(a),e(a.name)):k(l.Jg.Za.tg(c.ba,c.data))})});m.CA()&&m.av(_(e).bind(this));q&&(d(),this.Fg=!1)},qt:function(){this.Fg&&(this.Fg=!1)},cf:function(d){var c=this;c.qt();d=this.Du(d);_(d).each(function(b){if("font"!==b.type&&c.le.release(b.name))switch(b.type){case "png":case "jpg":delete a.ci[b.name];break;case "font":b.data&&
b.data.remove()}})}};a.Od=a.Od||{};a.Od.vx=g;a.Od.qr=function(){var a={};return{Ay:function(c){c in a?a[c].c++:a[c]={c:1,l:!1}},loaded:function(c){c in a&&(a[c].l=!0)},Uu:function(c){return c in a?!0:!1},Kl:function(c){return c in a?a[c].l:!1},release:function(c){if(!(c in a))return!1;a[c].c-=1;return a[c].c?!1:(delete a[c],!0)}}};a.h.ia=e;a.xe=function(d,c,b,k,f,n){k=k||{x:0,y:0};b.width?(b.x1=0,b.y1=0,b.x2=b.width,b.y2=b.height):(b.width=b.x2-b.x1,b.height=b.y2-b.y1);var l=new XODText.Ja;_.isUndefined(f)&&
(f=!0);f&&(f=n||a.utils.getCanvasMultiplier(b.width*d,b.height*d,d),d*=f,k.x*=f,k.y*=f);l.Va(d,0,0,d,k.x,k.y);d=new XODText.Ja;c===e.sd?d.Va(1,0,0,1,-b.x1,-b.y1):c===e.gd?d.Va(1,0,0,1,b.y2,-b.x1):c===e.xg?d.Va(1,0,0,1,b.x2,b.y2):c===e.ud&&d.Va(1,0,0,1,-b.y1,b.x2);l.concat(d);l.concat(XODText.Ja.Rj(Math.PI/2*(4-c)));return l}})(window);
(function(a){function g(f,c,b,k,d,e){var n={getZoom:function(){return 1},getPageRotation:function(){return a.h.ia.sd},finishedLoading:function(){return!0},acquireResources:function(){return!0},resourcesLoaded:function(){return!0},getPageTransform:function(){},drawProgressive:function(){},drawComplete:function(){}};_.isObject(f)?(n=$.extend(n,f),n.zoom&&(n.getZoom=function(){return n.zoom}),n.pageRotation&&(n.getPageRotation=function(){return n.pageRotation})):n=$.extend(n,{pageIndex:f,getZoom:function(){return c},
getPageRotation:function(){return b},drawProgressive:d,drawComplete:k,canvasNum:e});return n}function e(){console.warn("Function not implemented.")}function d(a){a in this.yj?(clearTimeout(this.yj[a]),delete this.yj[a]):this.Gd.Xd(a)}var c=window.h,b=a.h.v.Ni,k=a.h.v.Vm;a.ci=a.ci||{};var f=1E3;a.h.jC=function(a){f=a};a.h.mn=function(f){a.ag=524288*f*f;a.Yq=524288*f*f;a.bh=3*f;switch(f){case 0:a.bh=0;a.ag=0;a.Yq=0;break;case 1:a.bh=0,a.ag=0}};a.h.sr=function(f){a.Op=1+2*(f-1);a.Pp=f-1;0>a.Op&&(a.Op=
0);0>a.Pp&&(a.Pp=0)};a.h.mn(6);a.h.sr(5);c.eg=function(a,f){this.sg=a;this.target=f;this.Rect=a};c.eg.prototype={fp:function(){return this.sg},rA:function(){return this.target}};c.ye=function(a,f,c,b,k,d){this.sg=a;this.Gm=c||0;this.El=b||0;this.md=f;this.Lo=k;this.Gb=d;this.Rect=a};c.ye.prototype={fp:function(){return this.sg},sp:function(){return this.Gm},jp:function(){return this.El},$a:function(){return this.md}};c.Kd=function(a,f,c,b,k,d,e){this.children=a;this.name=f;this.Yh=c;this.parent=b;
this.ni=k||0;this.Oh=d||0;this.url=e};c.Kd.prototype={mu:function(){return this.children},getName:function(){return this.name},$a:function(){return this.Yh},wA:function(){return this.url},getParent:function(){return this.parent},sp:function(){return this.ni},jp:function(){return this.Oh}};var n=Backbone.Model.extend({defaults:{title:"",XD:null,XE:null,xE:null,WD:null,Rp:null,description:null,OE:null}});c.Ia=function(a,f){_.isUndefined(f)?this.o=new c.Mi(a):"pdf"===f&&(this.o=new c.Ei)};c.Ia.prototype=
{Eh:function(a){return this.o.Eh.apply(this.o,arguments)},Ke:function(a){return this.o.Ke.apply(this.o,arguments)},Yj:function(a){return this.o.Yj.apply(this.o,arguments)},Wk:function(){return this.o.Wk.apply(this.o,arguments)},kj:function(){return this.o.kj.apply(this.o,arguments)},tl:function(a){this.o.tl.apply(this.o,arguments)},yl:function(){return this.o.yl.apply(this.o,arguments)},If:function(){return this.o.If.apply(this.o,arguments)},tc:function(a){var f={};f.width=this.o.u[a].width;f.height=
this.o.u[a].height;return f},pp:function(a,f,c,b){return this.o.pp.apply(this.o,arguments)},Ph:function(){return this.o.Ph.apply(this.o,arguments)},Aj:function(a){return this.o.Aj.apply(this.o,arguments)},Rh:function(){return this.o.Rh()},Pf:function(a,f,c){return this.o.Pf.apply(this.o,arguments)},Te:function(a,f,c,b,k,d){return this.o.Te.apply(this.o,arguments)},Mp:function(a,f){return this.o.Mp.apply(this.o,arguments)},Vh:function(a,f){return this.o.Vh.apply(this.o,arguments)},cm:function(a){return this.o.cm.apply(this.o,
arguments)},om:function(a){return this.o.om.apply(this.o,arguments)},um:function(a){return this.o.um.apply(this.o,arguments)},ym:function(a,f){return this.o.ym.apply(this.o,arguments)},cf:function(){return this.o.cf.apply(this.o,arguments)},Uh:function(a,f){return this.o.Uh.apply(this.o,arguments)},Ql:function(a,f){return this.o.Ql.apply(this.o,arguments)},Ll:function(){return this.o.Ll.apply(this.o,arguments)},Bf:function(a){return this.o.Bf.apply(this.o,arguments)},Xd:function(a){return this.o.Xd.apply(this.o,
arguments)},kd:function(a,f){return this.o.kd.apply(this.o,arguments)},rl:function(a,f){return this.o.rl.apply(this.o,arguments)},get numPages(){return this.o.u.length},ec:function(a){return this.o.u[a].width},dc:function(a){return this.o.u[a].height},ce:function(a){return this.o.u[a].ge},iA:function(a){return this.o.u[a].rotation},Bu:function(a){return this.o.u[a].text},fC:function(a,f){this.o.u[a].text=f},yu:function(a){return this.o.u[a].mo},zu:function(a){return this.o.u[a].links}};c.ak=function(){throw Error("Cannot initialize BaseDocument");
};c.ak.prototype={Eh:e,Ke:e,Yj:e,Wk:e,kj:e,tl:e,yl:e,If:e,tc:e,wu:e,pp:function(a,f,c,b){if(c<=f)return console.error("End index must be greater than start index");this.kd(a,function(a){a=a.Dg();var k=8*f,d=8*c;if(k>a.length||d>a.length)return console.error("Index out of bounds");for(var e=[];k<d;k+=8)e.push({x1:a[k],y1:a[k+1],x2:a[k+2],y2:a[k+3],x3:a[k+4],y3:a[k+5],x4:a[k+6],y4:a[k+7]});b(e)})},Ju:e,Ph:e,Aj:e,Rh:e,Pf:e,Te:e,Mp:function(a,f){this.kd(a,function(a){f(a.Wa)})},Vh:e,cm:e,om:e,um:e,ym:e,
cf:e,Uh:e,Ql:e,Bf:e,Ll:function(){return!1},Xd:e,kd:e,rl:e,ot:function(){for(var f=1,c=this.u.length,b=a.utils.getCanvasMultiplier(),b=b*b,k=0;k<c;++k)var d=this.u[k],f=Math.max(f,d.width*d.height*b);return Math.sqrt(8E6/f)},ro:function(a){return 0===a.m_b&&0===a.m_c?0<a.m_a?0:180:0>a.m_b?270:90}};c.Mi=function(f){this.mh=this.mb=null;this.Wn=new a.Od.qr;this.id=f;this.Zl=!1;this.Wc=null;this.zf={};this.Yp=_.bind(this.Yp,this);this.kl=null;this.Vf=1};c.Mi.prototype=Object.create(c.ak.prototype);c.Mi.prototype.constructor=
c.Mi;$.extend(c.Mi.prototype,{Nd:"Document/FixedDocument.fdoc",ue:"Document/DocProps/core.xml",Ld:"Document/Structure/DocStruct.struct",Dw:"Struct/font.xml",Nx:"Struct/",Mx:"Text/",Pf:function(f,c,b){this.mb=f;this.Wd=[];this.Ul=new n;this.u=[];this.Pb={};this.Pb[this.Nd]=0;this.Pb[this.ue]=0;this.Pb[this.Ld]=0;this.mb.Qj()&&(this.Jj={});var k=this,d;d=b&&b.annotsLoadedCallback?b.annotsLoadedCallback:function(){};f.bind("partReady",this.Yp);this.bind("documentReady",function(a){1.2===k.Vf?(k.ly(),
c(a),d()):k.Za.de("Annots.xfdf",function(f){f=f.data;k.u[0].mo=f;k.ny(f);c(a);d(f)})});f instanceof a.h.v.Ki?(this.Zl=!0,this.Aj(function(){f.db=k.Wc;f.km(c)})):f.km(c)},Ql:function(f,c,b){var k=this;if(!this.Za)throw Error("Document is not initialized!");1.2===this.Vf&&(this.Za.Xp=!0);this.Za.Au(f,c,function(c,d){var e=new a.Od.vx(k.u[f],d,k.Wn);b(c,e)})},Uh:function(a,f){if(!this.Za)throw Error("Document is not initialized!");return this.Za.de(a,f)},XA:function(a){var f=this;null===f.kl?f.Uh(f.Dw,
function(c){if(c.error)throw Error("SELECT: Error getting part "+c.ba+": "+c.error);var b=new XODText.Zm;b.kq(c.data);f.kl=b.Yo;a(f.kl)}):a(f.kl)},kd:function(a,f){var c=this;1.4>c.Vf?null===c.u[a].text?c.Uh(c.Mx+(a+1)+".xml",function(b){if(b.error)throw Error("SELECT: Error getting part "+b.ba+": "+b.error);var k=new XODTextOld.pf;k.KA(b.data);c.u[a].text=k;f(k)}):f(c.u[a].text):c.XA(function(b){null===c.u[a].text?c.Uh(c.Nx+(a+1)+".xml",function(k){var d=new XODText.pf,e=new XODText.Ja;e.Va(1,0,
0,1,0,0);var n=new XODText.ln(b);c.Za.Au(a,_.uniqueId(),function(b,g){var q=g.ae.clone(),B=!1;try{do B=q.run(n,e,!0);while(!B)}catch(A){console.warn("Custom Canvas has encountered an error: "+A.message);return}d.kq(k.data,n);c.u[a].text=d;f(d)})}):f(c.u[a].text)})},Ll:function(){return 1.2>=this.Vf},Ph:function(){return this.uj},Te:function(a,f,c,b,k,d){var e=this,n=g(a,f,c,b,k,d),w=_.uniqueId();e.zf[w]={Eg:null,paused:!1,Dd:n.pageIndex};e.Ql(n.pageIndex,w,function(a,f){if(a)throw Error("Error loading page %d:",
n.pageIndex);_.isUndefined(e.zf[w])||(e.zf[w].Eg=f,e.zf[w].paused&&f.pause(),n.finishedLoading(a,f)&&f.ZA(function(){n.resourcesLoaded()&&f.cz(n.getZoom(),n.getPageRotation(),function(a){n.drawComplete(a,n.pageIndex)},function(a){n.drawProgressive(a,n.pageIndex)},n.canvasNum,n.getPageTransform(),n.renderRect)},void 0,n.acquireResources()))});return w},cm:function(a){if(a=this.zf[a])a.paused=!0,a.Eg&&a.Eg.pause()},om:function(a){if(a=this.zf[a])a.paused=!1,a.Eg&&(a.Eg.Tf&&a.Eg.Tf())},Yj:function(a){this.Ke(a)},
Ke:function(a){var f=this.zf[a];f&&((this.Xd(f.Dd,a),f=f.Eg)&&(f.cf(),f.abort&&f.abort()));this.Bf(a)},Bf:function(a){delete this.zf[a]},Vh:function(a,f){if(!this.Za)throw Error("Document is not initialized!");var c=this,b;if(this.uj)b=_.uniqueId(),this.Za.qp(a,b,function(a){var b=new Image;a=k&&c.mb instanceof k?c.mb.path+a.data:"data:image/png;base64,"+btoa(a.data);b.onload=function(){f(b);b=b.onload=null};b.src=a},name);else{var d=this.u[a];b=this.Te({pageIndex:a,zoom:d.width>d.height?150/d.width:
150/d.height,drawComplete:function(a){a.style.backgroundColor="white";c.Yj(b);f(a)}})}return b},Aj:function(f){if(null===this.Wc){if(_.isUndefined(this.id)||_.isNull(this.id)){this.id=a.top.location.href;for(var c=a.top.location.hash.substring(1).split("&"),b=0;b<c.length;b++){var k=c[b].split("=");if("d"===k[0]){this.id=k[1];break}}}var d=this;this.Wc=new a.h.gx(this.id);this.Wc.open(f,function(a){d.Wc=null;console.error(a)})}else console.warn("Offline DB is already initialized!"),f()},ym:function(f,
c){if(!this.Za)throw f(),Error("Document is not initialized!");if(!this.Wc)throw f(),Error("Offline DB is not initialized!");if(this.mb instanceof a.h.v.Ki)throw f(),Error("Can't download file while in offline mode!");var b=this;this.Wc.DC(b.Za,b.mb.Vb.yg,f,c,function(a){b.mb.so(a)})},Rh:function(){if(!this.Wc)throw Error("Offline DB is not initialized!");return this.Wc.Rh()},Wk:function(){if(!this.Wc)throw Error("Offline DB is not initialized!");this.Wc.Wy()},yl:function(){return this.Zl},um:function(f){if(!this.Wc)throw Error("Offline DB is not initialized!");
this.Zl!==f&&(!(this.Zl=f)||(this.mh instanceof a.h.v.Ki||(this.mh=new a.h.v.Ki(this.Wc),this.mh.bind("partReady",this.Za.$l))),this.JC())},JC:function(){if(null!==this.mh){var a=this.mh;this.mh=this.mb;this.mb=a;this.Za.zc=this.mb}},Xd:function(a,f){if(!this.Za)throw Error("Document is not initialized!");this.Za.Xy(a,f)},Eh:function(a){this.uj?this.Za.Zy(a):this.Ke(a)},fD:function(a,f){if(!f)return a;for(var c="",b=0,k=0,d=0,e=0;b<a.length;)k=a.charCodeAt(b),128>k?(c+=String.fromCharCode(k),b++):
191<k&&224>k?(d=a.charCodeAt(b+1),c+=String.fromCharCode((k&31)<<6|d&63),b+=2):(d=a.charCodeAt(b+1),e=a.charCodeAt(b+2),c+=String.fromCharCode((k&15)<<12|(d&63)<<6|e&63),b+=3);return c},Yp:function(f){if(f.error)return this.Pb[f.ba]=3,this.Zr();var c;c=this.mb.vg?this.mb.Et?this.mb.vg(f.data,this.mb.cl,f.ba):a.h.ah.pz(f.data,this.mb.cl,f.ba):f.data;this.mb.Qj()&&(this.Jj[f.ba]={data:c,xb:f.xb});f.xb&&(c=b.inflate(c));switch(f.ba){case this.Nd:c=new a.qf(c);c.vc();c.advance();f=c.hb("JPGThumbs");this.Hp=
"true"===f;f=c.hb("IncludesThumbs");this.uj=null===f||"false"!==f;f=c.hb("Version");this.Vf=parseFloat(f);if(1.2>this.Vf)throw this.Pb[this.Nd]=null,Error("The XOD version is out of date. Please re-convert the file with the most recent version of PDFNet or the command line converter.");if(1.4<this.Vf)throw Error("The XOD file version is too new for this client. Please update the WebViewer client version.");for(f=this.Pb[this.Nd]=1;c.advance();++f){var k=new a.fh(parseFloat(c.hb("Width")),parseFloat(c.hb("Height")));
k.mm=["Pages/"+f+".xaml","Annot/"+f+".xml","Pages/_rels/"+f+".xaml.rels"];this.u.push(k)}this.fv=this.ot();break;case this.ue:this.Pb[this.ue]=1;c=new a.qf(c);c.vc();for(this.Ul=new n;c.advance();)f=c.Me().split(":"),this.Ul.attributes[1===f.length?f[0]:f[1]]=c.Ag();break;case this.Ld:this.Pb[this.Ld]=1;this.Wd=[];c=new a.qf(c);c.vc();c.advance();c.vc();c.advance();c.vc();for(var d=0,e=null;c.advance();){var k=parseInt(c.hb("OutlineLevel"),10),g=new a.CoreControls.Bookmark;g.children=[];g.name=this.fD(c.hb("Description"),
f.xb);if(d<k)g.parent=e;else for(g.parent=e.parent;d>k;)g.parent=g.parent.parent,--d;g.ni=c.hb("trn:Vpos");g.ni=null===g.ni?0:parseFloat(g.ni);g.Oh=c.hb("trn:Hpos");g.Oh=null===g.Oh?0:parseFloat(g.Oh);d=c.hb("OutlineTarget").split("#");1===d.length||0===d[1].length?g.url=d[0]:g.Yh=parseInt(d[1],10);null!==g.parent?g.parent.children[g.parent.children.length]=g:this.Wd[this.Wd.length]=g;d=k;e=g}break;default:if(this.Pb[this.Nd])return this.Pb[this.ue]=this.Pb[this.ue]||2,this.Pb[this.Ld]=this.Pb[this.Ld]||
2,this.hs(f)}this.Zr()},kj:function(){return this.Wd},tl:function(a){return 1.2===this.Vf?this.u[a].mo:this.u[a].links},If:function(){return this.u.length},tc:function(a){var f={};f.width=this.u[a].width;f.height=this.u[a].height;return f},wu:function(a,f,c){f={x:f,y:c};return this.u[a].ge.inverse().wa(f)},Ju:function(a,f,c){return this.u[a].ge.wa({x:f,y:c})},cf:function(){if(document.fonts)for(var f in a.hf)a.hf[f].remove();a.ci={};a.hf={};f=a.dg.FontFace.prototype.Dq;null!==f&&(document.head.removeChild(f),
a.dg.FontFace.prototype.styleSheet=null,a.dg.FontFace.prototype.Dq=null);this.Wn=new a.Od.qr;this.ds()},ds:function(){this.mb.unbind("partReady");this.Za=new a.h.v.ex(this.mb,this.u,this.Wn);this.Za.Hp=this.Hp},Zr:function(){this.Pb[this.Nd]&&(this.Pb[this.ue]&&(this.Pb[this.Ld]&&this.hs()))},hs:function(a){this.ds();if(this.mb.Qj()){for(var f in this.Jj)this.Za.cache.setItem(f,this.Jj[f].data,this.Jj[f].xb);delete this.Jj}this.trigger("documentReady",3===this.Pb[this.Nd]);a&&this.mb.trigger("partReady",
a)},ly:function(){var a=new XODText.Ja;a.Va(4/3,0,0,-4/3,0,this.u[0].height);for(var f=this.u.length,c=0;c<f;++c)this.u[c].ge=a,this.u[c].rotation=0},ny:function(a){"string"===typeof a&&(a=(new DOMParser).parseFromString(a,"text/xml"));if(a&&0<a.getElementsByTagName("pages").length){var f=a.getElementsByTagName("pages")[0],c;for(a=0;a<f.childNodes.length;++a){var b=f.childNodes[a].localName;if(b){var k=f.childNodes[a];if("defmtx"===b){var d=k.getAttribute("matrix").split(",");c=new XODText.Ja;c.Va(parseFloat(d[0]),
parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),parseFloat(d[4]),parseFloat(d[5]))}"pgmtx"===b&&(b=parseInt(k.getAttribute("page"),10),k=k.getAttribute("matrix").split(","),d=new XODText.Ja,d.Va(parseFloat(k[0]),parseFloat(k[1]),parseFloat(k[2]),parseFloat(k[3]),parseFloat(k[4]),parseFloat(k[5])),this.u[b].ge=d,this.u[b].rotation=this.ro(d))}}f=this.u.length;for(a=0;a<f;++a)null===this.u[a].ge&&(this.u[a].ge=c,this.u[a].rotation=this.ro(c))}}});c.Ei=function(){this.Wd=[];this.Ul=new n;this.u=[];
this.uj=!1;this.aq={};this.NC={};this.yj={};this.Wj={}};c.Ei.prototype=Object.create(c.ak.prototype);c.Ei.prototype.constructor=c.Ei;$.extend(c.Ei.prototype,{cu:function(f,b,k){function d(a){var f=[];a.children.forEach(function(a){f.push(d(a))});return new c.Kd(f,a.name,a.pageNumber,a.parent,a.verticalOffset,a.horizontalOffset,a.url)}for(var e=this,n=f.length,g=0;g<n;++g){var v=new a.fh(f[g].width,f[g].height);v.ge=new XODText.Ja;var w=f[g].matrix;v.ge.Va(w[0],w[1],w[2],w[3],w[4],w[5]);v.rotation=
e.ro(v.ge);e.u.push(v)}e.fv=e.ot();var x=null,D=!1;e.Gd.UA().then(function(a){x=a.xfdfString;D&&k(x)});e.Gd.VA().then(function(a){e.Wd=[];a.bookmarks.forEach(function(a){e.Wd.push(d(a))});D=!0;b();x&&k(x)})},Pf:function(a,f,c){function b(a){g.Gd.ZC(a).then(function(a){a.success?g.cu(a.pageDimensions,f,x):e(b)})}function k(a,c){g.Gd.Lz(a,c).then(function(a){g.cu(a.pageDimensions,f,x)},function(a){"NeedsPassword"===a.type&&e?e(b):f(a)})}var d=c.annotsLoadedCallback,e=c.getPassword;c=c.workerTransport;
var g=this,w=a.data;a.data=null;var x=d||function(){};this.Wd=[];this.Ul=new n;this.u=[];this.uj=!1;this.bind("documentReady",f);var D,B;"string"===typeof w?(D="filepath",B=w):"object"===typeof w&&(null!==w&&void 0!==w.byteLength)?(D="array",B=w.buffer):"object"!==typeof w&&console.warn("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");c.promise.then(function(a){g.Gd=a;k(D,B)})},kj:function(){return this.Wd},kd:function(f,c){var b=this;null!==b.u[f].text?c(b.u[f].text):
f in b.Wj?b.Wj[f].push(c):(b.Gd.kd(f).then(function(a){var c=new XODTextOld.pf;c.Ea=a.struct;c.Wa=a.str;c.fc=a.offsets;c.ta=a.quads;c.gc=!0;b.u[f].text=c;b.Wj[f].forEach(function(a){a(c)});delete b.Wj[f]},function(f){a.utils.log("Text generation failed: "+f)}),b.Wj[f]=[c])},rl:function(a,f){var c=a.exportAnnotations();this.Gd.MB(c).then(function(a){f(a.fileData)})},If:function(){return this.u.length},Xd:function(a){var f=this.aq[a];"undefined"!==typeof f?(this.Ke(f),delete this.aq[a]):console.warn("requesting to cancel a page without a callbackId")},
Pu:function(f,c,b,k,d){var e=document.createElement("canvas");e.width=f;e.height=c;$(e).css("width",b.bq);$(e).css("height",b.$p);var n=e.getContext("2d"),g=new Image;$(g).css("width",b.bq);$(g).css("height",b.$p);g.onload=function(){n.drawImage(g,0,0);b.Rt(e);k&&b.Qt(e);a.kE.ZE(d)};g.src=d;k||$(g).addClass("progressive");b.im&&b.im()},rt:function(a,f,c,b,k){function d(){var a=Math.min(D,B),l=c-B,E=a*f*4;A.data.set(g.subarray(C,C+E));C+=E;x.putImageData(A,0,l,0,0,f,a);B-=a;0===B?(k||$(n).addClass("progressive"),
b.im&&b.im(),b.Rt(n),k&&b.Qt(n),k&&delete e.yj[b.id]):(a=setTimeout(d,0),k&&(e.yj[b.id]=a))}var e=this,n=document.createElement("canvas");n.width=f;n.height=c;$(n).css("width",b.bq);$(n).css("height",b.$p);var g=new Uint8ClampedArray(a),x=n.getContext("2d"),D=Math.ceil(1E6/f),B=c,A=x.createImageData(f,Math.min(D,c)),C=0;d()},Te:function(c,b,k,d,e,n){var s=this;c=g(c,b,k,d,e,n);var v=c.pageIndex;e=c.getZoom();k=c.getPageRotation();d=c.renderRect;var w=c.pageLookup,x=k===a.h.ia.gd||k===a.h.ia.ud;n=
a.utils.getCanvasMultiplier();"undefined"===typeof d?(b=(x?s.u[v].height:s.u[v].width)*e,e*=x?s.u[v].width:s.u[v].height):(b=(x?d.y2-d.y1:d.x2-d.x1)*e,e*=x?d.x2-d.x1:d.y2-d.y1);b=Math.round(b);e=Math.round(e);x=b*n;n*=e;if(a.dD){var D=a.path.join(a.xD,a.Nz++ +".bmp");k=s.Gd.Uz(v,x,n,k,d,D)}else k=s.Gd.Tz(v,x,n,k,d);var B=k.Vk;"undefined"===typeof w&&(w=this.aq);var A={Rt:c.drawProgressive,Qt:c.drawComplete,bq:b,$p:e,id:B},C=!1;null!==w&&(v in w?console.warn("Callback already exists for this page "+
v):(C=!0,w[v]=k.Vk));var Q=1,L;c.useProgress&&(L=setInterval(function(){var f;a.dD?(f=a.path.parse(D),f.name+="_"+Q++,f=s.Gd.lu(B,f.dir+a.path.SE+f.name+f.iE)):f=s.Gd.lu(B);f.then(function(a){"undefined"!==typeof a.filePath?s.Pu(a.pageWidth,a.pageHeight,A,!1,a.filePath):s.rt(a.pageBuf,a.pageWidth,a.pageHeight,A,!1)},function(f){"type"in f&&"Queued"===f.type||(a.utils.log("Get canvas progressivegeneration failed: "+f.message+" CID "+B),clearInterval(L))})},f));k.promise.then(function(a){clearInterval(L);
C&&(A.im=function(){delete w[v]});"undefined"!==typeof a.filePath?s.Pu(a.pageWidth,a.pageHeight,A,!0,a.filePath):s.rt(a.pageBuf,a.pageWidth,a.pageHeight,A,!0)},function(f){"Cancelled"!==f.type&&(null!==w&&delete w[v],a.utils.log("Canvas generation failed: "+f.message));clearInterval(L)});return B},Bf:function(){},cf:function(){},Vh:function(f,c,b){b="page"===b;var k=this.u[f],d=b?2E3:150,e=a.utils.getCanvasMultiplier(),n=k.width>k.height?d/k.width:d/k.height,n=n/e;return this.Te({pageIndex:f,getZoom:function(){return n},
getPageRotation:function(){return a.h.ia.sd},drawComplete:function(a){c(a)},drawProgressive:function(){},pageLookup:b?this.NC:null,useProgress:!1})},Eh:d,Ke:d,Ph:function(){return!1}});_(c.ak.prototype).extend(Backbone.Events);a.fh=function(a,f){this.width=a;this.height=f;this.text=null;this.mm=[];this.links=[];this.ge=null}})(window);
(function(a){a.Annotations=a.Annotations||{};var g=a.Annotations;g.Color=function(a,d,c,b){_.isString(a)&&"#"===a[0]?(a=g.sa.wg(a),this.R=a.R,this.G=a.G,this.B=a.B,this.A=1):(this.R="undefined"===typeof a?0:a,this.G="undefined"===typeof d?0:d,this.B="undefined"===typeof c?0:c,this.A="undefined"===typeof b?1:b)};g.Color.prototype={toString:function(){var a=this.R+","+this.G+","+this.B;return"undefined"===typeof this.A?"rgb("+a+")":"rgba("+a+","+this.A+")"},toHexString:function(){return g.sa.Pg(this)},
OC:function(){return g.sa.toFixed(this.R/255,3)+" "+g.sa.toFixed(this.G/255,3)+" "+g.sa.toFixed(this.B/255,3)+" rg"}};g.Point=function(a,d){this.x=a;this.y=d;"string"===typeof a&&(this.x=parseFloat(a));"string"===typeof d&&(this.y=parseFloat(d))};g.Point.prototype={toString:function(){return"[Point: x="+this.x+" y="+this.y+"]"}};g.Ra=function(a,d,c,b,k,f,n,l){this.x1=a;this.y1=d;this.x2=c;this.y2=b;this.x3=k;this.y3=f;this.x4=n;this.y4=l};g.Ra.prototype={normalize:function(){}};g.na=function(a,d,
c,b){this.x1=a;this.y1=d;this.x2=c;this.y2=b};g.na.prototype={la:function(){return this.x2-this.x1},ha:function(){return this.y2-this.y1},translate:function(a,d){this.x1+=a;this.y1+=d;this.x2+=a;this.y2+=d},Uo:function(a){var d=0,c=0;if(this.la()<a.la()){var b=a.x2-this.x2;0>b&&(d=b);b=a.x1-this.x1;0<b&&(d=b)}this.ha()<a.ha()&&(b=a.y2-this.y2,0>b&&(c=b),a=a.y1-this.y1,0<a&&(c=a));this.translate(d,c)},normalize:function(){var a;0>this.la()&&(a=this.x1,this.x1=this.x2,this.x2=a);0>this.ha()&&(a=this.y1,
this.y1=this.y2,this.y2=a)},$t:function(){var a;this.x1>this.x2&&(a=this.x1,this.x1=this.x2,this.x2=a);this.y2>this.y1&&(a=this.y1,this.y1=this.y2,this.y2=a)}};g.va={};g.va.fB=function(a,d){return a instanceof g.Point&&d instanceof g.Point?new g.Point((a.x+d.x)/2,(a.y+d.y)/2):null};g.va.distance=function(a,d){if(!(a instanceof g.Point&&d instanceof g.Point))return null;var c=a.x-d.x,b=a.y-d.y;return Math.sqrt(c*c+b*b)};g.ControlHandle=function(a,d,c,b){this.x=a;this.y=d;this.width=c;this.height=b};
g.ControlHandle.handleWidth=8;g.ControlHandle.handleHeight=8;g.ControlHandle.selectionAccuracyPadding=1;g.ControlHandle.prototype={testSelection:function(a,d,c,b,k){a=this.getDimensions(a,d,c);d=0;1<g.ControlHandle.selectionAccuracyPadding&&(d=g.ControlHandle.selectionAccuracyPadding);return b>=a.x1-d&&(b<=a.x1+a.la()+d&&(k>=a.y1-d&&k<=a.y1+a.ha()+d))},draw:function(a,d,c,b){"undefined"===typeof b&&(b=1);this.Sb(a,b);var k=this.getDimensions(d,c,b);d=k.x1;c=k.y1;b=k.la();k=k.ha();a.beginPath();a.arc(d+
b/2,c+k/2,b/2,0,2*Math.PI);a.stroke();a.fill()},Sb:function(a,d){a.strokeStyle=g.SelectionModel.defaultSelectionOutlineColor.toString();a.fillStyle="rgb(255, 255, 255)";a.lineWidth=g.SelectionModel.selectionOutlineThickness/d},move:function(){console.warn("ControlHandle move() not implemented")},getDimensions:function(){console.warn("ControlHandle getDimensions() not implemented");return new g.na(0,0,0,0)}};g.Yc=function(a,d,c,b){this.width=a;this.height=d;this.xj=c;this.Zj=b};g.Yc.prototype={getDimensions:function(a,
d,c){a=d.x1;var b=d.y1,k=this.width/c;c=this.height/c;this.xj===g.fa.Oc.left?a+=-(k/2):this.xj===g.fa.Oc.wo?a+=(d.la()-k)/2:this.xj===g.fa.Oc.right?a+=d.la()-k/2:console.warn("Invalid HorizonalAlignment");this.Zj===g.fa.Qc.top?b+=-(c/2):this.Zj===g.fa.Qc.Qp?b+=(d.ha()-c)/2:this.Zj===g.fa.Qc.bottom?b+=d.ha()-c/2:console.warn("Invalid VerticalAlignment");return new g.na(a,b,a+k,b+c)},move:function(a,d,c,b,k){d=!1;c=a.vd();this.Zj===g.fa.Qc.bottom&&(d=c.y2!==k.y,c.y2=k.y);this.Zj===g.fa.Qc.top&&(d=c.y1!==
k.y,c.y1=k.y);this.xj===g.fa.Oc.right&&(d=c.x2!==k.x,c.x2=k.x);this.xj===g.fa.Oc.left&&(d=c.x1!==k.x,c.x1=k.x);d&&a.resize(c);return d}};g.Yc.prototype=$.extend(!0,new g.ControlHandle,g.Yc.prototype);g.jh=function(a,d,c,b,k){this.x=a;this.y=d;this.width=c;this.height=b;this.Jl=k};g.jh.prototype={getDimensions:function(a,d,c){a=this.width/c;c=this.height/c;return new g.na(this.x-0.5*a,this.y-0.5*c,this.x+0.5*a,this.y+0.5*c)},move:function(a,d,c,b,k,f){c=a.cb[0];if("undefined"===typeof c)return!1;d=
a.cb[a.cb.length-1];f=new window.ra.$c(f);f.annotation=a;f.pageCoordinates[0]=k;b=Math.min(c.x1,c.x2,c.x3,c.x4);a=Math.max(d.x1,d.x2,d.x3,d.x4);c=Math.min(c.y1,c.y2,c.y3,c.y4);d=Math.max(d.y1,d.y2,d.y3,d.y4);this.Jl?c={x:b+1,y:c,pageIndex:k.pageIndex}:(c=k,k={x:a-1,y:d,pageIndex:k.pageIndex});if(k.y<c.y)return!1;(c.x<k.x||c.y<k.y)&&f.select(c,k);return!0},draw:function(a,d,c,b){var k,f,n,l;this.Sb(a,b);l=this.getDimensions(d,c,b).ha();var p;this.Jl?(p=d.cb[d.cb.length-1],k=p.x2,f=p.y2,n=p.x3,l=p.y3-
0.5*l):(p=d.cb[0],k=p.x1,f=p.y1+0.5*l,n=p.x4,l=p.y4);a.beginPath();a.moveTo(k,f);a.lineTo(n,l);a.stroke();g.ControlHandle.prototype.draw.call(this,a,d,c,b)}};g.jh.prototype=$.extend(!0,new g.ControlHandle,g.jh.prototype);g.fg=function(a,d,c,b,k){this.x=a;this.y=d;this.width=c;this.height=b;this.zb=k};g.fg.prototype={getDimensions:function(a,d,c){a=this.width/c;c=this.height/c;d=this.x-0.5*a;var b=this.y-0.5*c;return new g.na(d,b,d+a,b+c)},move:function(a,d,c){var b=a.Jf(this.zb);a.Fd(this.zb,b.x+
d,b.y+c);return!0}};g.fg.prototype=$.extend(!0,new g.ControlHandle,g.fg.prototype);g.bk=function(a,d,c,b,k){this.x=a;this.y=d;this.width=c;this.height=b;this.zb=k};g.bk.prototype={move:function(a,d,c){var b=a.Jf(2),k=a.Jf(3),f=a.Jf(4);if(3===this.zb){if(f.y<k.y+c||f.x<k.x+d)return}else if(4===this.zb&&(f.y+c<k.y||f.x+d<k.x))return;d=g.fg.prototype.move.call(this,a,d,c);3===this.zb&&(f.y<k.y&&a.Fd(3,k.x,f.y),f.x<k.x&&a.Fd(3,f.x,k.y),a.Fd(2,k.x,k.y+0.5*(f.y-k.y)),d=!0);4===this.zb&&(f.y<k.y&&a.Fd(3,
f.x,k.y),f.x<k.x&&a.Fd(3,k.x,f.y),a.Fd(2,b.x,k.y+0.5*(f.y-k.y)),d=!0);var n=a.bp()/2;c=a.Jf(1);var l=g.va.fB(k,f),k=[new g.Point(k.x+n,l.y),new g.Point(f.x-n,l.y),new g.Point(l.x,k.y+n),new g.Point(l.x,f.y-n)],f=[g.va.distance(c,k[0]),g.va.distance(c,k[1]),g.va.distance(c,k[2]),g.va.distance(c,k[3])],f=f.indexOf(Math.min.apply(Math,f));if(b.x!==k[f].x||b.y!==k[f].y)a.Fd(2,k[f].x,k[f].y),d=!0;return d}};g.bk.prototype=$.extend(!0,new g.fg,g.bk.prototype);g.dh=function(a,d,c,b,k){this.x=a;this.y=d;
this.width=c;this.height=b;this.Jl=k};g.dh.prototype={getDimensions:function(a,d,c){a=this.width/c;c=this.height/c;d=this.x-0.5*a;var b=this.y-0.5*c;return new g.na(d,b,d+a,b+c)},move:function(a,d,c){this.Jl?(a.End.x+=d,a.End.y+=c):(a.Start.x+=d,a.Start.y+=c);a.adjustRect();return!0}};g.dh.prototype=$.extend(!0,new g.ControlHandle,g.dh.prototype);g.SelectionModel=function(a,d,c){this.ed=[];this.xn=d;this.Ln=c};g.SelectionModel.selectionOutlineThickness=2;g.SelectionModel.selectionAccuracyPadding=
2;g.SelectionModel.defaultSelectionOutlineColor=new g.Color(0,0,255);g.SelectionModel.defaultNoPermissionSelectionOutlineColor=new g.Color(255,0,0);g.SelectionModel.selectionOutlineDashSize=4;g.SelectionModel.prototype={testSelection:function(a,d,c){return g.sb.Dh(a,d,c)},Eq:function(a,d,c,b){for(var k=this.ed.length-1;0<=k;k--){var f=this.ed[k];if(f.testSelection(a,this.getDimensions(a),d,c,b))return f}},Wz:function(){return this.ed},getDimensions:function(a){return new g.na(a.X,a.Y,a.X+a.Width,
a.Y+a.Height)},Jb:function(){return this.xn},draw:function(a,d,c){a.save();this.drawSelectionOutline(a,d,c);a.restore();for(var b=0;b<this.ed.length;b++)this.ed[b]&&this.ed[b].draw(a,d,this.getDimensions(d),c)},drawSelectionOutline:function(a,d,c){a.save();d=this.getDimensions(d);"undefined"===typeof c&&(c=1);a.lineWidth=g.SelectionModel.selectionOutlineThickness/c;this.Jb()?a.strokeStyle=g.SelectionModel.defaultSelectionOutlineColor.toString():a.strokeStyle=g.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();
a.beginPath();a.moveTo(d.x1,d.y1);a.lineTo(d.x2,d.y1);a.lineTo(d.x2,d.y2);a.lineTo(d.x1,d.y2);a.closePath();a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(c=g.SelectionModel.selectionOutlineDashSize/c,c=[c,c],a.setLineDash?a.setLineDash(c):a.mozDash=c):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(d.x1,d.y1);a.lineTo(d.x2,d.y1);a.lineTo(d.x2,d.y2);a.lineTo(d.x1,d.y2);a.closePath();a.stroke();a.restore()},drawPopupTail:function(e,d,c,b,k){var f=
c=d=0;c=Math.abs(b.x1-b.x2);f=Math.abs(b.y1-b.y2);k.x>=b.x1+0.5*c&&k.y<b.y1+0.5*f?d={x:b.x1+c,y:b.y1}:k.x<b.x1+0.5*c&&k.y<b.y1+0.5*f?d={x:b.x1,y:b.y1}:k.x<b.x1+0.5*c&&k.y>=b.y1+0.5*f?d={x:b.x1,y:b.y1+f}:k.x>=b.x1+0.5*c&&(k.y>=b.y1+0.5*f&&(d={x:b.x1+c,y:b.y1+f}));b=a.za.va.ml(d,k);k=a.za.va.mp(d,k);c={x:d.x+k,y:d.y-5};f={x:d.x+k,y:d.y+5};c=a.za.va.Mg(c,b,d);f=a.za.va.Mg(f,b,d);e.save();e.strokeStyle="rgba(0,0,0,0.8)";e.beginPath();e.moveTo(d.x,d.y);e.lineTo(c.x,c.y);e.lineTo(f.x,f.y);e.closePath();
e.shadowColor="#bbb";e.shadowBlur=10;e.shadowOffsetX=5;e.shadowOffsetY=5;e.stroke();e.fillStyle="rgba(255, 255, 0, 0.7)";e.beginPath();e.moveTo(d.x,d.y);e.lineTo(c.x,c.y);e.lineTo(f.x,f.y);e.closePath();e.fill();e.restore()}};g.fa=function(a,d,c){g.SelectionModel.call(this,0,d,c);a=g.ControlHandle.handleWidth;c=g.ControlHandle.handleHeight;this.ed=(this.xn=d)?[new g.Yc(a,c,g.fa.Oc.left,g.fa.Qc.top),new g.Yc(a,c,g.fa.Oc.left,g.fa.Qc.Qp),new g.Yc(a,c,g.fa.Oc.left,g.fa.Qc.bottom),new g.Yc(a,c,g.fa.Oc.wo,
g.fa.Qc.top),new g.Yc(a,c,g.fa.Oc.wo,g.fa.Qc.bottom),new g.Yc(a,c,g.fa.Oc.right,g.fa.Qc.top),new g.Yc(a,c,g.fa.Oc.right,g.fa.Qc.Qp),new g.Yc(a,c,g.fa.Oc.right,g.fa.Qc.bottom)]:[]};g.fa.Oc={left:1,wo:2,right:4};g.fa.Qc={top:16,Qp:32,bottom:64};g.fa.prototype={testSelection:function(a,d,c){return this.Ln?g.sb.Dh(a,d,c):g.sb.$i(a,d,c)},getDimensions:function(a){return new g.na(a.X,a.Y,a.X+a.Width,a.Y+a.Height)}};g.fa.prototype=$.extend(!0,new g.SelectionModel,g.fa.prototype);g.gh=function(a,d,c){g.SelectionModel.call(this,
0,d,c);if(d)for(a=a.getPath(),d=0;d<a.length;d++)c=a[d],this.ed.push(new g.fg(c.x,c.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,d))};g.gh.prototype={testSelection:function(a,d,c){return this.Ln?g.sb.Dh(a,d,c):g.sb.$i(a,d,c)},draw:function(a,d,c){g.SelectionModel.prototype.draw.call(this,a,d,c)}};g.gh.prototype=$.extend(!0,new g.SelectionModel,g.gh.prototype);g.Di=function(a,d,c){g.SelectionModel.call(this,0,d,c);this.ed=d?[new g.dh(a.Start.x,a.Start.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,
0),new g.dh(a.End.x,a.End.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,1)]:[]};g.Di.prototype={testSelection:function(a,d,c){return g.sb.$i(a,d,c)},drawSelectionOutline:function(a,d,c){"undefined"===typeof c&&(c=1);a.lineWidth=g.SelectionModel.selectionOutlineThickness/c;var b=Math.atan((d.End.y-d.Start.y)/(d.End.x-d.Start.x)),k=Math.max(0.5*d.StrokeThickness,1)*Math.sin(b),b=Math.max(0.5*d.StrokeThickness,1)*Math.cos(b);this.Jb()?a.strokeStyle=g.SelectionModel.defaultSelectionOutlineColor.toString():
a.strokeStyle=g.SelectionModel.defaultNoPermissionSelectionOutlineColor.toString();a.beginPath();a.moveTo(d.Start.x+k,d.Start.y-b);a.lineTo(d.End.x+k,d.End.y-b);a.stroke();a.beginPath();a.moveTo(d.Start.x-k,d.Start.y+b);a.lineTo(d.End.x-k,d.End.y+b);a.stroke();"undefined"!==typeof a.setLineDash||"undefined"!==typeof a.mozDash?(c=g.SelectionModel.selectionOutlineDashSize/c,c=[c,c],a.setLineDash?a.setLineDash(c):a.mozDash=c):a.lineWidth/=2;a.strokeStyle="rgb(255, 255, 255)";a.beginPath();a.moveTo(d.Start.x+
k,d.Start.y-b);a.lineTo(d.End.x+k,d.End.y-b);a.stroke();a.beginPath();a.moveTo(d.Start.x-k,d.Start.y+b);a.lineTo(d.End.x-k,d.End.y+b);a.stroke()},drawPopupTail:function(e,d,c,b,k){var f=b=c=0;c=g.va.distance(d.Start,k);b=g.va.distance(d.End,k);d=c>b?d.End:d.Start;c={x:d.x,y:d.y};d=a.za.va.ml(c,k);k=a.za.va.mp(c,k);b={x:c.x+k,y:c.y-5};f={x:c.x+k,y:c.y+5};b=a.za.va.Mg(b,d,c);f=a.za.va.Mg(f,d,c);e.strokeStyle="rgba(0,0,0,0.8)";e.beginPath();e.moveTo(c.x,c.y);e.lineTo(b.x,b.y);e.lineTo(f.x,f.y);e.closePath();
e.stroke();e.fillStyle="rgba(255, 255, 0, 0.7)";e.beginPath();e.moveTo(c.x,c.y);e.lineTo(b.x,b.y);e.lineTo(f.x,f.y);e.closePath();e.fill()}};g.Di.prototype=$.extend(!0,new g.fa,g.Di.prototype);g.yi=function(a,d,c){g.fa.apply(this,arguments)};g.yi.prototype={getDimensions:function(a){return g.SelectionModel.prototype.getDimensions.apply(this,arguments)},testSelection:function(a,d,c){return g.sb.Dh(a,d,c)}};g.yi.prototype=$.extend(!0,new g.fa,g.yi.prototype);g.ck=function(a,d,c){g.SelectionModel.call(this,
0,d,c);if(d)for(a=a.getPath(),d=0;d<a.length;d++)2!==d&&(c=a[d],this.ed.push(new g.bk(c.x,c.y,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,d)))};g.ck.prototype={testSelection:function(a,d,c){if(this.Ln)return g.sb.Dh(a,d,c);var b=a.getPath(),k=b[3],b=b[4];return d<k.x||(d>b.x||(c<k.y||c>b.y))?g.sb.$i(a,d,c):!0}};g.ck.prototype=$.extend(!0,new g.SelectionModel,g.ck.prototype);g.Ji=function(a,d,c){g.SelectionModel.call(this,0,d,c);this.xn=d;a.cb&&(this.ed=[],d&&(d=a.cb[0],a=a.cb[a.cb.length-
1],d&&(this.ed=[new g.jh(d.x1,d.y1,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,!1),new g.jh(a.x3,a.y3,g.ControlHandle.handleWidth,g.ControlHandle.handleHeight,!0)])))};g.Ji.prototype={testSelection:function(a,d,c){return g.sb.fw(a,d,c)},getDimensions:function(a){var d=a.X-2,c=a.Y-2;return new g.na(d,c,d+(a.Width+4),c+(a.Height+4))}};g.Ji.prototype=$.extend(!0,new g.SelectionModel,g.Ji.prototype);g.nk=function(a,d,c){g.SelectionModel.call(this,0,d,c)};g.nk.prototype={testSelection:function(a,
d,c,b){b=a.NoZoom?b:1;a=new g.na(a.Gf(),a.Lf(),a.Gf()+a.la()/b,a.Lf()+a.ha()/b);return d>=a.x1&&(d<=a.x2&&(c>=a.y1&&c<=a.y2))}};g.nk.prototype=$.extend(!0,new g.SelectionModel,g.nk.prototype);g.sb={Dh:function(a,d,c){a=a.vd();return d>=a.x1&&(d<=a.x2&&(c>=a.y1&&c<=a.y2))},$i:function(a,d,c){var b;g.sb.Ou?b=g.sb.Ou:(b=document.createElement("canvas"),g.sb.Ou=b);var k=b.getContext("2d");b.width=100;b.height=100;k.setTransform(1,0,0,1,-(d-a.Mf()),-(c-a.Nf()));d=a.StrokeThickness;a.jg=d+g.sb.canvasVisibilityPadding;
k.translate(-1*a.Mf(),-1*a.Nf());a.draw(k);c=1<k.getImageData(0,0,1,1).data[3];k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,2,2);a.jg=d;return c},fw:function(a,d,c){a=a.Quads;for(var b=0;b<a.length;b++){var k=a[b],f=Math.min(k.y1,k.y2,k.y3,k.y4),n=Math.max(k.y1,k.y2,k.y3,k.y4),l=Math.min(k.x1,k.x2,k.x3,k.x4),k=Math.max(k.x1,k.x2,k.x3,k.x4);if(d>=l&&(d<=k&&(c>=f&&c<=n)))return!0}return!1}};g.sb.canvasVisibilityPadding=5})(window);
(function(a){var g=XODText;a.ra=function(){};var e=a.ra;e.DD={};e.Tool=function(a){this.ib=this.hc=null;this.k=this.docViewer=a;this.pageCoordinates=[]};e.Tool.prototype={wl:function(a){var b={},k=this.k.Fb();a.originalEvent&&a.originalEvent.touches?(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0],b.x=k.scrollLeft()+a.clientX,b.y=k.scrollTop()+a.clientY):(b.x=k.scrollLeft()+a.pageX,b.y=k.scrollTop()+a.pageY);return b},mouseLeftDown:function(a){var b=
this.wl(a);this.hc={x:b.x,y:b.y};this.ib={x:b.x,y:b.y};this.pageCoordinates[0]=this.be(this.hc);this.pageCoordinates[1]=this.pageCoordinates[0];a.data={mouseCoordinate:{x:b.x,y:b.y},pageCoordinate:this.pageCoordinates[0]}},mouseLeftUp:function(a){var b=this.wl(a);this.ib=b;this.pageCoordinates[1]=this.be(this.ib);a.data={mouseCoordinate:{x:b.x,y:b.y},pageCoordinate:this.pageCoordinates[1]}},mouseMove:function(a){var b=this.wl(a);this.ib=b;if(null!==this.hc){var k=this.be(this.hc);if(null===k)return;
var f=k.pageIndex,k=this.k.ec(f),d=this.k.dc(f),f=this.be(this.ib,f);0>f.x&&(f.x=0);0>f.y&&(f.y=0);f.x>k&&(f.x=k);f.y>d&&(f.y=d);this.pageCoordinates[1]=f}else this.pageCoordinates[1]=this.be(this.ib);a.data={mouseCoordinate:{x:b.x,y:b.y},pageCoordinate:this.pageCoordinates[1]}},mouseDoubleClick:function(a){var b=this.wl(a);this.hc={x:b.x,y:b.y};this.ib={x:b.x,y:b.y};var b=this.k.qa,k=this.be(this.ib);k&&(this.Ah=k.x,this.Bh=k.y,!(a=b.dp(a))||(a.Bd()||(a.Hidden||(k=b.Cm(a),b.trigger("annotationDoubleClicked",
a),k&&b.Wo(a)))))},mouseLeave:function(){},tap:function(){},keyDown:function(){},contextMenu:function(){},switchIn:function(){},switchOut:function(){this.k.el.css("cursor","default");this.k.qa.fd()},Zz:function(){return this.k},be:function(a,b){var k=this.docViewer.lj().Bl(a,a);if("undefined"===typeof b){if(k=null===k.first?k.last:k.first,null===k)return null}else k=b;k=this.docViewer.lj().ef(a,k);return{pageIndex:k.pageIndex,x:k.x,y:k.y}}};var d=e.Tool;e.AnnotationSelectTool=function(a){d.call(this,
a);this.Bh=this.Ah=0;this.uf={x:0,y:0};this.Cf=this.nb=null;this.state=e.AnnotationSelectTool.Sa.NONE;this.Sc=NaN;this.mousedown=!1;this.cursor="default";this.overrideSelection=!1};e.AnnotationSelectTool.Sa={NONE:0,Tm:1,or:2,ik:3,Sm:4};e.AnnotationSelectTool.PAGE_PADDING=new Annotations.na(2,2,2,2);e.AnnotationSelectTool.prototype=$.extend(new d,{mouseLeftDown:function(a){d.prototype.mouseLeftDown.call(this,a);if(this.overrideSelection)this.state=e.AnnotationSelectTool.Sa.NONE;else{this.mousedown=
!0;this.state=e.AnnotationSelectTool.Sa.NONE;var b=this.k.qa,k=this.be(this.ib);if(k){this.Sc=k.pageIndex;this.Ah=k.x;this.Bh=k.y;this.uf.x=this.Ah;this.uf.y=this.Bh;for(var f=b.Pe(),n=0;n<f.length;n++){var l=f[n];if("undefined"!==typeof l.selectionModel){var g=(new l.selectionModel(l,b.Jb(l))).Eq(l,this.k.Ha(l.V()),k.x,k.y);if(g){this.nb=l;this.Cf=g;!this.nb.NoResize&&b.Jb(this.nb)?this.state=e.AnnotationSelectTool.Sa.Sm:(this.state=e.AnnotationSelectTool.Sa.NONE,b.fd());return}}else if(console.warn("no selection model for annotation"),
this.Cf=b.nu(this.Sc,k)){this.nb=this.Cf.Oa;!this.nb.NoResize&&b.Jb(this.nb)?this.state=e.AnnotationSelectTool.Sa.or:(this.state=e.AnnotationSelectTool.Sa.NONE,b.fd());return}}k=b.iu(a);if(0<k.length){this.nb=null;for(f=0;f<k.length;++f)if(b.Qh(k[f])){this.nb=k[f];break}this.nb||(this.nb=k[0]);k=b.Qh(this.nb);!this.nb.NoMove&&(b.Jb(this.nb)&&k)?this.state=e.AnnotationSelectTool.Sa.Tm:a.ctrlKey?this.state=e.AnnotationSelectTool.Sa.ik:(this.state=e.AnnotationSelectTool.Sa.NONE,b.fd())}else b.fd()}}},
mouseMove:function(a){d.prototype.mouseMove.call(this,a);if(!this.overrideSelection&&this.state!==e.AnnotationSelectTool.Sa.NONE){a=this.k.qa;var b=this.pageCoordinates[1];if(b&&this.Sc===b.pageIndex){var k=b.x-this.uf.x,f=b.y-this.uf.y;if(this.state===e.AnnotationSelectTool.Sa.Tm&&this.nb){this.k.el.css("cursor","move");var n=a.Pe(),l,g,m,q,r,u,s,v=!1;for(l=0;l<n.length;l++)m=n[l],a.Jb(m)&&(!m.NoMove&&(g=m.vd(),v?(g.x1<q&&(q=g.x1),g.y1<r&&(r=g.y1),g.x2>u&&(u=g.x2),g.y2>s&&(s=g.y2)):(q=g.x1,r=g.y1,
u=g.x2,s=g.y2,v=!0)));g=this.k.ec(this.Sc);m=this.k.dc(this.Sc);l=new Annotations.na;var w=this.k.Ha(this.nb.V()),w=1;l.x1=e.AnnotationSelectTool.PAGE_PADDING.x1*w;l.y1=e.AnnotationSelectTool.PAGE_PADDING.y1*w;l.x2=g-e.AnnotationSelectTool.PAGE_PADDING.x2*w;l.y2=m-e.AnnotationSelectTool.PAGE_PADDING.y2*w;q=Math.max(0+e.AnnotationSelectTool.PAGE_PADDING.x1,q);r=Math.max(0+e.AnnotationSelectTool.PAGE_PADDING.y1,r);u=Math.min(u,g-e.AnnotationSelectTool.PAGE_PADDING.x2);s=Math.min(s,m-e.AnnotationSelectTool.PAGE_PADDING.y2);
if(v){q=q+k>=l.x1?k:l.x1-q;r=r+f>=l.y1?f:l.y1-r;u=u+k<=l.x2?k:l.x2-u;s=s+f<=l.y2?f:l.y2-s;k=0<=k?Math.min(q,u):Math.max(q,u);f=0<=f?Math.min(r,s):Math.max(r,s);this.uf.x=b.x;this.uf.y=b.y;b={};for(l=0;l<n.length;l++)if(m=n[l],a.Jb(m)&&(!m.NoMove&&(g=m.vd(),g.x1+=k,g.y1+=f,g.x2+=k,g.y2+=f,0!==k||0!==f)))m.resize(g),m.jt=!0,b[m.$a()]=!0;for(var x in b)this.k.qa.yb(x)}}else this.state===e.AnnotationSelectTool.Sa.Sm&&(this.Cf&&(this.nb&&(x=this.Cf.move(this.nb,k,f,this.be(new Annotations.Point(this.hc.x,
this.hc.y)),b,this.k),this.uf.x=b.x,this.uf.y=b.y,x&&this.k.qa.Qb(this.nb))))}}},mouseLeftUp:function(){if(!this.overrideSelection){this.mousedown=!1;var a=this.k.qa,b=a.Pe();if(this.state===e.AnnotationSelectTool.Sa.Tm)for(var k=0;k<b.length;k++){var f=b[k];f.jt&&(f.jt=void 0,a.trigger("annotationChanged",[[f],"modify"]))}else this.state===e.AnnotationSelectTool.Sa.or?(k=this.Cf.Oa,this.Cf&&a.trigger("annotationChanged",[[k],"modify"])):this.state===e.AnnotationSelectTool.Sa.Sm&&(this.nb&&a.trigger("annotationChanged",
[[this.nb],"modify"]));0<b.length?this.k.el.css("cursor","default"):this.k.el.css("cursor",this.cursor);this.state=e.AnnotationSelectTool.Sa.NONE}},keyDown:function(c){46!==c.which&&8!==c.which||(a.utils.isEditableElement($(c.target))||(c=this.k.Ef().Pe(),this.k.Ef().Io(c)))},tap:function(a){if(!this.overrideSelection){var b=this.k.Ef(),k=b.dp(a);if(k){var f=b.Qh(k);a.originalEvent.ctrlKey?f?b.dj(k):b.hi(k):f||(b.fd(),b.hi(k));a.preventDefault()}}},isSelecting:function(){return this.state!==e.AnnotationSelectTool.Sa.NONE}});
e.nr=function(a){e.AnnotationSelectTool.call(this,a);this.co={x:0,y:0};this.yk=!1;this.cursor="url(Resources/hand.png), url(Resources/hand.cur), pointer"};e.nr.prototype=$.extend(new e.AnnotationSelectTool,{switchIn:function(){this.k.el.css("cursor",this.cursor)},mouseLeftDown:function(a){e.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()){var b=this.k.Fb();this.co={x:b.scrollLeft()+a.pageX,y:b.scrollTop()+a.pageY};this.yk=!0;this.k.el.css("cursor","url(Resources/dragginghand.png),url(Resources/dragginghand.cur), pointer")}},
mouseLeftUp:function(a){e.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(this.yk=!1)},mouseMove:function(a){e.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&this.yk){var b=this.k.Fb(),k=this.co.x-(b.scrollLeft()+a.pageX);a=this.co.y-(b.scrollTop()+a.pageY);this.k.scrollTo(b.scrollLeft()+k,b.scrollTop()+a)}},mouseLeave:function(){this.yk=!1;this.k.el.css("cursor",this.cursor)}});e.Xb=function(a){d.call(this,a);this.Ue=!1;this.cursor="text"};
e.Xb.SELECTION_MODE="structural";e.Xb.prototype={switchIn:function(){this.tt(null,this.k.eb());this.k.on("rotationUpdated.textTool",_.bind(this.tt,this))},switchOut:function(a){d.prototype.switchOut.call(this,a);this.k.off("rotationUpdated.textTool")},tt:function(c,b){this.cursor=b===a.h.ia.gd||b===a.h.ia.ud?"vertical-text":"text";this.k.el.css("cursor",this.cursor)},mouseLeftDown:function(a){e.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(a.altKey&&(e.Xb.SELECTION_MODE=
"rectangular"),this.Ue=!0,this.k.Co())},mouseMove:function(a){e.AnnotationSelectTool.prototype.mouseMove.call(this,a);this.isSelecting()||(!0!==this.Ue||(1!==a.which&&0!==a.which?this.Ue=!1:(a.data&&(this.pageCoordinates[1]=this.be(a.data.mouseCoordinate)),this.select(this.pageCoordinates[0],this.pageCoordinates[1]))))},select:function(a,b){var k=this.k;if(a&&b){this.ke=[];this.me=[];var f,d;b.pageIndex>=a.pageIndex?(f=a,d=b):(f=b,d=a);var e=f.pageIndex,p=d.pageIndex;if(null!==e&&null!==p){var m=
new g.oa,q=k.o.tc(e);1<=p-e?m.Va(f.x,f.y,q.width,q.height):m.Va(f.x,f.y,d.x,d.y);this.k.ii(e,m,_.bind(this.textSelected,this));for(f=e+1;f<p;f++)q=k.o.tc(f),m=new g.oa,m.Va(0,0,q.width,q.height),k.ii(f,m,_.bind(this.textSelected,this));e!==p&&(m=new g.oa,m.Va(0,0,d.x,d.y),k.ii(p,m,_.bind(this.textSelected,this)))}}},textSelected:function(){},mouseLeftUp:function(a){e.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||(e.Xb.SELECTION_MODE="structural",this.Ue=!1)}};e.Xb.prototype=
$.extend(new e.AnnotationSelectTool,e.Xb.prototype);e.zr=function(a){e.Xb.call(this,a)};e.zr.prototype=$.extend(new e.Xb,{textSelected:function(a,b,k){this.k.fm(a,b,k)},mouseDoubleClick:function(){var a=this.pageCoordinates[0];this.k.QB(a.pageIndex,a,_.bind(this.textSelected,this))}});e.Xa=function(a,b,k){e.AnnotationSelectTool.call(this,a);this.annotation=null;this.lo=b;this.dz=k;this.cursor="crosshair";this.defaults={StrokeColor:new Annotations.Color(0,0,0),FillColor:new Annotations.Color(0,0,0,
0),StrokeThickness:1,Opacity:1}};e.Xa.prototype=$.extend(new e.AnnotationSelectTool,{switchIn:function(){this.k.el.css("cursor",this.cursor);this.k.Uj({annotMode:!0})},switchOut:function(a){e.AnnotationSelectTool.prototype.switchOut.call(this,a);this.k.Uj({annotMode:!1})},mouseLeftDown:function(a){e.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()&&(!this.annotation&&(a=this.pageCoordinates[0]))){var b=this.k.qa;this.annotation=new this.lo(this.dz);this.annotation.X=
a.x;this.annotation.Y=a.y;this.annotation.PageNumber=a.pageIndex+1;this.annotation.Author=b.Jh();null!==this.annotation.StrokeColor&&(a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A));null!==this.annotation.StrokeThickness&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness);null!==this.annotation.FillColor&&(a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,a.G,a.B,a.A));this.annotation.Opacity=this.defaults.Opacity;
this.trigger("annotationCreated",[this.annotation])}},mouseLeftUp:function(a){e.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);this.isSelecting()||this.finish()},mouseMove:function(a){e.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&(this.annotation&&"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var b=this.pageCoordinates[1];null!==b&&(null!==a&&(a.pageIndex===b.pageIndex&&(a=new Annotations.na(a.x,a.y,b.x,b.y),a.normalize(),this.annotation.Rg(a),
this.k.qa.Qb(this.annotation))))}},finish:function(){if(this.annotation){var a=this.annotation.la(),b=this.annotation.ha(),k=2*(this.annotation.getRectPadding()+1);a<=k&&b<=k?this.k.qa.cj(this.annotation):(this.k.qa.wf(this.annotation),this.trigger("annotationAdded",[this.annotation]));this.annotation=null}}},a.utils.eventHandler);new e.Xa;e.Uq=function(a){e.AnnotationSelectTool.call(this,a);this.Qf=this.Sp=null};e.Uq.prototype=$.extend(new e.AnnotationSelectTool,{switchIn:function(){this.k.el.css("cursor",
"default")},switchOut:function(a){d.prototype.switchOut.call(this,a)},mouseLeftDown:function(a){e.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()){this.mousedown=!0;this.state=e.AnnotationSelectTool.Sa.NONE;a=this.k.qa;var b=this.be(this.ib);b&&(this.Sc=b.pageIndex,a.fd(),this.state=(this.Sp=this.k.Ff(this.Sc))?e.AnnotationSelectTool.Sa.ik:e.AnnotationSelectTool.Sa.NONE)}},mouseMove:function(c){e.AnnotationSelectTool.prototype.mouseMove.call(this,c);if(this.state===
e.AnnotationSelectTool.Sa.ik&&((c=this.pageCoordinates[1])&&this.Sc===c.pageIndex)){var b=c.x,k=c.y;c=0>b-this.Ah?b:this.Ah;var f=0>k-this.Bh?k:this.Bh,b=Math.abs(b-this.Ah),k=Math.abs(k-this.Bh),d=$("#annoteditselectrect");0===d.length&&(d=$("<div id='annoteditselectrect' class='ui-selectable-helper'></div>").appendTo(this.k.el));var l=this.ib.x-this.hc.x,g=this.ib.y-this.hc.y,m=this.k.Fb(),q=this.hc.x-m.scrollLeft(),r=this.hc.y-m.scrollTop(),u=this.ib.x-m.scrollLeft(),s=this.ib.y-m.scrollTop(),
v=this.k.ec(this.Sc),w=this.k.dc(this.Sc),r=Math.min(s,r),q=Math.min(u,q),u=this.docViewer.lj().yc({x:0,y:0},this.Sc),x=this.docViewer.lj().yc({x:v,y:w},this.Sc),v=Math.min(u.x,x.x),w=Math.min(u.y,x.y),s=Math.max(u.x,x.x),u=Math.max(u.y,x.y),v=v-m.scrollLeft(),w=w-m.scrollTop();w>r&&(g+=w-r,r=w);v>q&&(l+=v-q,q=v);s-=m.scrollLeft();u-=m.scrollTop();l=a.za.va.Yk(Math.abs(l),0,s-q);g=a.za.va.Yk(Math.abs(g),0,u-r);d.css({width:l,height:g,top:r,left:q,"z-index":"44",position:"absolute",border:"1px dotted black",
display:"inline"});this.Qf=a.za.dv(c,f,b,k)}},mouseLeftUp:function(a){this.state!==e.AnnotationSelectTool.Sa.ik?e.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(this.mousedown=!1,this.Qf&&(this.Qf.x1===this.Qf.x2&&this.Qf.y1===this.Qf.y2?e.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a):(a=this.fy(this.Sc,this.Qf),this.k.Ef().pq(a))),this.Qf=this.Sp=null,this.state=e.AnnotationSelectTool.Sa.NONE,$("#annoteditselectrect").css("display","none"))},fy:function(c,b){for(var k,f=[],d=
this.k.Ef().pc.filter(function(a){return a.V()===c&&(!a.Bd()&&!a.Hidden)}),e=0;e<d.length;e++){k=d[e];var g=1;!0===k.NoZoom&&(g=this.k.Ha(k.V()));a.za.DB(b,a.za.dv(k.Gf(),k.Lf(),k.la()/g,k.ha()/g))&&f.push(k)}return f}});e.Ci=function(c){e.Xa.call(this,c,a.Annotations.Fc)};e.Ci.prototype=$.extend(new e.Xa,{mouseLeftDown:function(a){e.Xa.prototype.mouseLeftDown.call(this,a);this.isSelecting()||this.annotation&&(this.annotation.Start={x:this.pageCoordinates[0].x,y:this.pageCoordinates[0].y})},mouseMove:function(a){e.AnnotationSelectTool.prototype.mouseMove.call(this,
a);if(!this.isSelecting()&&(this.annotation&&"undefined"!==typeof this.pageCoordinates)){a=this.pageCoordinates[0];var b=this.pageCoordinates[1];null!==b&&(null!==a&&(a.pageIndex===b.pageIndex&&(this.annotation.End={x:b.x,y:b.y},this.annotation.adjustRect(),this.k.qa.Qb(this.annotation))))}}});e.Vq=function(a){e.Ci.call(this,a)};e.Vq.prototype=$.extend(new e.Ci,{mouseLeftDown:function(a){e.Ci.prototype.mouseLeftDown.call(this,a);this.annotation&&this.annotation.Sg("OpenArrow")}});e.pr=function(c){e.Xa.call(this,
c,a.Annotations.hh)};e.pr.prototype=new e.Xa;e.$q=function(c){e.Xa.call(this,c,a.Annotations.$g)};e.$q.prototype=new e.Xa;e.FreeHandCreateTool=function(c){e.Xa.call(this,c,a.Annotations.FreeHandAnnotation);this.zb=0;this.$k=null;this.Ue=!1;this.pointerType=null};e.FreeHandCreateTool.prototype=$.extend(new e.Xa,{createDelay:1500,simplifyPen:!1,mouseLeftDown:function(a){e.AnnotationSelectTool.prototype.mouseLeftDown.call(this,a);if(!this.isSelecting()&&this.pageCoordinates[0]){this.Ue=!0;if(this.annotation)if(this.pageCoordinates[0].pageIndex===
this.annotation.PageNumber-1){a=this.pageCoordinates[0].x;var b=this.pageCoordinates[0].y,k=!1,f=this.annotation.getPath(this.zb);f&&(0<f.length&&(f=f[f.length-1],f.x===a&&(f.y===b&&(k=!0))));k||this.annotation.wb(a,b,this.zb)}else this.complete(),e.FreeHandCreateTool.prototype.mouseLeftDown.call(this,a);else e.Xa.prototype.mouseLeftDown.call(this,a);clearTimeout(this.$k)}},complete:function(){this.annotation&&0<this.annotation.Kf().length?(this.k.qa.Qb(this.annotation),this.annotation.finish(),e.Xa.prototype.mouseLeftUp.call(this,
null),this.zb=0,this.Ue=!1,clearTimeout(this.$k)):this.annotation=null},Vl:function(){this.complete()},switchOut:function(a){this.complete();e.Xa.prototype.switchOut.call(this,a)},mouseLeftUp:function(){e.AnnotationSelectTool.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()&&(this.Ue=!1,this.annotation)){var a=this.k.qa,b=this.annotation.getPath(this.zb);if(b){if(4>b.length)this.annotation.Kf().pop(),this.annotation.adjustRect(),a.Qb(this.annotation);else{if("pen"!==this.pointerType||
this.simplifyPen)this.annotation.AC(0.75),a.Qb(this.annotation);this.zb++}this.$k=setTimeout(_.bind(this.complete,this),this.createDelay)}0===this.annotation.Kf().length&&(this.complete(),clearTimeout(this.$k))}},mouseMove:function(a){e.AnnotationSelectTool.prototype.mouseMove.call(this,a);!this.isSelecting()&&(!1!==this.Ue&&(this.annotation&&(null!==this.pageCoordinates&&(null!==this.pageCoordinates[1]&&(this.pageCoordinates[0].pageIndex===this.pageCoordinates[1].pageIndex&&(this.annotation.wb(this.pageCoordinates[1].x,
this.pageCoordinates[1].y,this.zb),this.k.qa.Qb(this.annotation)))))))},contextMenu:function(a){a.preventDefault()},vv:function(a){this.pointerType=a.originalEvent.pointerType}});e.SignatureCreateTool=function(a){e.Tool.call(this,a);this.nf=100;this.location=null;this.il=!1;this.zb=0;var b=this;$(document).on("mouseup",function(){b.rs()})};e.SignatureCreateTool.prototype={switchIn:function(){this.k.el.css("cursor","crosshair");this.initAnnot()},us:function(a){var b,k=this.canvas[0].getBoundingClientRect();
a.originalEvent&&(a.originalEvent.touches&&(a=0===a.originalEvent.touches.length?a.originalEvent.changedTouches[0]:a.originalEvent.touches[0]));b=a.clientX;a=a.clientY;return{x:b-k.left,y:a-k.top}},$r:function(){this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)},az:function(){this.$r();this.drawBackground();this.freeHandAnnot.Gz();this.zb=0},rs:function(){this.il&&this.zb++;this.il=!1},drawBackground:function(){var a=window.utils.getCanvasMultiplier();
this.ctx.scale(a,a);this.ctx.save();var b=2/3*this.ctx.canvas.height/a;this.ctx.strokeStyle="#000";this.ctx.lineCap="square";this.ctx.lineWidth=1;this.ctx.beginPath();this.ctx.moveTo(10,b);this.ctx.lineTo(this.ctx.canvas.width/a-10,b);this.ctx.stroke();this.ctx.fillStyle="#000";var k=i18n.t("signatureDialog.signHere");this.ctx.textAlign="center";this.ctx.textBaseline="top";this.ctx.font="15px Verdana,Arial,sans-serif";this.ctx.fillText(k,this.ctx.canvas.width/a/2,b-20);this.ctx.restore()},js:function(){this.$r();
this.drawBackground();this.freeHandAnnot.draw(this.ctx)},initAnnot:function(){var a=this.k.Ef();this.freeHandAnnot=new Annotations.FreeHandAnnotation;this.freeHandAnnot.Author=a.Jh();this.freeHandAnnot.StrokeColor=new Annotations.Color(0,0,0);this.freeHandAnnot.StrokeThickness=3;this.freeHandAnnot.Subject=i18n.t("annotations.types.signature")},Ru:function(a){this.It=a},wy:function(a){this.Ru(a);this.trigger("saveDefault",[a])},BA:function(){return this.It?!0:!1},mB:function(){this.drawBackground()},
Ey:function(){var a=this.It;if(a){for(var a=$.extend(!0,[],a),b=0;b<a.length;++b)this.freeHandAnnot.setPath(a[b],b);this.ft()}},ft:function(a){if(0===this.freeHandAnnot.Kf().length)return!1;a&&this.wy(this.freeHandAnnot.Kf());a=this.k.Ef();this.freeHandAnnot.PageNumber=this.location.pageIndex+1;this.freeHandAnnot.StrokeThickness=1;var b=this.freeHandAnnot.Width,k=this.freeHandAnnot.Height,f,d,e;b>k?(f=this.location.x-this.nf,d=this.location.y-k/b*this.nf,e=this.location.x+this.nf,k=this.location.y+
k/b*this.nf):(f=this.location.x-b/k*this.nf,d=this.location.y-this.nf,e=this.location.x+b/k*this.nf,k=this.location.y+this.nf);b=this.k.getDocument().tc(this.location.pageIndex);f=new Annotations.na(f,d,e,k);f.Uo(new Annotations.na(0,0,b.width,b.height));this.freeHandAnnot.resize(f);a.wf(this.freeHandAnnot);a.Qb(this.freeHandAnnot);this.trigger("annotationAdded",[this.freeHandAnnot]);this.initAnnot();return!0},mC:function(a){var b=this;this.canvas=a;this.ctx=a[0].getContext("2d");this.canvas.on("mousedown touchstart",
function(a){if(1===a.which||0===a.which)a=b.us(a),b.freeHandAnnot.wb(a.x,a.y,b.zb),b.js(),b.il=!0});this.canvas.on("mousemove touchmove",_.throttle(function(a){b.il&&(a=b.us(a),b.freeHandAnnot.wb(a.x,a.y,b.zb),b.js())},20));this.canvas.on("mouseup touchend",function(){b.rs()})},mouseLeftUp:function(a){a.preventDefault();e.Tool.prototype.mouseLeftUp.apply(this,arguments);var b=this.pageCoordinates[1];b&&(this.location=b,this.trigger("locationSelected",b))}};e.SignatureCreateTool.prototype=$.extend(new e.Tool,
e.SignatureCreateTool.prototype,a.utils.eventHandler);e.$c=function(a,b){e.Xb.call(this,a);this.text=this.annotation=null;this.lo=b;this.defaults={StrokeColor:new Annotations.Color(255,0,0)}};e.$c.prototype=$.extend(new e.Xb,{switchIn:function(a){e.Xb.prototype.switchIn.call(this,a);this.k.Uj({annotMode:!0})},switchOut:function(a){e.Xb.prototype.switchOut.call(this,a);this.k.Uj({annotMode:!1})},mouseLeftDown:function(a){e.Xb.prototype.mouseLeftDown.call(this,a);this.isSelecting()||(this.annotation||
(!this.pageCoordinates||(a=this.k.qa,this.annotation=new this.lo,this.annotation.Author=a.Jh(),a=this.defaults.StrokeColor,this.annotation.StrokeColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.trigger("annotationCreated",[this.annotation]))))},textSelected:function(a,b,k){this.annotation&&(this.pageCoordinates[0].pageIndex===a&&(0<b.length&&(this.annotation.vq(b.map(function(a){return a.Cu()})),this.annotation.PageNumber=a+1,this.text=k,this.k.qa.Qb(this.annotation))))},mouseLeftUp:function(a){e.Xb.prototype.mouseLeftUp.call(this,
a);!this.isSelecting()&&(this.annotation&&(a=this.k.qa,!this.text||1>this.text.length?a.cj(this.annotation):(a.wf(this.annotation),this.trigger("annotationAdded",[this.annotation])),this.annotation=this.text=null))}},a.utils.eventHandler);e.yr=function(c){e.$c.call(this,c,a.Annotations.De);this.defaults.StrokeColor=new Annotations.Color(255,255,0)};e.yr.prototype=new e.$c;e.Cr=function(c){e.$c.call(this,c,a.Annotations.lh)};e.Cr.prototype=new e.$c;e.Br=function(c){e.$c.call(this,c,a.Annotations.gg)};
e.Br.prototype=$.extend(new e.$c,{mouseLeftUp:function(){e.$c.prototype.mouseLeftUp.apply(this,arguments);if(!this.isSelecting()){var a=this.annotation,b=this.k.qa;a&&(b.Of(a)&&(b.Wo(a),b.Qb(a)))}}});e.Ar=function(c){e.$c.call(this,c,a.Annotations.kh)};e.Ar.prototype=new e.$c;e.vr=function(a){d.call(this,a);this.annotation=null;this.defaults={StrokeColor:new Annotations.Color(255,255,0),Opacity:1}};e.vr.prototype=$.extend(new e.Tool,{switchIn:function(){this.k.el.css("cursor","crosshair")},mouseLeftDown:function(a){if(!this.annotation){d.prototype.mouseLeftDown.call(this,
a);var b=this.pageCoordinates[0];if(b){var k=this.k.qa;this.annotation=new Annotations.Ce;this.annotation.X=b.x;this.annotation.Y=b.y;this.annotation.PageNumber=b.pageIndex+1;this.annotation.Author=k.Jh();b=this.defaults.StrokeColor;this.annotation.StrokeColor=new Annotations.Color(b.R,b.G,b.B,b.A);this.annotation.Opacity=this.defaults.Opacity;this.trigger("annotationCreated",[this.annotation]);k.wf(this.annotation);this.trigger("annotationAdded",[this.annotation]);k.Qb(this.annotation);var f=this.annotation;
setTimeout(function(){k.Wo(f)},500);this.annotation=null;a.preventDefault()}}}},a.utils.eventHandler);e.Fi=function(c){e.Xa.call(this,c,a.Annotations.kk);this.annotation=null;this.$h=!1};e.Fi.prototype=$.extend(new e.Xa,{mouseLeftDown:function(a){var b;e.Xa.prototype.mouseLeftDown.call(this,a);!this.isSelecting()&&(this.annotation&&(b=a.data.pageCoordinate,null!==b.x&&(null!==b.y&&(b.pageIndex!==this.annotation.V()?this.mouseDoubleClick(a):(0===this.annotation.U.length?this.annotation.wb(b.x,b.y):
this.$h||(this.annotation.ai(),this.annotation.wb(b.x,b.y)),this.$h=!0)))))},mouseLeftUp:function(a){e.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a)},mouseMove:function(a){e.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(this.annotation&&(!this.isSelecting()&&(a=a.data.pageCoordinate,null!==a&&(null!==a.x&&(null!==a.y&&a.pageIndex===this.annotation.V()))))){this.$h||this.annotation.ai();var b=this.annotation.getPath();0===b.length?(this.annotation.wb(a.x,a.y),this.$h=!1):0<b.length&&
((b[b.length-1].x!==a.x||b[b.length-1].y!==a.y)&&(this.annotation.wb(a.x,a.y),this.$h=!1));this.annotation.X=this.annotation.Ba.x;this.annotation.Y=this.annotation.Ba.y;this.k.qa.Qb(this.annotation)}},mouseDoubleClick:function(){this.annotation&&(this.annotation.finish(),this.finish())},Vl:function(a){this.annotation&&this.mouseDoubleClick(a)},contextMenu:function(a){a.preventDefault()},tap:function(){}});e.jk=function(c){e.Xa.call(this,c,a.Annotations.Ae);this.annotation=null;this.$h=!1};e.jk.prototype=
{};e.jk.prototype=$.extend(new e.Fi,e.jk.prototype);e.Qm=function(c){e.Xa.call(this,c,a.Annotations.ya,Annotations.ya.Pc.FreeTextCallout);this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};e.Qm.prototype={};$.extend(e.Qm.prototype,e.Fi.prototype,{mouseLeftDown:function(a){e.Fi.prototype.mouseLeftDown.call(this,a);if(null!==this.annotation&&3<=this.annotation.getPath().length){4===this.annotation.getPath().length&&this.annotation.ai();var b=this.annotation.getPath()[2],
k=this.k.dc(this.annotation.V());b.x+150>this.k.ec(this.annotation.V())&&(b.x-=150);b.y+15>k?b.y-=15:0>b.y-15&&(b.y+=15);this.annotation.wb(b.x,b.y-15);this.annotation.wb(b.x+150,b.y+15);b=this.defaults.TextColor;this.annotation.TextColor=new Annotations.Color(b.R,b.G,b.B,b.A);this.annotation.FontSize=this.defaults.FontSize;this.k.qa.Qb(this.annotation);this.finish();a.preventDefault()}},mouseDoubleClick:function(a){this.annotation||e.Tool.prototype.mouseDoubleClick.call(this,a)},Vl:function(){if(null!==
this.annotation){var a=this.annotation.$a();this.annotation=null;this.k.qa.yb(a)}},contextMenu:function(a){a.preventDefault()}});e.cr=function(c){e.Xa.call(this,c,a.Annotations.ya);this.defaults.StrokeThickness=0;this.defaults.TextColor=new Annotations.Color(255,0,0);this.defaults.FontSize="9pt"};e.cr.prototype=$.extend(new e.Xa,{initialText:"Insert text here",mouseLeftDown:function(a){e.Xa.prototype.mouseLeftDown.call(this,a);!this.isSelecting()&&(this.annotation&&(this.annotation.StrokeThickness=
Math.max(this.annotation.StrokeThickness,1),this.annotation.FillColor=new Annotations.Color(200,220,250,0.2),this.annotation.Tj(Annotations.ya.Pc.FreeText),this.annotation.ji(this.initialText),a=this.defaults.TextColor,this.annotation.TextColor=new Annotations.Color(a.R,a.G,a.B,a.A),this.annotation.FontSize=this.defaults.FontSize))},mouseMove:function(a){e.AnnotationSelectTool.prototype.mouseMove.call(this,a);if(!this.isSelecting()&&(this.annotation&&"undefined"!==typeof this.pageCoordinates)){a=
this.pageCoordinates[0];var b=this.pageCoordinates[1];null!==b&&(null!==a&&(a.pageIndex===b.pageIndex&&(a=new Annotations.na(a.x,a.y,b.x,b.y),a.normalize(),this.annotation.Rg(a),this.annotation.li(new Annotations.na(0,0,0,0)),this.k.qa.Qb(this.annotation))))}},mouseLeftUp:function(a){e.AnnotationSelectTool.prototype.mouseLeftUp.call(this,a);!this.isSelecting()&&(this.annotation&&(this.annotation.StrokeThickness=this.defaults.StrokeThickness,a=this.defaults.FillColor,this.annotation.FillColor=new Annotations.Color(a.R,
a.G,a.B,a.A),a=this.annotation.getRectPadding(),this.annotation.li(new Annotations.na(a,a,a,a)),this.k.qa.Qb(this.annotation),this.finish()))}})})(window);
(function(a){function g(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}var e;if(!(e=!Object.defineProperty)){var d;try{Object.defineProperty({},"x",{}),d=!0}catch(c){d=!1}e=!d}e&&(Object.defineProperty=function(a,f,b){if(a!==Object(a))throw new TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&("get"in b&&Object.prototype.__defineGetter__.call(a,f,b.get));Object.prototype.__defineSetter__&&
("set"in b&&Object.prototype.__defineSetter__.call(a,f,b.set));"value"in b&&(a[f]=b.value);return a});"function"!==typeof Object.defineProperties&&(Object.defineProperties=function(a,f){if(a!==Object(a))throw new TypeError("Object.defineProperties called on non-object");for(var b in f)Object.prototype.hasOwnProperty.call(f,b)&&Object.defineProperty(a,b,f[b]);return a});a.Annotations=a.Annotations||{};var b=a.Annotations;b.Annotation=function(){this.Subject="Annotation";this.Pr=1;this.pn=this.sn=this.un=
this.tn=0;this.Hr=void 0;this.dx=this.BD=this.AD=!1;this.Vr=void 0;this.Cn=new Date;this.ys=g();this.Hn=!0;this.ph=this.Cs=this.Kn=!1;this.Xn=!0;this.Lk=[]};b.Annotation.prototype={elementName:"annotation",draw:function(){},Rg:function(a){var f=this.vd();a=new b.na(a.x1,a.y1,a.x2,a.y2);0>a.la()&&(a.x1=f.x1,a.x2=f.x2);0>a.ha()&&(a.y1=f.y1,a.y2=f.y2);this.X=a.x1;this.Y=a.y1;this.Width=a.la();this.Height=a.ha()},adjustRect:function(){},resize:function(a){this.Rg(a)},Mf:function(){return this.X},sC:function(a){this.X=
parseFloat(a)},Nf:function(){return this.Y},tC:function(a){this.Y=parseFloat(a)},la:function(){return this.Width},Uv:function(a){this.Width=parseFloat(a)},ha:function(){return this.Height},sm:function(a){this.Height=parseFloat(a)},vd:function(){return new b.na(this.X,this.Y,this.X+this.Width,this.Y+this.Height)},getRectPadding:function(){return 0},$a:function(){return this.PageNumber},V:function(){return"undefined"===typeof this.PageNumber?void 0:this.PageNumber-1},Qv:function(a){this.PageNumber=
parseInt(a,10)},Gf:function(){return this.Mf()},Eu:function(){return this.Gf()+this.Width},Lf:function(){return this.Nf()},ku:function(){return this.Lf()+this.Height},Xz:function(){return this.Custom},XB:function(a){this.Custom=a},Bg:function(){return this.wB},ji:function(a){this.wB=a;this.Rb()},qg:function(a){this.Lk.push(a)},Jo:function(a){a=this.Lk.indexOf(a);-1<a&&this.Lk.splice(a,1)},pj:function(){return this.Lk},Bd:function(){return!(_.isUndefined(this.InReplyTo)||_.isNull(this.InReplyTo))},
IB:function(){return this.Xn},Rb:function(){this.isImporting||(this.Cn=new Date);this.Hn||(this.Kn=!0)},serialize:function(c,f){var d=$(c),e=b.sa,g=this.vd();g.$t();g={subject:this.Subject,page:this.V(),rect:e.rm(g,f),flags:"print"};this.Hidden&&(g.flags+=",hidden");this.Id&&(g.name=this.Id);this.Author&&(g.title=this.Author);this.DateModified&&(g.date=e.Gq(this.DateModified));d.attr(g);if(e=this.Bg()){var g=document.createElementNS("","contents-richtext"),m;if(a.utils.xmlSerializerNamespaceSupported){m=
document.createElementNS("http://www.w3.org/1999/xhtml","body");var q=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:spec");q.nodeValue="2.0.2";m.setAttributeNodeNS(q);q=document.createAttributeNS("http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion");q.nodeValue="Acrobat:10.1.3";m.setAttributeNodeNS(q);m=$(m)}else m=$("<body>").attr({xmlns:"http://www.w3.org/1999/xhtml","xmlns:xfa":"http://www.xfa.org/schema/xfa-data/1.0/","xfa:APIVersion":"Acrobat:10.1.3","xfa:spec":"2.0.2"});
m.appendTo($(g));m=$('<p dir="ltr"></p>').appendTo(m);q=";font-weight:normal;font-style:normal";q=this instanceof b.ya?b.sa.SB(this)+q:"font-size:10.0pt;text-align:left;color:#000000"+q;$('<span dir="ltr"></span>').attr("style",q).text(e).appendTo(m);d.append(g);e=$(document.createElementNS("","contents")).text(e);d.append(e)}return c},Vy:function(a){return(a=$(a).prop("nodeName"))&&this.elementName?a.toLowerCase()===this.elementName.toLowerCase():!1},deserialize:function(a,f){var c=$(a),d=b.sa,e=
$(a).attr("page"),e=parseInt(e,10);this.PageNumber=e+1;e=c.attr("rect")||"0,0,100,100";e=d.Mt(e,f);e.normalize();this.Rg(e);this.Id=c.attr("name");this.Author=c.attr("title");"undefined"!==typeof c.attr("subject")&&(this.Subject=c.attr("subject"));e=c.attr("flags");"undefined"!==typeof e&&(this.NoZoom=-1!==e.indexOf("nozoom"),this.NoRotate=-1!==e.indexOf("norotate"),this.Hidden=-1!==e.indexOf("hidden"));(c=c.attr("date"))&&(this.DateModified=d.dl(c));d="";e=a.getElementsByTagName("contents-richtext");
if(0<e.length)if(c=e[0].getElementsByTagName("body"),0<c.length)if(e=c[0].getElementsByTagName("span"),0<e.length)for(c=0;c<e.length;++c)d+=$(e[c]).text();else d=$(c[0]).text();else d=$(e[0]).text();else c=a.getElementsByTagName("contents"),0<c.length&&(d=$(c[0]).text());this.ji(d)}};Object.defineProperties(b.Annotation.prototype,{X:{get:function(){return this.tn},set:function(a){this.tn=parseFloat(a);this.Rb()}},Y:{get:function(){return this.un},set:function(a){this.un=parseFloat(a);this.Rb()}},
Width:{get:function(){return this.sn},set:function(a){this.sn=parseFloat(a);this.Rb()}},Height:{get:function(){return this.pn},set:function(a){this.pn=parseFloat(a);this.Rb()}},NoMove:{get:function(){return this.Nr},set:function(a){this.Nr=!0===a||"true"===a}},NoResize:{get:function(){return this.Or},set:function(a){this.Or=!0===a||"true"===a}},PageNumber:{get:function(){return this.Pr},set:function(a){this.Pr=parseInt(a,10)}},DateModified:{get:function(){return this.Cn},set:function(a){this.Cn=a instanceof
Date?a:new Date(a)}},Id:{get:function(){return this.ys},set:function(a){this.ys=a}},Author:{get:function(){return this.Vr},set:function(a){this.Vr=a}},IsAdded:{get:function(){return this.Hn},set:function(a){this.Hn=a}},IsModified:{get:function(){return this.Kn},set:function(a){this.Kn=a}},IsDeleted:{get:function(){return this.Cs},set:function(a){this.Cs=a}},Filtered:{get:function(){return this.ph},set:function(a){this.ph=a}},Custom:{get:function(){return this.Hr},set:function(a){this.Hr=a}}});b.Hc=
function(){b.Annotation.call(this);this.fs=this.ps=this.os=void 0;this.Ms=this.Ts=this.Qs=!1;this.Rs=[];this.ms=void 0;this["_xsi:type"]="Widget";this.Subject=this["_xsi:type"]};b.Hc.prototype={};b.Hc.prototype=$.extend(!0,new b.Annotation,b.Hc.prototype);Object.defineProperties(b.Hc.prototype,{FieldName:{get:function(){return this.os},set:function(a){this.os=a}},FieldValue:{get:function(){return this.ps},set:function(a){this.ps=a}},DefaultValue:{get:function(){return this.fs},set:function(a){this.fs=
a}},ReadOnly:{get:function(){return this.Qs},set:function(a){this.Qs=a}},Required:{get:function(){return this.Ts},set:function(a){this.Ts=a}},NoExport:{get:function(){return this.Ms},set:function(a){this.Ms=a}},Rect:{get:function(){return this.Rs},set:function(a){this.Rs=a}},Element:{get:function(){return this.ms},set:function(a){this.ms=a}}});b.Ee=function(){b.Hc.call(this);this.gs=this.Ps=this.Ls=!1};b.Ee.prototype={};b.Ee.prototype=$.extend(new b.Hc,b.Ee.prototype);Object.defineProperties(b.Ee.prototype,
{Multiline:{get:function(){return this.Ls},set:function(a){this.Ls=a}},Password:{get:function(){return this.Ps},set:function(a){this.Ps=a}},DoNotScroll:{get:function(){return this.gs},set:function(a){this.gs=a}}});b.ve=function(){b.Hc.call(this);this.As=void 0;this.Os=[]};b.ve.prototype={};b.ve.prototype=$.extend(new b.Hc,b.ve.prototype);Object.defineProperties(b.ve.prototype,{IsCombo:{get:function(){return this.As},set:function(a){this.As=a}},Options:{get:function(){return this.Os},set:function(a){this.Os=
a}}});b.te=function(){b.Hc.call(this);this.Wr=void 0};b.te.prototype={};b.te.prototype=$.extend(new b.Hc,b.te.prototype);Object.defineProperties(b.te.prototype,{ButtonType:{get:function(){return this.Wr},set:function(a){this.Wr=a}}});b.mk=function(){b.Hc.call(this)};b.mk.prototype=$.extend(new b.Hc,b.Hc.prototype);b.lf=function(){b.Annotation.call(this);this._isOpen=!1};b.lf.prototype={isOpen:function(){return this._isOpen},ki:function(a){this._isOpen=a},deserialize:function(a,f){b.Annotation.prototype.deserialize.apply(this,
arguments);var c=a.getAttribute("open");this.ki(c&&"yes"===c)}};b.lf.prototype=$.extend(new b.Annotation,b.lf.prototype);b.ca=function(){b.Annotation.call(this);this.mc=new b.Color(0,0,0,0);this.ig=new b.Color(0,0,0);this._opacity=this.jg=1;this.es=new Date;this.Si=null};b.ca.prototype={Sb:function(a){null!==this.Opacity&&(a.globalAlpha=this.Opacity);null!==this.FillColor&&(a.fillStyle=this.FillColor.toString());null!==this.StrokeColor&&(a.strokeStyle=this.StrokeColor.toString());a.lineWidth=0===
this.StrokeThickness?0.001:this.bp()},Oe:function(){return this.Si},uq:function(a){this.Si=a},bp:function(){return 4/3*this.StrokeThickness},serialize:function(a,f){var c=b.Annotation.prototype.serialize.apply(this,arguments),d=b.sa,e={},g=d.Pg(this.StrokeColor);null!==g&&(e.color=g);d=d.Pg(this.FillColor);null!==d&&(e["interior-color"]=d);_.isUndefined(this.StrokeThickness)||(_.isNull(this.StrokeThickness)||(e.width=this.StrokeThickness));_.isUndefined(this.Opacity)||(_.isNull(this.Opacity)||(e.opacity=
this.Opacity));this.fringe&&(e.fringe=b.sa.qq(this.fringe,f));this.DateCreated&&(e.creationdate=b.sa.Gq(this.DateCreated));$(c).attr(e);this.Si&&(e=this.Si.isOpen()?"yes":"no",d=$(document.createElementNS("","popup")),g=this.Si.vd(),g.$t(),d.attr({flags:"print,nozoom,norotate",page:this.V(),rect:b.sa.rm(g,f)}).appendTo($(c)),d[0].setAttribute("open",e));return c},deserialize:function(a,f){b.Annotation.prototype.deserialize.apply(this,arguments);var c=$(a),d=b.sa,e=c.attr("opacity");"undefined"!==
typeof e&&(this.Opacity=parseFloat(e));e=c.attr("width");"undefined"!==typeof e&&(this.jg=parseFloat(e));e=c.attr("fringe");"undefined"!==typeof e&&(this.fringe=d.vz(e,f));e=d.wg(c.attr("color"));null!==e&&(this.StrokeColor=e);e=d.wg(c.attr("interior-color"));this.FillColor=null!==e?e:new b.Color(0,0,0,0);(e=c.attr("creationdate"))&&(this.DateCreated=d.dl(e));c=c.find("popup");d=this.Oe()||new b.lf;0<c.length?d.deserialize(c[0],f):(d.PageNumber=this.PageNumber,d.Rg(new b.na(0,0,150,100)));this.uq(d)},
selectionModel:b.fa};b.ca.prototype=$.extend(!0,new b.Annotation,b.ca.prototype);Object.defineProperties(b.ca.prototype,{FillColor:{get:function(){return this.mc},set:function(a){a instanceof b.Color&&(this.mc=a,this.Rb())}},StrokeColor:{get:function(){return this.ig},set:function(a){a instanceof b.Color&&(this.ig=a,this.Rb())}},StrokeThickness:{get:function(){return this.jg},set:function(a){this.jg=parseFloat(a);this.Rb();this.adjustRect()}},Opacity:{get:function(){return this._opacity},set:function(a){this._opacity=
parseFloat(a);this.Rb()}},DateCreated:{get:function(){return this.es},set:function(a){this.es=a instanceof Date?a:new Date(a)}}});b.Fc=function(){b.ca.call(this);this["_xsi:type"]="Line";this.Subject=i18n.t("annotations.types.line");this.zh=this.sk=this.End=this.Start=this.mc=null};b.Fc.prototype={elementName:"line",resize:function(a){var f=a.x1;a=a.y1;var b=f-this.X,c=a-this.Y;if(0!==b||0!==c)this.Start.x+=b,this.Start.y+=c,this.End.x+=b,this.End.y+=c,this.X=f,this.Y=a},adjustRect:function(){if(!_.isNull(this.Start)||
!_.isNull(this.End)){var a=this.getRectPadding();this.X=Math.min(this.Start.x,this.End.x)-a;this.Y=Math.min(this.Start.y,this.End.y)-a;this.Width=Math.abs(this.Start.x-this.End.x)+2*a;this.Height=Math.abs(this.Start.y-this.End.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},Rv:function(a,f){this.Start=new b.Point(a,f)},qA:function(){return this.Start},setEndPoint:function(a,f){this.End=new b.Point(a,f)},$z:function(){return this.End},Sg:function(a){this.zh=a},rj:function(){return this.zh||
"None"},Nv:function(a){this.sk=a},ru:function(){return this.sk||"None"},draw:function(a){this.Sb(a);if(this.Start&&this.End){a.beginPath();a.moveTo(this.Start.x,this.Start.y);a.lineTo(this.End.x,this.End.y);var f=!1;_.isNull(this.zh)||("None"===this.zh||(b.nn.No(a,this.Start,this.End,this.StrokeThickness),f=!0));_.isNull(this.sk)||("None"===this.sk||(b.nn.No(a,this.End,this.Start,this.StrokeThickness),f=!0));f||a.stroke()}else a.beginPath(),a.moveTo(0,0),a.lineTo(this.la(),this.ha()),a.stroke()},
serialize:function(a,f){a=b.ca.prototype.serialize.apply(this,arguments);var c=new b.Point(this.Start.x,this.Start.y),d=new b.Point(this.End.x,this.End.y),e=b.sa;$(a).attr({start:e.rq(c,f),end:e.rq(d,f),head:this.rj(),tail:this.ru()});return a},deserialize:function(a,f){b.ca.prototype.deserialize.apply(this,arguments);var c=b.sa,d=$(a),e=c.Lt(d.attr("start"),f);null!==e&&this.Rv(e.x,e.y);c=c.Lt(d.attr("end"),f);null!==c&&this.setEndPoint(c.x,c.y);this.Sg(d.attr("head")||"None");this.Nv(d.attr("tail")||
"None");this.adjustRect();this.mc=null},selectionModel:b.Di};b.Fc.prototype=$.extend(new b.ca,b.Fc.prototype);b.hh=function(){b.ca.call(this);this["_xsi:type"]="Rectangle";this.Subject=i18n.t("annotations.types.rectangle");var a=this.getRectPadding();this.fringe=new b.na(a,a,a,a)};b.hh.prototype={elementName:"square",draw:function(a){this.Sb(a);a.lineWidth*=2;a.beginPath();var f=this.vd();f.x1+=this.fringe.x1;f.y1+=this.fringe.y1;f.x2-=this.fringe.x2;f.y2-=this.fringe.y2;a.moveTo(f.x1,f.y1);a.lineTo(f.x2,
f.y1);a.lineTo(f.x2,f.y2);a.lineTo(f.x1,f.y2);a.closePath();a.clip();a.fill();a.stroke()},getRectPadding:function(){return 0}};b.hh.prototype=$.extend(new b.ca,b.hh.prototype);b.ti=function(){b.ca.call(this);this["_xsi:type"]="Caret";this.Subject=i18n.t("annotations.types.caret");this.mc=null};b.ti.prototype={elementName:"caret",draw:function(a){this.Sb(a);a.beginPath();a.fillStyle=this.StrokeColor.toString();var f=this.vd(),b=(f.x1+f.x2)/2,c=f.y1+3*this.Height/4;a.moveTo(b,f.y1);a.quadraticCurveTo(b,
c,f.x1,f.y2);a.lineTo(f.x2,f.y2);a.quadraticCurveTo(b,c,b,f.y1);a.closePath();a.fill();a.stroke()},selectionModel:b.fa};b.ti.prototype=$.extend(new b.ca,b.ti.prototype);b.$g=function(){b.ca.call(this);this["_xsi:type"]="Ellipse";this.Subject=i18n.t("annotations.types.ellipse");var a=this.getRectPadding();this.fringe=new b.na(a,a,a,a)};b.$g.prototype={elementName:"circle",draw:function(a){this.Sb(a);var f=this.X+this.fringe.x1,b=this.Y+this.fringe.y1,c=this.la()-this.fringe.x1-this.fringe.x2,d=this.ha()-
this.fringe.y1-this.fringe.y2,e=Math.min(c,d);a.lineWidth>=e&&(a.lineWidth=e-1);e=(c-a.lineWidth)/(d-a.lineWidth);isNaN(e)||(Infinity===e||(a.save(),a.translate(f+(1-e)*c/2,b),a.scale(e,1),a.beginPath(),a.arc(0.5*c,0.5*d,Math.max(0.5*d-a.lineWidth/2,0),0,2*Math.PI,!1),a.restore(),a.fill(),a.stroke()))},getRectPadding:function(){return 0},selectionModel:b.fa};b.$g.prototype=$.extend(new b.ca,b.$g.prototype);b.ih=function(){b.ca.call(this);this["_xsi:type"]="Stamp";this.Subject=i18n.t("annotations.types.stamp");
this.Icon="Draft";this.ig=this.mc=null;this.rz="bold italic "+this.cw+"px Verdana"};b.ih.prototype={elementName:"stamp",padding:20,cw:30,Ho:10,draw:function(a){this.Sb(a);a.translate(this.X,this.Y);if(this.image)a.drawImage(this.image,0,0,this.Width,this.Height);else if("SHAccepted"===this.Icon)a.lineWidth=0.2*Math.min(this.Width,this.Height),a.strokeStyle="#426922",a.beginPath(),a.moveTo(0.05*this.Width,0.5*this.Height),a.lineTo(0.4*this.Width,0.85*this.Height),a.lineTo(0.95*this.Width,0.05*this.Height),
a.stroke();else if("SBRejected"===this.Icon)a.lineWidth=0.2*Math.min(this.Width,this.Height),a.strokeStyle="#8F110F",a.beginPath(),a.moveTo(0.05*this.Width,0.05*this.Height),a.lineTo(0.95*this.Width,0.95*this.Height),a.moveTo(0.95*this.Width,0.05*this.Height),a.lineTo(0.05*this.Width,0.95*this.Height),a.stroke();else{var f=this.Vz();a.fillStyle=f.fill;a.strokeStyle=f.Tl;a.lineWidth=1;var b=this.Ho;if(this.la()<=2*this.Ho||this.ha()<=2*this.Ho)b=Math.min(this.la()/2,this.ha()/2);this.Ez(a,0,0,this.la(),
this.ha(),b);a.font=this.rz;a.fillStyle=f.Tl;f=this.$v.toUpperCase();b=a.measureText(f).width+2*this.padding;a.save();var b=this.la()/b,c=this.ha()/(1.5*this.cw);a.scale(b,c);a.textBaseline="middle";a.textAlign="center";a.fillText(f,this.la()/(2*b),this.ha()/(2*c));a.restore()}},vA:function(){var a=this.Icon;if(this.Bb[a])return this.Bb[a];if(0===a.indexOf("SB")||0===a.indexOf("SH")){var f=this.Bb[a.substring(2)];if(f)return f}return a},Vz:function(){var a=_.isUndefined(this.opacity)?1:parseFloat(this.opacity),
f={Tl:"rgba(145, 15, 5, "+a+")",fill:"rgba(242, 230, 227, "+0.7*a+")"},b={Tl:"rgba(65, 106, 28, "+a+")",fill:"rgba(215, 226, 207, "+0.7*a+")"},a={Tl:"rgba(24, 37, 100, "+a+")",fill:"rgba(224, 235, 246, "+0.7*a+")"};switch(this.$v){case this.Bb.Approved:case this.Bb.Completed:case this.Bb.Final:return b;case this.Bb.Asis:case this.Bb.Confidential:case this.Bb.Departmental:case this.Bb.Draft:case this.Bb.Experimental:case this.Bb.ForComment:case this.Bb.ForPublicRelease:case this.Bb.NotForPublicRelease:case this.Bb.Sold:case this.Bb.TopSecret:return a;
case this.Bb.Expired:case this.Bb.NotApproved:case this.Bb.Void:return f;default:return a}},Bb:{Approved:"Approved",AsIs:"As Is",Completed:"Completed",Confidential:"Confidential",Departmental:"Departmental",Draft:"Draft",Experimental:"Experimental",Expired:"Expired",Final:"Final",ForComment:"For Comment",ForPublicRelease:"For Public Release",InformationOnly:"Information Only",NotApproved:"Not Approved",NotForPublicRelease:"Not For Public Release",PreliminaryResults:"Preliminary Results",Sold:"Sold",
TopSecret:"Top Secret",Void:"Void"},Ez:function(a,f,b,c,d,e){a.beginPath();a.moveTo(f+e,b);a.lineTo(f+c-e,b);a.quadraticCurveTo(f+c,b,f+c,b+e);a.lineTo(f+c,b+d-e);a.quadraticCurveTo(f+c,b+d,f+c-e,b+d);a.lineTo(f+e,b+d);a.quadraticCurveTo(f,b+d,f,b+d-e);a.lineTo(f,b+e);a.quadraticCurveTo(f,b,f+e,b);a.closePath();a.fill();a.stroke()},serialize:function(a,f){var c=b.ca.prototype.serialize.apply(this,arguments),d=$(c);d.attr("icon",this.Icon);this.image&&$(document.createElementNS("","imagedata")).text(this.image.src).appendTo(d);
return c},deserialize:function(a,f){b.ca.prototype.deserialize.apply(this,arguments);var c=$(a),d=c.attr("icon");d?this.Icon=d:this.Subject&&(this.Icon=this.Subject);c=c.find("imagedata");0<c.length&&(this.ImageData=c.text())}};b.ih.prototype=$.extend(new b.ca,b.ih.prototype,a.utils.eventHandler);Object.defineProperties(b.ih.prototype,{Icon:{get:function(){return this.Ux},set:function(a){this.Ux=a;this.$v=this.vA();this.Rb()}},ImageData:{get:function(){return this.image.src},set:function(a){this.image||
(this.image=new Image);this.Xn=!1;this.image.src=a;var f=this;this.image.onload=function(){f.Xn=!0;f.trigger("resourcesLoaded")};this.Rb()}},FillColor:{get:function(){return this.mc},set:function(){}},StrokeColor:{get:function(){return this.ig},set:function(){}}});b.Ec=function(){b.ca.call(this);this.U=[];this.Ba={x:0,y:0};this.Ta={x:0,y:0}};b.Ec.prototype={wb:function(a,f){var c=this.getRectPadding();this.U.push(new b.Point(a,f));1===this.U.length?(this.Ba={x:a,y:f},this.Ta={x:a,y:f},this.X=a-c,
this.Y=f-c):(a>this.Ta.x&&(this.Width=a-this.Ba.x+2*c,this.Ta.x=a),f>this.Ta.y&&(this.Height=f-this.Ba.y+2*c,this.Ta.y=f),a<this.Ba.x&&(this.Width=this.Ta.x-a+2*c,this.X=a-c,this.Ba.x=a),f<this.Ba.y&&(this.Height=this.Ta.y-f+2*c,this.Y=f-c,this.Ba.y=f))},Fd:function(a,f,b){this.U&&this.U.length>a?(this.U[a].x=f,this.U[a].y=b,this.adjustRect()):this.U&&(this.U.length===a&&this.wb(f,b))},Jf:function(a){return this.U&&this.U.length>a?this.U[a]:null},ai:function(){var a=this.U.pop();this.adjustRect();
return a},getPath:function(){return this.U},setPath:function(a){this.U=a;this.adjustRect()},getRectPadding:function(){return this.StrokeThickness},adjustRect:function(){if(0!==this.U.length){this.Ba={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.Ta={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};for(var a=0;a<this.U.length;a++)if(null!==this.U[a]){var f=this.U[a].x,b=this.U[a].y;f>this.Ta.x&&(this.Ta.x=f);b>this.Ta.y&&(this.Ta.y=b);f<this.Ba.x&&(this.Ba.x=f);b<this.Ba.y&&(this.Ba.y=b)}a=this.getRectPadding();
this.X=this.Ba.x-a;this.Y=this.Ba.y-a;this.Width=Math.max(0,this.Ta.x-this.Ba.x)+2*a;this.Height=Math.max(0,this.Ta.y-this.Ba.y)+2*a}},selectionModel:b.gh};b.Ec.prototype=$.extend(new b.ca,b.Ec.prototype);b.FreeHandAnnotation=function(){b.ca.call(this);this.ka=[];this.LeftMost=Infinity;this.RightMost=0;this.TopMost=Infinity;this.BottomMost=0;this.Ba={x:0,y:0};this.Ta={x:0,y:0};this.Jn=!1;this["_xsi:type"]="Free Hand";this.Subject=i18n.t("annotations.types.freeHand");this.mc=null};b.FreeHandAnnotation.prototype=
{elementName:"ink",shouldSimplifyPath:!0,wb:function(a,f,c){"undefined"===typeof c&&(c=0);if(c===this.ka.length)this.ka.push([]);else if(c>this.ka.length){console.warn("FreeHandAnnotation addPointPoint: pathIndex out of bounds.");return}this.LeftMost=Math.min(this.LeftMost,a);this.RightMost=Math.max(this.RightMost,a);this.TopMost=Math.min(this.TopMost,f);this.BottomMost=Math.max(this.BottomMost,f);var d=this.getRectPadding();this.tn=this.LeftMost-d;this.un=this.TopMost-d;this.sn=this.RightMost-this.LeftMost+
2*d;this.pn=this.BottomMost-this.TopMost+2*d;this.ka[c].push(new b.Point(a,f))},Fd:function(a,f,b,c){"undefined"===typeof c&&(c=0);var d=null;this.ka.length>c?(d=this.ka[c],d.length>a?(d[a].x=f,d[a].y=b,this.adjustRect()):d.length===a&&this.wb(f,b,c)):this.ka.length===c?this.wb(f,b,c):console.warn("FreeHandAnnotation setPathPoint: pathIndex out of bounds.")},Jf:function(a,f){"undefined"===typeof f&&(f=0);return this.ka&&(this.ka.length>f&&this.ka[f].length>a)?this.ka[f][a]:null},ai:function(a){"undefined"===
typeof a&&(a=0);var f=null;this.ka.length>a&&(f=this.ka[a].pop(),this.adjustRect());return f},getPath:function(a){"undefined"===typeof a&&(a=0);return this.ka.length>a?this.ka[a]:null},setPath:function(a,f){"undefined"===typeof f&&(f=0);this.ka.length<f?console.warn("FreeHandAnnotation setPath: pathIndex out of bounds."):this.ka.length>f?this.ka[f]=a:this.ka.length===f&&this.ka.push(a);this.adjustRect()},Gz:function(){this.ka=[]},finish:function(){this.Jn||(this.Rb(),this.Jn=!0)},resize:function(a){var f=
a.x1,c=a.y1,b=a.la(),d=a.ha();a=c-this.Y;if(!(0===f-this.X&&(0===a&&(b===this.Width&&d===this.Height))||(1>b||1>d))){var e=a=1;"undefined"!==typeof b&&("undefined"!==typeof d&&(a=d/this.Height,e=b/this.Width,Math.min(a,e),this.Width=b,this.Height=d));for(b=0;b<this.ka.length;b++)for(d=0;d<this.ka[b].length;d++)this.ka[b][d].x=(this.ka[b][d].x-this.X)*e+f,this.ka[b][d].y=(this.ka[b][d].y-this.Y)*a+c;this.X=f;this.Y=c}},draw:function(a){for(var f=this.Kf(),b=0;b<f.length;b++)this.Dz(a,f[b])},Kf:function(){return this.ka},
AC:function(a,f){if(this.shouldSimplifyPath)for(var b=0;b<this.ka.length;b++){var c=window.simplify(this.getPath(b),a,f);this.setPath(c,b)}},Dz:function(a,f){var b="undefined"===typeof f?0:f.length,c=!1;if(3<=b){c=!0;a.beginPath();a.moveTo(f[0].x,f[0].y);for(b=1;b<f.length-2;b++)a.quadraticCurveTo(f[b].x,f[b].y,(f[b].x+f[b+1].x)/2,(f[b].y+f[b+1].y)/2);b+1<f.length&&a.quadraticCurveTo(f[b].x,f[b].y,f[b+1].x,f[b+1].y)}else 2===b&&(c=!0,a.beginPath(),a.moveTo(f[0].x,f[0].y),a.lineTo(f[1].x,f[1].y));
c&&(this.Sb(a),a.lineCap="round",a.lineJoin="round",a.stroke())},adjustRect:function(){if(0!==this.ka.length){this.Ba={x:Number.MAX_VALUE,y:Number.MAX_VALUE};this.Ta={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE};var a,f;for(a=0;a<this.ka.length;a++)for(f=0;f<this.ka[a].length;f++)if(null!==this.ka[a][f]){var b=this.ka[a][f].x,c=this.ka[a][f].y;b>this.Ta.x&&(this.Ta.x=b);c>this.Ta.y&&(this.Ta.y=c);b<this.Ba.x&&(this.Ba.x=b);c<this.Ba.y&&(this.Ba.y=c)}a=this.getRectPadding();this.X=this.Ba.x-a;this.Y=this.Ba.y-
a;this.Width=Math.max(0,this.Ta.x-this.Ba.x)+2*a;this.Height=Math.max(0,this.Ta.y-this.Ba.y)+2*a}},getRectPadding:function(){return this.StrokeThickness},serialize:function(a,f){for(var c=b.ca.prototype.serialize.apply(this,arguments),d=$(document.createElementNS("","inklist")),e=this.Kf(),g=0;g<e.length;g++)if(!(1>e[g].length)){var q=b.sa.Sj(e[g],f);$(document.createElementNS("","gesture")).text(q).appendTo(d)}$(c).append(d);return c},deserialize:function(a,f){b.ca.prototype.deserialize.apply(this,
arguments);var c=this;c.ka=[];$(a).find("inklist gesture").each(function(){var a=$(this).text(),a=b.sa.ej(a,f),a=this.shouldSimplifyPath?window.simplify(a,0.5):a;c.ka.push(a)});this.adjustRect();this.mc=null},selectionModel:b.fa};b.FreeHandAnnotation.prototype=$.extend(new b.ca,b.FreeHandAnnotation.prototype);b.Ae=function(){b.ca.call(this);this.U=[];this.Jn=!1;this["_xsi:type"]="Polygon";this.Subject=i18n.t("annotations.types.polygon");this.Ba={x:0,y:0};this.Ta={x:0,y:0}};b.Ae.prototype={elementName:"polygon",
resize:function(a){var f=a.x1;a=a.y1;var b=f-this.X,c=a-this.Y;if(0!==b||0!==c){for(var d=0;d<this.U.length;d++)this.U[d].x+=b,this.U[d].y+=c;this.X=f;this.Y=a}},finish:function(){this.adjustRect()},draw:function(a){this.Sb(a);for(var f=0;f<this.U.length;f++){var b=this.U[f];0===f?(a.beginPath(),a.moveTo(b.x,b.y)):a.lineTo(b.x,b.y)}1<this.U.length&&(a.closePath(),a.lineJoin="round",a.fill(),a.stroke())},serialize:function(a,f){var c=b.ca.prototype.serialize.apply(this,arguments),d=this.getPath();
d&&(0<d.length&&$(document.createElementNS("","vertices")).text(b.sa.Sj(d,f)).appendTo($(c)));return c},deserialize:function(a,f){b.ca.prototype.deserialize.apply(this,arguments);var c=$(a).find("vertices");0<c.length&&(c=c.text(),this.U=b.sa.ej(c,f));this.adjustRect()},selectionModel:b.gh};b.Ae.prototype=$.extend(new b.Ec,b.Ae.prototype);b.kk=function(){b.Ae.call(this);this["_xsi:type"]="Polyline";this.Subject=i18n.t("annotations.types.polyline");this.mc=null};b.kk.prototype=$.extend(new b.Ae,{elementName:"polyline",
draw:function(a){this.Sb(a);for(var f=0;f<this.U.length;f++){var b=this.U[f];0===f?(a.beginPath(),a.moveTo(b.x,b.y)):a.lineTo(b.x,b.y)}1<this.U.length&&(a.lineJoin="round",a.stroke())},deserialize:function(a,f){b.Ae.prototype.deserialize.apply(this,arguments);this.adjustRect();this.mc=null}});b.ya=function(a){b.Ec.call(this);this.U=[];this.Ba={x:0,y:0};this.Ta={x:0,y:0};this["_xsi:type"]="FreeText";this.Subject=i18n.t("annotations.types.freetext");this.StrokeThickness=1;this.Tj(a);this.Nl="left";
this.Tr=new b.Color(255,0,0);this.Jr="Verdana";this.Kr="9pt";this.Sr="left"};b.ya.Pc={FreeText:"FreeText",FreeTextCallout:"FreeTextCallout",FreeTextTypeWriter:"FreeTextTypeWriter"};b.ya.prototype={elementName:"freetext",Lh:function(){return this.intent},Tj:function(a){this.intent=a||b.ya.Pc.FreeText;a!==b.ya.Pc.FreeTextCallout?(this.selectionModel=b.yi,this.Subject=i18n.t("annotations.types.freetext")):(this.Sg("OpenArrow"),this.selectionModel=b.ck,this.Subject=i18n.t("annotations.types.callout"))},
Sg:function(a){this.zh=a},rj:function(){return this.zh},wb:function(a,f){5>this.U.length&&b.Ec.prototype.wb.call(this,a,f)},adjustRect:function(){this.Lh()===b.ya.Pc.FreeTextCallout&&b.Ec.prototype.adjustRect.apply(this,arguments)},resize:function(a){if(this.Lh()===b.ya.Pc.FreeTextCallout){var f=a.y1-this.Y,c=a.la()/this.Width,d=a.ha()/this.Height;if(0!==a.x1-this.X||(0!==f||(1!==c||1!==d))){for(f=0;f<this.U.length;f++)null!==this.U[f]&&(this.U[f].x=(this.U[f].x-this.X)*c+a.x1,this.U[f].y=(this.U[f].y-
this.Y)*d+a.y1);this.adjustRect()}}else this.Rg(a),a=this.getRectPadding(),this.li(new b.na(a,a,a,a))},getRectPadding:function(){return this.Lh()===b.ya.Pc.FreeTextCallout?this.StrokeThickness/2:0},li:function(a){for(var f=this.getPath();5>f.length;)f.push(null);5<=f.length&&(f[3]=new b.Point(this.X+a.x1,this.Y+a.y2),f[4]=new b.Point(this.X+this.Width-a.x2,this.Y+this.Height-a.y1))},xu:function(){var a=this.U[3],f=this.U[4];return new b.na(a.x-this.X,this.Y+this.Height-f.y,this.X+this.Width-f.x,a.y-
this.Y)},ip:function(){return this.FontSize.slice(-2)||"px"},hp:function(){var a=parseFloat(this.FontSize);"px"===this.ip(a)&&(a*=0.75);return a},iD:function(a,f,b,c,d,e){for(var g,r=f.split("\n"),u=0;u<r.length;u++){for(var s=r[u].split(" "),v="",w=0;w<s.length;w++){f=s[w];for(g=a.measureText(f);g.width>d&&!(1>=f.length);)f=f.substring(0,f.length-1),g=a.measureText(f);s[w]!==f&&(s.splice(w+1,0,s[w].substr(f.length)),s[w]=f);f=v+s[w];g=a.measureText(f);g.width>d&&0<w?(a.fillText(v,b,c),v=s[w]+" ",
c+=e):v=f+" "}a.fillText(v.slice(0,-1),b,c);c+=e}},draw:function(a){var f;this.Sb(a);if(this.Lh()===b.ya.Pc.FreeTextCallout){a.lineJoin="miter";for(var c=Math.min(3,this.U.length),d=0;d<c;d++)f=this.U[d],0===d?(a.beginPath(),a.moveTo(f.x,f.y)):a.lineTo(f.x,f.y);2<=this.U.length&&b.nn.No(a,this.U[0],this.U[1],this.StrokeThickness)}if(5===this.U.length){f=this.U[3];var e=this.U[4],c=f.x,d=f.y,g=e.x-f.x,q=e.y-f.y;a.save();a.beginPath();a.rect(c,d,g,q);a.closePath();a.fill();0<this.StrokeThickness&&(a.clip(),
a.lineWidth*=2,a.strokeRect(c,d,g,q));a.restore();f=this.Bg();if("undefined"!==typeof f){a.textBaseline="top";a.fillStyle=this.TextColor.toString();var r=a.lineWidth,e=2+r;a.save();a.beginPath();a.rect(c+r,d+r,Math.max(g-2*r,0),Math.max(q-2*r));a.closePath();a.clip();a.textAlign=this.TextAlign;a.font=this.FontSize+" "+this.Font;q=g-2*e;r=parseFloat(this.FontSize);"pt"===this.ip()&&(r*=4/3);if(0===r){var r=q,u=f.split("\n").reduce(function(a,f){return f.length>a.length?f:a});do r--,a.font=r+"px "+
this.Font;while(a.measureText(u).width>q&&0<r)}u=c+e;"center"===this.TextAlign?u=c+g/2:"right"===this.TextAlign&&(u=c+g-e);this.iD(a,f,u,d+e,q,r+4);a.restore()}}},serialize:function(a,f){var c=b.ca.prototype.serialize.apply(this,arguments),d=$(c),e=this.getPath(),g={},q=this.xu(),q=b.sa.qq(q,f);g.fringe=q;q=b.sa.Pg(this.FillColor);null!==q?g.color=q:d.removeAttr("color");d.removeAttr("interior-color");var q=this.hp(),r=$(document.createElementNS("","defaultappearance")),u=this.StrokeColor.OC();r.text(u+
" "+b.sa.UB(this.Font,q));d.append(r);r=$(document.createElementNS("","defaultstyle"));u=b.sa.TB(this);r.text(u);d.append(r);this.Nl&&("left"!==this.Nl&&(g.justification=this.Nl));r=b.sa.Pg(this.TextColor);null!==r&&c.setAttribute("TextColor",r);c.setAttribute("FontSize",q);q=this.Lh();q===b.ya.Pc.FreeTextCallout&&(e=e.slice(0,3),e=b.sa.Sj(e,f),g.callout=e,g.head=this.rj(),c.setAttribute("IT",q));d.attr(g);return c},deserialize:function(a,f){var c=b.sa,d=$(a);b.ca.prototype.deserialize.apply(this,
arguments);null!==c.wg(d.attr("color"))?this.FillColor=this.StrokeColor:this.FillColor=new b.Color(0,0,0,0);var e=c.ov(a);e.color&&(this.StrokeColor=c.wg(e.color));e.font&&(this.Font=e.font.name,this.FontSize=e.font.size);e=c.qB(a);e.font&&(this.Font=e.font.name,this.FontSize=e.font.size);e.textAlign&&(this.TextAlign=e.textAlign);e.color&&(this.TextColor=c.wg(e.color));var g;if((e=d.attr("IT")||(d.attr("it")||a.getAttribute("IT")))&&e===b.ya.Pc.FreeTextCallout){if(this.Tj(b.ya.Pc.FreeTextCallout),
this.Sg(d.attr("head")||"OpenArrow"),g=d.attr("callout")){e=c.ej(g,f);3>e.length&&(g=c.ej(g,f,",",","),3===g.length&&(e=g));g=this.getPath();for(var q=0;q<e.length;q++)g[q]=new b.Point(parseFloat(e[q].x),parseFloat(e[q].y))}}else this.Tj(b.ya.Pc.FreeText),g=this.getPath(),g[0]=null,g[1]=null,g[2]=null;this.fringe?this.li(this.fringe):this.li(new b.na(0,0,0,0));if(e=d.attr("justification"))this.Nl=e;c=c.wg(d.attr("TextColor")||a.getAttribute("TextColor"));null!==c&&(this.TextColor=c);d=d.attr("FontSize")||
a.getAttribute("FontSize");_.isUndefined(d)||(_.isNull(d)||(this.FontSize=d+"pt"));this.adjustRect()},selectionModel:b.yi};b.ya.prototype=$.extend(new b.Ec,b.ya.prototype);Object.defineProperties(b.ya.prototype,{TextColor:{get:function(){return this.Tr},set:function(a){this.Tr=a;this.Rb()}},FontSize:{get:function(){return this.Kr},set:function(a){this.Kr=a;this.Rb()}},Font:{get:function(){return this.Jr},set:function(a){this.Jr=a;this.Rb()}},TextAlign:{get:function(){return this.Sr},set:function(a){this.Sr=
a;this.Rb()}}});b.lc=function(){b.ca.call(this);this.mc=null;this.ig=new b.Color(255,0,0);this.jg=null;this.Nr=!0;this.Or=!1;this.cb=[];this["_xsi:type"]="Text Markup";this.Subject=this["_xsi:type"]};b.lc.prototype={vq:function(a){if(!a||("undefined"===typeof a.length||0===a.length))throw Error("Argument quads requires an array of at least one element");this.cb=a;for(var f=Infinity,c=Infinity,b=0,d=0,e=0;e<this.cb.length;e++)a=this.cb[e],f=Math.min(f,a.x1,a.x2,a.x3,a.x4),c=Math.min(c,a.y1,a.y2,a.y3,
a.y4),b=Math.max(b,a.x1,a.x2,a.x3,a.x4),d=Math.max(d,a.y1,a.y2,a.y3,a.y4);this.X=f;this.Y=c;this.Width=b-f;this.Height=d-c},serialize:function(a,f){for(var c=b.ca.prototype.serialize.apply(this,arguments),d=[],d=[],e=0;e<this.Quads.length;e++){var g=this.Quads[e];d.push(new b.Point(g.x1,g.y1));d.push(new b.Point(g.x2,g.y2));d.push(new b.Point(g.x4,g.y4));d.push(new b.Point(g.x3,g.y3))}0<this.Quads.length&&(d=b.sa.Sj(d,f,",",","),$(c).attr("coords",d));return c},deserialize:function(c,f){b.ca.prototype.deserialize.apply(this,
arguments);this.mc=null;this.cb=[];for(var d=$(c).attr("coords"),d=b.sa.ej(d,f,",",","),e=0;e+3<d.length;e+=4){if(a.za.va.TA(d[e],d[e+3],d[e+1],d[e+2])){var g=d[e+2];d[e+2]=d[e+3];d[e+3]=g}this.cb.push(new b.Ra(d[e].x,d[e].y,d[e+1].x,d[e+1].y,d[e+2].x,d[e+2].y,d[e+3].x,d[e+3].y))}},selectionModel:b.Ji};b.lc.prototype=$.extend(new b.ca,b.lc.prototype);Object.defineProperties(b.lc.prototype,{Quads:{get:function(){return this.cb},set:function(a){this.vq(a)}}});b.De=function(){b.lc.call(this);this.ig=
new b.Color(255,255,0);this["_xsi:type"]="Highlight";this.Subject=i18n.t("annotations.types.highlight");this.Opacity=0.25};b.De.opacityCap=0.3;b.De.prototype={elementName:"highlight",draw:function(a){this.Sb(a);if(_.isUndefined(this.Opacity)||(_.isNull(this.Opacity)||this.Opacity>b.De.opacityCap))a.globalAlpha=b.De.opacityCap;a.fillStyle=this.StrokeColor.toString();for(var f,c=0;c<this.Quads.length;c++)f=this.Quads[c],a.beginPath(),a.moveTo(f.x1,f.y1),a.lineTo(f.x2,f.y2),a.lineTo(f.x3,f.y3),a.lineTo(f.x4,
f.y4),a.closePath(),a.fill()}};b.De.prototype=$.extend(new b.lc,b.De.prototype);b.lh=function(){b.lc.call(this);this["_xsi:type"]="Underline";this.Subject=i18n.t("annotations.types.underline")};b.lh.prototype={elementName:"underline",draw:function(a){this.Sb(a);for(var f,c=0;c<this.cb.length;c++){f=this.cb[c];var b=Math.max(f.y1,f.y2,f.y3,f.y4);a.beginPath();a.moveTo(f.x3,b);a.lineTo(f.x4,b);a.closePath();a.stroke()}}};b.lh.prototype=$.extend(new b.lc,b.lh.prototype);b.gg=function(){b.lc.call(this);
this["_xsi:type"]="Strikeout";this.Subject=i18n.t("annotations.types.strikeout")};b.gg.prototype={elementName:"strikeout",draw:function(a){this.Sb(a);for(var f,c=0;c<this.cb.length;c++){f=this.cb[c];var b=Math.min(f.y1,f.y2,f.y3,f.y4),d=Math.max(f.y1,f.y2,f.y3,f.y4),b=b+(d-b)/2;a.beginPath();a.moveTo(f.x3,b);a.lineTo(f.x4,b);a.stroke()}}};b.gg.prototype=$.extend(new b.lc,b.gg.prototype);b.kh=function(){b.lc.call(this);this["_xsi:type"]="Squiggly";this.Subject=i18n.t("annotations.types.squiggly")};
b.kh.prototype={elementName:"squiggly",draw:function(a){var f,c,b,d,e,g,r;this.Sb(a);for(var u=0;u<this.cb.length;u++){c=this.cb[u];b=Math.max(c.y1,c.y2,c.y3,c.y4);f=Math.abs(c.x4-c.x3);var s=5/3,v=f/10;a.save();a.translate(c.x4,b-1.25);c=Math.abs(c.y1-c.y4);a.beginPath();a.rect(0,-c,f,c+1.25+1);a.clip();a.beginPath();for(var w=0;w<2*v;w+=2)r=5*w,e=5*w+s/2,g=s,b=5*(w+1)-s/2,d=s,f=5*(w+1),c=0,a.moveTo(r,0),a.bezierCurveTo(e,g,b,d,f,c),e=5*(w+1)+s/2,g=-s,b=5*(w+2)-s/2,d=-s,f=5*(w+2),c=0,a.bezierCurveTo(e,
g,b,d,f,c);a.stroke();a.restore()}}};b.kh.prototype=$.extend(new b.lc,b.kh.prototype);b.Ce=function(){b.ca.call(this);this["_xsi:type"]="Sticky";this.Subject=i18n.t("annotations.types.stickyNote");this.Height=this.Width=31;this.NoZoom=this.NoResize=!0;this.mc=this.jg=null;this.ig=new b.Color(255,255,0);this.Icon="Comment";this.Lr=null};b.Ce.prototype={elementName:"text",draw:function(a){if(!this.Bd()){var f=this.Width<this.Height?this.Width:this.Height,c=0.75*f,b=0.48*f,d=0.29*f,e=0.19*f,g=f-e;a.strokeStyle=
"rgb(0, 0, 0)";a.fillStyle=this.StrokeColor.toString();a.globalAlpha=0===this.Opacity?0:this.Opacity||1;a.beginPath();a.moveTo(7,2);a.lineTo(f-5-2,2);a.quadraticCurveTo(f-2,2,f-2,7);a.lineTo(f-2,c-5);a.quadraticCurveTo(f-2,c,f-5-2,c);a.lineTo(b,c);a.lineTo(d,f-2);a.lineTo(d,c);a.lineTo(7,c);a.quadraticCurveTo(2,c,2,c-5);a.lineTo(2,7);a.quadraticCurveTo(2,2,7,2);a.fill();a.moveTo(e,0.25*f);a.lineTo(g,0.25*f);a.moveTo(e,0.41*f);a.lineTo(g,0.41*f);a.moveTo(e,0.57*f);a.lineTo(0.68*f,0.57*f);a.stroke()}},
serialize:function(a,f){var c=b.ca.prototype.serialize.apply(this,arguments),d={icon:this.Icon};null!==this.InReplyTo&&(d.inreplyto=this.InReplyTo);$(c).attr(d);return c},deserialize:function(a,f){b.ca.prototype.deserialize.apply(this,arguments);this.mc=null;var c=$(a),d=c.attr("icon");d&&(this.Icon=d);(c=c.attr("inreplyto"))&&(this.InReplyTo=c);this.NoZoom=this.NoResize=!0},selectionModel:b.nk};b.Ce.prototype=$.extend(!0,new b.ca,b.Ce.prototype);Object.defineProperties(b.Ce.prototype,{InReplyTo:{get:function(){return this.Lr},
set:function(a){this.Lr=a;this.Rb()}}});b.nn={No:function(c,f,b,d){c.save();c.translate(f.x,f.y);c.rotate(a.za.va.ml(f,b));c.moveTo(0,0);b=5*d+2;f=Math.cos(0.2*Math.PI)*b;b*=Math.sin(0.2*Math.PI);c.moveTo(f,-b);c.lineTo(0,0);c.lineTo(f,b);c.stroke();c.restore()}}})(window);
(function(a){function g(a){this.k=a.k;this.ea=a}function e(a,c){this.Hj=this.Gj=this.Fj=0;a&&(c&&this.set(a,c))}function d(a){this.Oa=a;this.el=null;this.sh=!0;new e;this.Ti=this.pg=null}function c(a){var c=this;this.ea=a;this.ea.on("annotationChanged.editbox",function(a,f,b){for(var d=0;d<f.length;++d){var e=f[d];"add"===b&&c.yp(e)?(c.LA(e),a.imported||(c.eu(e),e.Lc.select())):"delete"===b&&(e.Lc&&(e.Lc.remove(),delete e.Lc))}});this.ea.on("annotationDoubleClicked.editbox",function(a,f){c.ea.Jb(f)&&
(c.yp(f)&&c.eu(f))})}function b(a){this.ea=a;this.Og=[]}var k=window.h;k.K=function(f){if(!f)throw Error("AnnotationManager requires DocumentViewer to initialize");this.al="";this.ev=this.readOnly=this.Dp=!1;this.ct=this.bt=!0;this.k=f;this.pc=[];this.Ub=[];this.Ko=[];this.Wi=[];this.lw=!1;this.So="";this.Je=new b(this);this.vb=new g(this);this.ls=new c(this);this.og=new a.h.Rx(this);this.xf={line:[Annotations.Fc],circle:[Annotations.$g],square:[Annotations.hh],freetext:[Annotations.ya],stamp:[Annotations.ih],
text:[Annotations.Ce],ink:[Annotations.FreeHandAnnotation],polyline:[Annotations.kk],polygon:[Annotations.Ae],strikeout:[Annotations.gg],highlight:[Annotations.De],underline:[Annotations.lh],squiggly:[Annotations.kh],caret:[Annotations.ti]};this.controlPointSize=8;this.controlPointHitBoxScale=1};k.K.prototype={Jh:function(){return this.al},WB:function(a){this.al=a},fA:function(){return this.Dp},aC:function(a){this.Dp=a},np:function(){return this.readOnly},kC:function(a){this.readOnly=a},vl:function(){return this.ev},
tq:function(a){this.ev=a},Cl:function(){return this.lw},xq:function(a){this.lw=a},sx:function(a){this.yb(a)},Uf:function(){return this.bt},xz:function(){this.bt=!1},mw:function(){return this.ct},yz:function(){this.ct=!1;this.ls.disable()},iC:function(a){this.Ft=a},Jb:function(a){return(this.Ft?this.Ft(a.Author,a):this.Dp||(a.Author===this.al||(null===a.Author||"undefined"===typeof a.Author)))&&!this.readOnly},yb:function(f,c){if(this.k.hj){var b=!1,d=f-1;if(isNaN(d))throw Error("Invalid page index given");
var e=!!c,k=c||this.k.Ff(d);if(k){var g=k.getContext("2d");if(!e){var u=this.k.sc(d);a.h.Qa.zo(k,u.width,u.height)}if(this.vl())for(k=0;k<this.pc.length;k++){var s=this.pc[k];if(s.V()===d){var v=this.vb.ad(s);v&&(v.sh&&this.vb.vj(s))}}else{u=[];for(k=0;k<this.pc.length;k++)if(s=this.pc[k],s.V()===d)if(this.Cl()&&-1===s.Author.indexOf(this.So))!1===s.ph&&(b=!0),s.ph=!0,(v=this.vb.ad(s))&&(v.sh&&this.vb.vj(s));else{!0===s.ph&&(b=!0);s.ph=!1;u.push(s);g.save();!0===s.NoZoom&&(g.translate(s.Mf(),s.Nf()),
e||(v=this.k.Ha(s.V()),g.scale(1/v,1/v),v=this.k.eb(f),0<v&&(3===v?g.translate(s.la(),0):2===v?g.translate(s.la(),s.ha()):1===v&&g.translate(0,s.ha()),g.rotate(-1*v*Math.PI/2))));g.save();if(s.IB())s.Hidden||s.draw(g);else s.off("resourcesLoaded.annotManager").on("resourcesLoaded.annotManager",this.nA(s,f,c));g.restore();if(!e)if("undefined"!==typeof s.selectionModel){if(this.Qh(s)&&(!s.Bd()&&!s.Hidden)){var w=new s.selectionModel(s,this.Jb(s)),v=this.k.Ha(s.V());!0===s.NoZoom&&(g.translate(-s.Mf(),
-s.Nf()),v=1);w.draw(g,s,v)}}else(s=this.Je.mE(s))&&s.draw(g);g.restore()}b&&this.trigger("annotationFiltered",[this.pc]);e||this.vb.$C(u,g)}}}},nA:function(a,c,b){var d=this;return function(){d.yb(c,b);a.off("resourcesLoaded")}},St:function(a){for(var c=0;c<this.Ub.length;++c){var b=this.Ub[c];b.$a()===a&&this.lz(b)}},Qb:function(a){var c=a.V();this.sx(a.PageNumber);!this.Of(a)&&((c=this.k.Ff(c))&&(c=c.getContext("2d"),c.save(),a.draw(c),c.restore()))},QA:function(a){this.k.Yu(a.$a()-1,[{oe:a.Gf(),
qe:a.Lf(),x2:a.Eu(),y2:a.ku()}])},FA:function(a){this.Nu([a])},Nu:function(a){a.forEach(function(a){a.Hidden=!0});this.fd();this.fj(a);this.trigger("annotationHidden",[a,!0])},xC:function(a){this.Wv([a])},Wv:function(a){a.forEach(function(a){a.Hidden=!1});this.fj(a);this.trigger("annotationHidden",[a,!1])},Oz:function(a){if(""===a){if(!this.Cl())return;this.xq(!1);this.So=""}else this.xq(!0),this.So=a;a=this.k.J.yd();for(var c=0;c<a.length;c++)this.yb(a[c]+1)},RC:function(){this.vl()?this.tq(!1):
this.tq(!0);for(var a=this.k.J.yd(),c=0;c<a.length;c++)this.yb(a[c]+1),this.k.wj(a[c]);this.trigger("annotationToggled",[this.vl(),this.pc,this.Cl()])},Of:function(a){return-1<this.pc.indexOf(a)},Pw:function(a){return-1<this.Ub.indexOf(a)},Ov:function(a,c){a.ji(c);this.trigger("annotationChanged",[[a],"modify"]);this.Uf()&&this.vb.Zn(a)},wf:function(a,c){this.Qk([a],c)},Qk:function(a,c){for(var b=0;b<a.length;++b){var d=a[b];0>=d.PageNumber&&console.warn("Invalid annotation PageNumber: "+d.PageNumber);
this.Of(d)||(this.pc.push(d),this.Vv(d))}b=$.Event("annotationChanged");b.imported=c;this.trigger(b,[a,"add"])},WC:function(a,c){this.Vv(a);if(a.Bd()){var b=this.qj(a);this.vb.Zn(a,b)}else this.trigger("setNoteText",a);b=$.Event("annotationChanged");b.imported=c;this.trigger(b,[[a],"modify"])},Vv:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}a.Id||(a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c());if(this.Uf()){this.vb.createPopup(a);var b=a.Oe();b&&(b.isOpen()?
this.vb.zC(a):this.vb.vj(a))}},Aq:function(a){function c(a,f){return f.DateCreated-a.DateCreated}var b=[],d;for(d=0;d<a.length;++d){var e=a[d];if(e instanceof Annotations.Annotation)if(e.Bd()){var k=this.zg(e.InReplyTo);k&&k.qg(e)}else b.push(e)}for(d=0;d<b.length;++d)if(a=b[d],0!==a.pj().length)for(e=[],e.push({Sk:a,Mo:null});0<e.length;){var g=e.pop(),k=g.Sk;null!==g.Mo&&this.vb.qg(k,g.Mo,a);for(var g=k.pj().sort(c),u=0;u<g.length;++u)e.push({Sk:g[u],Mo:k})}},uC:function(a){if(a.Bd()){var c=this.zg(a.InReplyTo);
c.qg(a);this.vb.qg(a,c,this.qj(a))}},qj:function(a){for(;null!==a&&a.Bd();)a=this.zg(a.InReplyTo);return a},At:function(a,c){var b=new Annotations.Ce;b.InReplyTo=a.Id;b.X=a.X;b.Y=a.Y;b.PageNumber=a.PageNumber;b.Author=this.Jh();b.ji(c||"");a.qg(b);this.wf(b);this.vb.qg(b,a,this.qj(a));return b},tw:function(a){this.Pw(a)||this.Ub.push(a)},wt:function(f){var c=a.h.Qa.tj(f);if(0!==c.length)for(var b=0;b<this.Ub.length;++b){var d=this.Ub[b];d.V()===f&&c.find('[id="'+d.ua+'"]').remove()}},Gy:function(a){var c=
this.k.o.zu(a.PageNumber-1);0>c.indexOf(a)&&c.push(a)},Ch:function(f,c){if(f.Ga)for(var b,d,e=0;e<f.Ga.length;e++){b=f.Ga[e];d=b.By;var k="";switch(b.trigger){case "E":k="mouseenter";break;case "X":k="mouseleave";break;case "D":k="mousedown";break;case "U":k=a.utils.mouseUpEventBug?"touchend":"mouseup";break;case "Fo":k="focus";break;case "Bl":k="blur";break;default:k=a.utils.mouseUpEventBug?"touchend":"mouseup"}switch(d){case "GoTo":c.on(k,this.Hw(b,this));break;case "URI":c.on(k,this.Ow(b,this));
break;case "Named":c.on(k,this.Lw(b,this));break;case "JavaScript":c.on(k,this.Jw(b));break;case "ResetForm":c.on(k,this.Mw(b,this));break;case "SubmitForm":c.on(k,this.Nw(b,this));break;case "Hide":c.on(k,this.Iw(b,this))}}},Hw:function(a,c){return function(){c.k.Lu(a)}},Ow:function(a,c){return function(){c.k.xp(a.name)}},Lw:function(a,c){return function(){var b=c.k;switch(a.name){case "NextPage":b.Xc(b.Ih()+1);break;case "PrevPage":b.Xc(b.Ih()-1);break;case "FirstPage":b.Xc(1);break;case "LastPage":b.Xc(b.If())}}},
Jw:function(a){return function(){var c=a.Gp;c&&eval(c)}},Mw:function(a,c){return function(){var b=c.Ub,d,e,k=a.Cv,g=[];if(_.isArray(k))for(e=0;e<b.length;++e)d=b[e],-1<k.indexOf(d.ua)&&g.push(d);else for(k=a.nq,e=0;e<b.length;++e)d=b[e],-1===k.indexOf(d.ua)&&g.push(d);for(e=0;e<g.length;++e)d=g[e],d.ga=d.gf?d.gf:c.dr(d),d.Ac&&"P"===d.Ac||(d.jf=!0),c.tx(d)}},Nw:function(a,c){return function(){var b=c.Ub,d=a.HC,e=a.GC;"undefined"===typeof e&&(e=0);var k=0!==(e&2),g=0!==(e&32),u=!1;g||(u=0!==(e&4));
var s,v=a.FC,w=[];if("undefined"!==typeof v){var x=0!==(e&1);for(s=0;s<b.length;++s)e=b[s],x?-1===v.indexOf(e.ua)&&(k?w.push(e):"undefined"!==typeof e.ga&&w.push(e)):-1<v.indexOf(e.ua)&&(k?w.push(e):"undefined"!==typeof e.ga&&w.push(e))}else for(s=0;s<b.length;++s)e=b[s],k?w.push(e):"undefined"!==typeof e.ga&&w.push(e);g?b=c.og.Fx(w):(u&&console.warn("FDF Export is not supported. Defaulting to export as HTML Forms"),b=c.og.Gx(w));$.ajax({type:"POST",url:d,data:b,success:function(a){var c=window.open();
_.isNull(c)||_.isUndefined(c)?console.warn("Form popup blocked"):c.document.write(a)},error:function(){console.warn("Failed to submit form data to server.")}})}},Iw:function(a,c){return function(){var b=c.Ub,d=!1,e;_.isUndefined(a.zp)?e=a.Xv:(d=!0,e=a.zp);for(var k=0;k<b.length;++k){var g=b[k];e===g.ua&&(d?(g.Dc[0].style.display="none",g.$m=!0):(g.Dc[0].style.display="",g.$m=!1))}}},dr:function(a){if("undefined"!==typeof a.gf)return a.gf;if(!(a instanceof Annotations.Ee))if(a instanceof Annotations.ve){if(a.Aa&&
0<a.Aa.length)return a.Aa[0]}else if(a instanceof Annotations.te)if("R"===a.Ac){a=a.ua;for(var c=this.Ub,b=0;b<c.length;++b){var d=c[b];if(d.ua===a)return d.ff}}else if("C"===a.Ac||"undefined"===typeof a.Ac)return"Off";return""},tx:function(a){if(a instanceof Annotations.Ee)a.Dc[0].firstChild.value=a.ga;else if(a instanceof Annotations.ve)if(a.Bi)a.Dc[0].firstChild.value=a.ga;else{if(a.Aa)for(var c=0;c<a.Aa.length;++c)if(a.ga===a.Aa[c]){a.Dc[0].firstChild.selectedIndex=c;break}}else if(a instanceof
Annotations.te)if("R"===a.Ac)a.Dc[0].firstChild.checked=a.ga===a.ff?!0:!1;else if("C"===a.Ac||"undefined"===typeof a.Ac)a.Dc[0].firstChild.checked=a.ga===a.ff?!0:!1},rg:function(c){c.Dc.appendTo(a.h.Qa.tj(c.V()))},lz:function(c){if(!_.isUndefined(c.V())&&!_.isNaN(c.V())){var b=a.za.sv(c.Rect[0],c.Rect[1],c.Rect[2],c.Rect[3],c.V(),this),d=c.jf;c.X=b.x;c.Y=b.y;c.Width=b.w;c.Height=b.Qe;c.jf=d;c instanceof Annotations.Ee?this.kz(c):c instanceof Annotations.ve?this.hz(c):c instanceof Annotations.te?this.gz(c):
c instanceof Annotations.mk&&this.jz(c)}},kz:function(a){var c=$('<div class="text" id="'+a.ua+'">'),b="",b=a.gn?b+('<input type=password name="'+a.ua+'"'):b+('<textarea name="'+a.ua+'" wrap=hard');a.Hi&&(b+=' required="required"');a.Gi&&(b+=' readonly="readonly"');b=$(b+" />");this.mi(a,b);b.css({width:a.la(),height:a.ha(),resize:"none",position:"absolute"});a.borderColor?b.css({border:"1px solid "+a.borderColor}):b.css({border:"none"});a.backgroundColor?b.css({"background-color":a.backgroundColor}):
b.css({"background-color":"transparent"});a.color&&b.css("color",a.color);a.jd&&b.css({"font-family":a.jd});a.fontSize&&(0<a.fontSize&&b.css({"font-size":a.fontSize*this.k.Ha(a.V())+"pt"}));b.val(a.ga||this.dr(a));c=c.append(b);this.Tg(a,c);a.Dc=c;this.rg(a);this.Ry(a)},Ry:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("textarea").bind("change",function(c){c.target.value!==a.ga&&(a.ga=c.target.value,a.jf=!0)}),this.Ch(a,c.find("textarea")),0===a.fontSize&&this.zA(a,c))},zA:function(a,c){var b=
c.find("textarea");b.css("overflow","hidden");this.To(b,b.val(),a.jd);var d=this;b.on("keypress keyup",function(){d.To(b,b.val(),a.jd)})},measureText:function(a,c){var b=$("#text-width-tester");a=a.replaceAll("\n","<br>&nbsp;");b.length?b.css({font:c}).html(a):(b=$('<span id="text-width-tester" style="display:none;font:'+c+';">'+a+"</span>"),$("body").append(b));return{width:b.width(),height:b.height()}},To:function(a,c,b){var d=20,e=a.height();if(0===c.length)a.css("font-size",e/2+"px");else{var k=
a.width()-5,e=e-5;c=this.measureText(c,d+"px "+b);k=Math.min(k/c.width,e/c.height);b=d*k*0.9+"px "+b;a.css({font:b})}},hz:function(a){if(a.Bi&&a.bn){var c=$('<div class="combo" id="'+a.ua+'">'),b=a.ua.replace(/\.|\s/g,"_"),d='<input type=text list="'+b+'"';a.Hi&&(d+=' required="required"');a.Gi&&(d+=' readonly="readonly"');a.ga&&(d+=' value="'+a.ga+'"');d=$(d+" >");this.mi(a,d);d.css({width:a.la(),height:a.ha(),position:"absolute"});a.borderColor?d.css({border:"1px solid "+a.borderColor}):d.css({border:"none"});
a.backgroundColor&&d.css({"background-color":a.backgroundColor});a.jd&&d.css({"font-family":a.jd});a.fontSize&&(0<a.fontSize&&d.css({"font-size":a.fontSize*this.k.Ha(a.V())+"pt"}));c=c.append(d);d=$('<datalist id="'+b+'">');if(a.Aa)for(b=0;b<a.Aa.length;++b)d=d.append('<option value="'+a.Aa[b]+'" >'+a.Aa[b]+"</option>");c.append(d);this.Tg(a,c);a.Dc=c;this.rg(a);this.Oy(a)}else{b=a.Bi?1:3;c=$('<div class="list" id="'+a.ua+'">');b='<select name="'+a.ua+'" size='+b;a.Hi&&(b+=' required="required"');
a.Gi&&(b+=' readonly="readonly"');d=$(b+" >");if(a.Aa)for(b=0;b<a.Aa.length;++b)d=a.ga&&a.ga===a.Aa[b]?d.append('<option SELECTED value="'+a.Aa[b]+'" >'+a.Aa[b]+"</option>"):d.append('<option value="'+a.Aa[b]+'" >'+a.Aa[b]+"</option>");this.mi(a,d);d.css({width:a.la(),height:a.ha(),position:"absolute"});a.borderColor?d.css({border:"1px solid "+a.borderColor}):d.css({border:"none"});a.backgroundColor&&d.css({"background-color":a.backgroundColor});a.jd&&d.css({"font-family":a.jd});a.fontSize&&(0<a.fontSize&&
d.css({"font-size":a.fontSize*this.k.Ha(a.V())+"pt"}));c=c.append(d);this.Tg(a,c);a.Dc=c;this.rg(a);this.Py(a)}},Oy:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("input").bind("change",function(c){a.ga=c.target.value;a.jf=!0}),this.Ch(a,c.find("input")))},Py:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("select").bind("change",function(c){a.ga=c.target.value;a.jf=!0}),this.Ch(a,c.find("select")))},mi:function(a,c){for(var b=a.$a(),b=a.rotation-90*this.k.eb(b)-this.k.Yz(b);0>b;)b+=360;
if(b&&(90===b||(180===b||270===b))){if(90===b||270===b){var d=a.la();a.Uv(a.ha());a.sm(d)}90===b?c.css("top",a.la()):180===b?c.css({left:a.la(),top:a.ha()}):270===b&&c.css("left",a.ha());c.css({transform:"rotate(-"+b+"deg)","transform-origin":"top left"})}},gz:function(a){if("P"===a.Ac){var c=$('<div class="pButton" id="'+a.ua+'">'),b='<button type="button" name="'+a.ua+'"';a.ga&&(b+=' value="'+a.ga+'"');b=$(b+" >");b.append(a.ww);this.mi(a,b);b.css({width:a.la(),height:a.ha(),position:"absolute",
padding:0});a.borderColor?b.css({border:"1px solid "+a.borderColor}):b.css({border:"1px solid black"});a.backgroundColor&&b.css({"background-color":a.backgroundColor});a.jd&&b.css({"font-family":a.jd});a.fontSize&&0<a.fontSize?b.css({"font-size":a.fontSize*this.k.Ha(a.V())+"pt"}):0===a.fontSize&&this.To(b,b.text(),a.jd);a.transparent&&b.css({"background-color":"transparent"});c.append(b);this.Tg(a,c);a.Dc=c;this.rg(a);this.Ch(a,b)}else"R"===a.Ac?(c=$('<div class="radioButton" id="'+a.ua+'">'),b='<input type="radio" name="'+
a.ua+'" value="'+a.ff+'"',a.ga===a.ff&&(b+=' checked="checked"'),b=$(b+" >"),this.mi(a,b),b.css({margin:0,padding:0,display:"block",position:"absolute",width:a.la(),height:a.ha(),"-moz-appearance":"none"}),a.borderColor?b.css({border:"1px solid "+a.borderColor}):b.css({border:"none"}),a.backgroundColor&&b.css({"background-color":a.backgroundColor}),c.append(b),this.Tg(a,c),a.Dc=c,this.rg(a),this.Qy(a)):("undefined"===typeof a.ga&&(a.ga="Off"),c=$('<div class="checkBox" id="'+a.ua+'">'),b='<input type="checkbox" name="'+
a.ua+'"',"Off"!==a.ga&&(b+=' checked="checked"'),b=$(b+" >"),this.mi(a,b),b.css({margin:0,display:"block",position:"absolute",width:a.la(),height:a.ha(),"-moz-appearance":"none"}),a.borderColor?c.css({border:"1px solid "+a.borderColor}):c.css({border:"none"}),a.backgroundColor&&c.css({"background-color":a.backgroundColor}),c.append(b),this.Tg(a,c),a.Dc=c,this.rg(a),this.Ny(a))},jz:function(a){if(a.an){var c=new Image;c.src=a.an;c=$(c).attr("id",a.ua).addClass("signature");this.Tg(a,c);a.Dc=c;this.rg(a)}},
Ny:function(a){var c=$("div[id='"+a.ua+"']");c&&(c.find("input").on("change",function(c){a.ga=!0===c.target.checked?a.ff:"Off";a.jf=!0}),this.Ch(a,c.find("input")))},Qy:function(a){var c=this,b=$("div[id='"+a.ua+"']");b&&(b.find("input").on("change",function(b){if(!0===b.target.checked)for(var d=a.ua,e=c.Ub,k=0;k<e.length;++k){var g=e[k];g.ua===d&&(g.ga!==b.target.value&&(g.ga=b.target.value,a.jf=!0))}}),this.Ch(a,b.find('input[value="'+a.ff+'"]')))},Tg:function(a,c){var b=this.k.J.nj(a.V());c.css({position:"absolute",
left:a.Mf()+b.x,top:a.Nf()+b.y,width:a.la(),height:a.ha(),"z-index":"35"});a.$m&&c.css("display","none")},VC:function(a){this.Of(a)&&this.yb(a.$a())},cj:function(a,c,b){this.Io([a],c,b)},Io:function(a,c,b){var d=this,e={};if(!c&&this.np())this.k.trigger("notify","readOnlyDelete");else{var k=[],g=!1;a=a.slice();for(var u=0;u<a.length;u++){var s=a[u];if(this.Of(s))if(b||(c||this.Jb(s))){this.Je.dj(s);this.trigger("annotationSelected",[[s],"deselected"]);var v=this.pc.splice(this.pc.indexOf(s),1);k.push(v[0]);
s.IsAdded||(c||this.Ko.push(v[0]));this.vb.sz(s);s.Bd()&&(this.vb.Jo(s),this.zg(s.InReplyTo).Jo(s));s.pj().forEach(function(a){d.vb.Zn(a);a.InReplyTo=null;d.Aq([a])});e[s.$a()]=!0}else g=!0;else e[s.$a()]=!0}0<k.length&&(b=$.Event("annotationChanged"),b.imported=c,this.trigger(b,[k,"delete"]));g&&this.k.trigger("notify","permissionDelete");$.each(e,function(a){d.yb(a)})}},XC:function(){if(!this.readOnly){this.Wi=[];for(var a=this.Pe(),c=0;c<a.length;c++)if(!(a[c]instanceof Annotations.lc)){var b=
this.ep(a[c]);this.Wi.push(b)}this.rk=0}},sB:function(){if(!this.readOnly&&"undefined"!==typeof this.rk){this.rk++;for(var a=[],c=0;c<this.Wi.length;c++){var b=this.ep(this.Wi[c]);a.push(b);var d=this.k.Ih(),e=new Annotations.na(0,0,this.k.o.ec(d-1),this.k.o.dc(d-1)),k=b.vd();b.$a()===d?k.translate(5*this.rk,5*this.rk):b.Qv(d);k.Uo(e);b.resize(k)}this.Qk(a);this.Wi=a;this.fd();this.pq(a)}},ep:function(a){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var b=this.lA(a);if(null===
b)return null;var d=this.k.ce(a.V()),e=d.inverse(),k=document.createElementNS("",a.elementName),k=a.serialize(k,e);a=new b;a.deserialize(k,d);a.Id=c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c();a.Author=this.al;a.DateCreated=new Date;a.DateModified=new Date;a.IsAdded=!0;a.IsModified=!1;$(a).data("popup",null);return a},Sz:function(a){return a.Oa},Wo:function(a){this.Uf()&&(a=this.vb.ad(a),$(a.el).find(".popup-comment").focus())},Qh:function(a){return this.Je.kt(a)},hi:function(a){this.Of(a)&&(this.Je.hi(a),
this.yb(a.$a()),this.trigger("annotationSelected",[[a],"selected"]))},pq:function(a){var c=[],b={};if(a&&$.isArray(a)){for(var d=0;d<a.length;d++){var e=a[d];this.Of(e)&&(this.Je.hi(e),b[e.$a()]=e.$a(),c.push(e))}var k=this;$.each(b,function(a){k.yb(a)})}0<c.length&&this.trigger("annotationSelected",[c,"selected"])},fd:function(){if(0!==this.Pe().length){this.Je.fd();for(var a=this.k.J.yd(),c=0;c<a.length;c++)this.yb(a[c]+1);this.trigger("annotationSelected",[null,"deselected"])}},dj:function(a){this.Je.dj(a);
this.yb(a.$a());this.trigger("annotationSelected",[[a],"deselected"])},Pe:function(){return this.Je.Pe()},Hh:function(){return this.pc},zg:function(a){if(_.isUndefined(a)||_.isNull(a))return null;for(var c=0;c<this.pc.length;c++)if(this.pc[c].Id===a)return this.pc[c];return null},dp:function(a){a=this.iu(a);return 0<a.length?a[0]:null},iu:function(a){var c=new window.ra.Tool(this.k);c.mouseLeftDown(a);a=c.pageCoordinates[0];c=[];if(null!==a)for(var b=this.Hh(),d=b.length-1;0<=d;d--){var e=b[d];if(!e.Bd()&&
(!e.Hidden&&e.$a()-1===a.pageIndex)){var k=this.k.Ha(e.V()),g=this.Qh(e),u=new e.selectionModel(e,this.Jb(e),g);u.testSelection(e,a.x,a.y,k)?c.push(e):g&&(u.Eq(e,k,a.x,a.y)&&c.push(e))}}return c},nu:function(a,c){return this.Je.nu(a,c)},Cm:function(a){return this.ls.yp(a)&&this.mw()?(this.vb.vj(a),!1):this.vb.Cm(a)},Kz:function(a){return this.og.Ix(a)},cp:function(){return this.og.cp()},Ku:function(a){return"string"===typeof a?(new DOMParser).parseFromString(a,"text/xml"):a},HA:function(a){a=this.Ku(a);
a=this.og.Vw(a);this.Aq(a);return a},Qu:function(a,c){c=c||function(){};var b=this,d=this.Ku(a);this.og.Ww(d,function(a){b.Aq(a);b.fj(a);for(var f=b.k.J.yd(),d=0;d<f.length;++d)b.k.Dm(f[d]),b.wt(f[d]),b.St(f[d]+1);c(a)})},Ap:function(a){a=(new DOMParser).parseFromString(a,"text/xml");a=this.og.Ap(a);var c=[];a.Rk&&(c=c.concat(a.Rk),0<a.Rk.length&&this.uC(a.Rk[0]));a.Kt&&(c=c.concat(a.Kt));a.Rp&&(c=c.concat(a.Rp));return c},fj:function(a){a=_.uniq(a.map(function(a){return a.PageNumber}));for(var c=
0;c<a.length;c++)this.yb(a[c])},Aw:function(){this.off();this.Hh().forEach(function(a){var c=$(a),b=c.data("popup");b&&$(b.el).remove();c.removeData("popup");a.Lc&&a.Lc.off()})},EB:function(a,c){if("string"!==typeof a||!c)return!1;"undefined"===typeof this.xf[a]&&(this.xf[a]=[]);this.xf[a].push(c);return!0},uz:function(a,c){if("string"!==typeof a||!c)return!1;this.xf[a]=$.grep(this.xf[a],function(a){return a!==c});return!0},mA:function(){return this.xf},lA:function(a){if(!a||!a.elementName)return null;
var c=this.xf[a.elementName];if(c&&0<c.length)for(var b=0;b<c.length;b++){var d=c[b];if(a instanceof d)return d}return null}};$.extend(k.K.prototype,a.utils.eventHandler);b.prototype={hi:function(a){this.kt(a)||this.Og.push(a)},dj:function(a){this.Og=$.grep(this.Og,function(c){return c!==a})},fd:function(){this.Og=[]},kt:function(a){for(var c=0;c<this.Og.length;c++)if(a===this.Og[c])return!0;return!1},Pe:function(){return this.Og.slice()}};c.prototype={disable:function(){this.ea.off("annotationChanged.editbox");
this.ea.off("annotationDoubleClicked.editbox")},yp:function(a){return a instanceof Annotations.ya},LA:function(a){var c=this.ea;a.Lc=$('<textarea class="freetext">');a.Lc.on("blur",function(){c.Ov(a,a.Lc.val());a.Lc.hide();c.fj([a])});a.Lc.on("mousedown",function(a){a.stopPropagation()})},eu:function(c){var b=this.ea.k.Ha(c.V());a.h.Qa.tj(c.V()).append(c.Lc);var d=parseFloat(c.FontSize)||12,e=c.ip(),d=d*b+e,e=c.bp()*b,k=c.getPath().slice(3,5),g=k[0].x,r=Math.min(k[0].y,k[1].y),u=Math.abs(k[1].x-k[0].x),
k=Math.abs(k[1].y-k[0].y),g=this.ea.k.zl({x:g,y:r},c.V()),r=this.ea.k.eb(c.PageNumber),s;r===a.h.ia.sd?(s="rotate(0deg)",g.x+=e,g.y+=e):r===a.h.ia.gd?(s="rotate(90deg)",g.x-=e,g.y+=e):r===a.h.ia.xg?(s="rotate(180deg)",g.x-=e,g.y-=e):r===a.h.ia.ud&&(s="rotate(270deg)",g.x+=e,g.y-=e);r=1>c.FillColor.A?new Annotations.Color(255,255,255):c.FillColor;c.Lc.css({top:g.y,left:g.x,width:u*b-2*e,height:k*b-2*e,font:d+" "+c.Font,color:c.TextColor.toString(),background:r.toString(),transform:s,"transform-origin":"top left"});
c.Lc.val(c.Bg()||"");this.yC(c)},yC:function(a){a.Lc.show().focus()}};d.prototype={hide:function(){this.el&&($(this.el).hide(),this.sh=!1,this.Oa.IsAdded||(this.Oa.IsModified=!0))},show:function(){this.el&&($(this.el).show(),this.sh=!0,this.Oa.IsAdded||(this.Oa.IsModified=!0))},update:function(c,b){var d=this.el.getBoundingClientRect(),e=$(this.el).position(),d={x:e.left+d.width/2,y:e.top+d.height/2},e=this.Oa.V(),k=b.Ha(e),d=a.za.va.NB(d,1/k,1/k),k=b.eb(e+1),g=b.getDocument().tc(e),r=g.width,g=g.height;
1===k?d=a.za.va.Kq(d,-g,0):2===k?d=a.za.va.Kq(d,-r,-g):3===k&&(d=a.za.va.Kq(d,0,-r));d=a.za.va.Mg(d,-1*k*Math.PI/2);e=this.Oa.NoZoom?b.Ha(e):1;k=new Annotations.na(this.Oa.Gf(),this.Oa.Lf(),this.Oa.Gf()+this.Oa.la()/e,this.Oa.Lf()+this.Oa.ha()/e);(new this.Oa.selectionModel(this.Oa)).drawPopupTail(c,this.Oa,e,k,d)},cs:function(){var a=$('<div class="popup-header"/>').append('<div class="popup-subject">'+this.Oa.Subject+"</div>"),c=$('<div class="popup-comment-container">').append(this.bs(this.Oa)),
a=$('<div class="popup" style="width:200px;height:100px;padding-bottom:8px" />').append('<div class="popup-minimize-button ui-icon ui-icon-minus"/>').append('<div class="popup-handle"/>').append(a).append(c);this.el=a.get(0);return a},bs:function(a,c){c=c||0;var b=$('<textarea class="popup-comment" />').val(a.Bg());b.data("id",a.Id);var d=$("<div>").addClass("replyButton glyphicons unshare"),e=Annotations.sa.toDateString(a.DateCreated);a.Author&&(e=a.Author+": "+e);e=$("<div>").addClass("popup-text").text(e);
b=$("<div>").css("padding-left",c).append(d).append(e).append(b);0!==c&&(d=$("<div>").addClass("deleteButton glyphicons circle_remove"),b.prepend(d));return b}};e.prototype={set:function(c,b){var d=0,e=0,k=0,e=Math.abs(c.x1-c.x2),g=Math.abs(c.y1-c.y2);b.x>=c.x1+0.5*e&&b.y<c.y1+0.5*g?d={x:c.x1+e,y:c.y1}:b.x<c.x1+0.5*e&&b.y<c.y1+0.5*g?d={x:c.x1,y:c.y1}:b.x<c.x1+0.5*e&&b.y>=c.y1+0.5*g?d={x:c.x1,y:c.y1+g}:b.x>=c.x1+0.5*e&&(b.y>=c.y1+0.5*g&&(d={x:c.x1+e,y:c.y1+g}));g=a.za.va.ml(d,b);k=a.za.va.mp(d,b);
e={x:d.x+k,y:d.y-5};k={x:d.x+k,y:d.y+5};e=a.za.va.Mg(e,g,d);k=a.za.va.Mg(k,g,d);this.Fj=d;this.Gj=e;this.Hj=k},draw:function(a){a.strokeStyle="rgba(0,0,0,0.8)";a.beginPath();a.moveTo(this.Fj.x,this.Fj.y);a.lineTo(this.Gj.x,this.Gj.y);a.lineTo(this.Hj.x,this.Hj.y);a.closePath();a.stroke();a.fillStyle="rgba(255, 255, 0, 0.7)";a.beginPath();a.moveTo(this.Fj.x,this.Fj.y);a.lineTo(this.Gj.x,this.Gj.y);a.lineTo(this.Hj.x,this.Hj.y);a.closePath();a.fill()}};g.prototype={ad:function(a){return $(a).data("popup")},
Zn:function(a,c){this.ea.trigger("setNoteText",[a,c]);if(this.ea.Uf()){var b=this.vs(a,c).children(".popup-comment");b.val(a.Bg());b.trigger("updateHeight")}},vs:function(a,c){var b=this.ad(c||a),d=null;$(b.el).find(".popup-comment").each(function(){var c=$(this);if(c.data("id")===a.Id)return d=c.parent(),!1});return d},Ys:function(a,c){var b=this,d=b.ea.Jb(c);a.prop("readonly",!d).off("keyup").on("keyup",function(a){c.ji(a.target.value);c instanceof Annotations.ya&&b.ea.Qb(c);b.ea.trigger("annotationChanged",
[[c],"modify"])});var e=a.parent().find(".replyButton"),k=a.parent().find(".deleteButton");d||k.remove();b.ea.np()?e.remove():(e.off("click").on("click",function(){b.ea.At(c)}),k.off("click").on("click",function(){b.ea.cj(c)}))},Wx:function(a){var c=this;a&&(!a.el&&a.cs());var b=$(a.el),d=a.Oa;b.find(".popup-minimize-button").click(function(){c.Cm(a.Oa)});var e=b.find(".popup-comment");this.Ys(e,d);e=a.Oa.PageNumber-1;"undefined"!==typeof b.draggable&&(null!==b.draggable&&b.draggable({containment:$("#pageContainer"+
e),cancel:".popup-comment-container",drag:function(){d.IsAdded||(d.IsModified=!0);c.ea.yb(d.$a())},stop:function(){var e=d.Oe(),k=c.k.Ha(d.V());e.X=parseFloat(b.css("left"))/k;e.Y=parseFloat(b.css("top"))/k;e.Width=parseFloat(b.css("width"));e.Height=parseFloat(b.css("height"));c.ea.trigger("annotationChanged",[[a.Oa],"modify"])}}));if("undefined"!==typeof b.resizable&&null!==b.resizable){var k=b.find(".popup-comment-container");b.resizable({minWidth:80,minHeight:80,alsoResize:k,resize:function(){d.IsAdded||
(d.IsModified=!0);c.ea.yb(d.$a());var a=b.find(".popup-comment");if(1===a.length){var f=b.find(".popup-text").height();a.css({"min-height":k.height()-f-7})}},stop:function(){var e=d.Oe(),k=c.k.Ha(d.V);e.X=parseFloat(b.css("left"))/k;e.Y=parseFloat(b.css("top"))/k;e.Width=parseFloat(b.css("width"));e.Height=parseFloat(b.css("height"));c.ea.trigger("annotationChanged",[[a.Oa],"modify"]);b.find(".popup-comment").trigger("updateHeight")}})}b.on("mousedown",function(a){a.stopPropagation()})},createPopup:function(c){var b=
this.ad(c);b||(b=new d(c),$(c).data("popup",b));var e=this.k.Ha(c.V());b.pg=e;b.Ti=this.k.eb(c.PageNumber);var k=!1,g=c.Oe(),q;if(null===b.el){k=!0;q=b.cs();this.Wx(b);var r=$("#pageContainer"+c.V());if(!g){g=new Annotations.lf;c.uq(g);var u=this.nv({x:c.Mf(),y:c.Nf()},b.pg,b.Ti,c.V());g.X=a.za.va.Yk(u.left-150,0)/e;g.Y=a.za.va.Yk(u.top-150,0,r.innerHeight()-q.outerHeight())/e;g.Width=parseFloat(q.css("width"));g.Height=parseFloat(q.css("height"));(c instanceof Annotations.Ce||c instanceof Annotations.gg)&&
g.ki(!0)}q.appendTo(r)}else q=$(b.el);q.css({position:"absolute",left:g.X*e,top:g.Y*e,width:g.Width,height:g.Height});e=q.find(".popup-comment");r=e.first();r.val(c.Bg());0<g.Width&&(0<g.Height&&(u=q.find(".popup-comment-container"),u.css({height:g.Height-34,width:""}),0===c.pj().length&&(g=q.find(".popup-text").height(),r.css({"min-height":u.height()-g-7}))));k&&this.ea.trigger("annotationPopupCreated",[c,q,r]);e.trigger("updateHeight");this.ea.k.hj||b.hide();return b},Cm:function(a){var c=!1,b=
this.ad(a);if(!b)return c;if(!this.ea.k.hj)return b.hide(),c;b.sh?b.hide():(b.show(),c=!0);a.IsModified=!0;a.Oe().ki(c);this.ea.trigger("annotationPopupStateChanged",[a,$(b.el),c]);this.ea.trigger("annotationChanged",[[a],"modify"]);this.ea.yb(a.$a());return c},vj:function(a){var c=this.ad(a);c&&c.hide();var b=a.Oe();b&&b.ki(!1);c&&this.ea.trigger("annotationPopupStateChanged",[a,$(c.el),!1])},zC:function(a){var c=this.ad(a);c&&c.show();a.Oe().ki(!0);this.ea.trigger("annotationPopupStateChanged",
[a,$(c.el),!0])},sz:function(a){var c=this.ad(a);if(c){var c=$(c.el),b=c.find(".popup-comment-container .popup-comment");this.ea.trigger("annotationPopupDeleted",[a,c,b]);c.remove()}},$C:function(a,c){var b;if(this.ea.Uf())for(var d=0;d<a.length;d++)if(b=this.ad(a[d]),b.sh){if(!$(b.el).closest("html").length){var e=a[d].V(),k=$("#pageContainer"+e),g=$(b.el);g.draggable({containment:k});var u={left:parseFloat(g.css("left")),top:parseFloat(g.css("top"))},u=this.mz(u,b.pg,b.Ti,e);b.pg=this.k.Ha(e);b.Ti=
this.k.eb(e+1);e=this.nv(u,b.pg,b.Ti,e);g.css({left:e.left,top:e.top});g.appendTo(k)}b.update(c,this.k)}},qg:function(a,c,b){this.ea.trigger("addReply",[a,c,b]);if(this.ea.Uf()){var d=this.ad(b),e=$(d.el);e.find(".popup-comment-container").find(".popup-comment").css("min-height","");c=this.vs(c,b);d=d.bs(a,10);c.append(d);d=d.find(".popup-comment");this.Ys(d,a);this.vj(a);a.IsModified=!1;this.ea.trigger("annotationPopupCreated",[a,e,d])}},Jo:function(a){var c=this.ea.qj(a);this.ea.trigger("deleteReply",
[a,c]);if(this.ea.Uf()){var b=this,c=this.ad(c),d=$(c.el);d.find(".popup-comment").each(function(){var c=$(this);if(c.data("id")===a.Id)return b.ea.trigger("annotationPopupDeleted",[a,d,c.parent().find(".popup-comment")]),c.removeData("id"),c.parent().remove(),!1})}},mz:function(c,b,d,e){var k=this.k.ec(e);e=this.k.dc(e);var g=c.left/b;c=c.top/b;var r,u;switch(d){case a.h.ia.sd:r=g;u=c;break;case a.h.ia.gd:r=c;u=e-g;break;case a.h.ia.xg:r=k-g;u=e-c;break;case a.h.ia.ud:r=k-c,u=g}return{x:r,y:u}},
nv:function(c,b,d,e){var k=this.k.ec(e)*b;e=this.k.dc(e)*b;c.x*=b;c.y*=b;var g,r;switch(d){case a.h.ia.sd:g=c.x;r=c.y;break;case a.h.ia.gd:g=e-c.y;r=c.x;break;case a.h.ia.xg:g=k-c.x;r=e-c.y;break;case a.h.ia.ud:g=c.y,r=k-c.x}return{left:g,top:r}}}})(window);
(function(a){var g={zE:function(a,d){return{x:a,y:d}},dv:function(a,d,c,b){return null===a||(null===d||(null===c||null===b))?null:{x1:a,y1:d,x2:a+c,y2:d+b}},NE:function(a,d){if(!d||!a)return!1;var c=!1,b=!1;"undefined"!==typeof d.x1&&("undefined"!==typeof d.y1&&("undefined"!==typeof d.x2&&"undefined"!==typeof d.y2))||console.warn("rect points are undefined");c=a.x>=d.x1&&a.x<=d.x2;b=a.y>=d.y1&&a.y<=d.y2;return c&&b},DB:function(a,d){return a&&d?a.x1<=d.x2&&(a.x2>=d.x1&&(a.y1<=d.y2&&a.y2>=d.y1))?!0:
!1:!1},sv:function(e,d,c,b,k,f){var g=f.k.o.ec(k),l=f.k.o.dc(k);d=a.za.gq(e,d,c,b,f.k.ce(k));e={x:Math.max(d.x,0),y:Math.max(d.y,0)};l={x:Math.min(d.x+d.w,g),y:Math.min(d.y+d.Qe,l)};g=f.k.J.yc(e,k);l=f.k.J.yc(l,k);e=f.k.sc(k);"undefined"!==typeof e.pe&&null!==e.pe?(g.x-=e.pe,g.y-=e.Wf,l.x-=e.pe,l.y-=e.Wf):(k=f.k.J.oj(k),g.x-=k.x,g.y-=k.y,l.x-=k.x,l.y-=k.y);return{x:Math.floor(Math.min(g.x,l.x)),y:Math.floor(Math.min(g.y,l.y)),w:Math.floor(Math.abs(l.x-g.x)),Qe:Math.floor(Math.abs(l.y-g.y))}},gq:function(a,
d,c,b,k){a=k.wa(new XODText.Wb(a,d));d=k.wa(new XODText.Wb(c,b));c=Math.abs(a.x-d.x);b=Math.abs(a.y-d.y);k=Math.min(a.x,d.x);a=Math.min(a.y,d.y);return{x:k,y:a,w:c,Qe:b}},HE:function(a,d,c,b,k){var f=Math.abs(a-c),n=Math.abs(d-b);a=Math.min(a,c);d=Math.max(d,b);return g.QC(a,d,f,n,k)},QC:function(a,d,c,b,k){var f=96/72;return{x:f*a,y:k-f*d,w:f*c,Qe:f*b}},bF:function(a,d,c,b,k){b=new XODText.Wb(a,d+b);a=new XODText.Wb(a+c,d);k=k.inverse();b=k.wa(b);k=k.wa(a);return{x1:b.x,y1:b.y,x2:k.x,y2:k.y}},cF:function(a,
d,c,b,k){return g.PC(0.75*a,0.75*(k-d),0.75*c,0.75*b)},PC:function(a,d,c,b){return{x1:a,y1:d-b,x2:a+c,y2:d}},va:{TA:function(a,d,c,b){function k(a,c,b){return(b.y-a.y)*(c.x-a.x)>(c.y-a.y)*(b.x-a.x)}return k(a,c,b)!==k(d,c,b)&&k(a,d,c)!==k(a,d,b)},ml:function(a,d){var c=Math.atan(Math.abs(a.y-d.y)/Math.abs(a.x-d.x));d.x<a.x&&d.y>a.y?c=Math.PI-c:d.x<=a.x&&d.y<a.y?(c=Math.PI-c,c*=-1):d.x>=a.x&&(d.y<a.y&&(c*=-1));return c},mp:function(a,d){return Math.sqrt(Math.pow(a.x-d.x,2)+Math.pow(a.y-d.y,2))},Mg:function(a,
d,c){c=c||{x:0,y:0};var b=a.x-c.x;a=a.y-c.y;return{x:Math.cos(d)*b-Math.sin(d)*a+c.x,y:Math.sin(d)*b+Math.cos(d)*a+c.y}},Kq:function(a,d,c){return{x:a.x+(d||0),y:a.y+(c||0)}},NB:function(a,d,c){return{x:a.x*(d||0),y:a.y*(c||0)}},Yk:function(a,d,c){c=void 0!==c?c:Infinity;d=void 0!==d?d:-Infinity;return Math.max(Math.min(a,c),d)},Qo:function(a,d,c){return Math.abs(a-d)<(c||0.01)}}};a.za=g})(window);
(function(a){function g(a){this.children={};this.name=a}function e(a){if(!a)throw Error("XfdfManager requires AnnotationManager to initialize");this.Ib=a;this.Kp=[];this.Pq=[]}e.prototype={nt:function(a){return a&&0<a.getElementsByTagName("annots").length?(this.Kp=d.pu(a,"link"),this.Pq=d.pu(a,"widget"),a.getElementsByTagName("annots")[0].childNodes):null},Vw:function(a){a=this.nt(a);return null!==a?this.Om(a,!0):[]},Ww:function(a,b){var d=this.nt(a);null!==d?this.Cy(d,b):b([])},Ap:function(a){var b=
{};if(a){var d=a.getElementsByTagName("add"),f=a.getElementsByTagName("modify");a=a.getElementsByTagName("delete");0<d.length&&(b.Rk=this.Om(d[0].childNodes));0<a.length&&(b.Kt=this.zw(a[0]));0<f.length&&(b.Rp=this.ax(f[0].childNodes))}return b},zw:function(a){var b=[];a=a.getElementsByTagName("id");for(var d=0;d<a.length;++d){var f=this.Ib.zg($(a[d]).text());f&&(b.push(f),this.Ib.cj(f,!0))}return b},ax:function(a){return this.Om(a,!0)},Om:function(a,b){var d=[];this.et(a,d,0,a.length,b);return d},
wf:function(a,b,d){var f=this.Ib,e=null,g=!1,p=f.xf[a];if(p){a=$(b).attr("page");a=parseInt(a,10);a=f.k.ce(a);for(var m=0;m<p.length;m++)if(p[m].prototype.Vy(b)){e=null;d&&(e=this.Ib.zg($(b).attr("name")));e||(e=new p[m],g=!0);try{e.isImporting=!0,e.deserialize(b,a),e.isImporting=!1}catch(q){console.warn("Error parsing annotation");g=!1;e=null;break}g||f.WC(e,!0);e.IsAdded=!1;e.IsModified=!1;break}}else"widget"===a?(e=this.Zu(a,b))&&f.tw(e):"link"===a?(e=this.Zu(a,b))&&f.Gy(e):console.warn("Unsupported annotation type.");
return{Sk:e,wC:g}},et:function(a,b,e,f,g){for(var l=[];e<f;++e)if(a[e].nodeType===Node.ELEMENT_NODE){var p=this.wf(d.lp(a[e]),a[e],g),m=p.Sk;m&&(b.push(m),p.wC&&l.push(m))}0<l.length&&(this.Ib.Qk(l,!0),l.forEach(function(a){a.IsAdded=!1;a.IsModified=!1}))},Cy:function(a,b){function d(){f.et(a,p,e,Math.min(e+g,a.length),!0);setTimeout(function(){e+=g;e<a.length?d():b(p)},0)}var f=this,e=0,g=50,p=[];d()},Zu:function(c,b){var e=this.Ib,f=null;if("link"===c){var g=d.gu(b)[0],l=d.hu(g);"GoTo"===l?(f=new a.h.ye,
f.md=parseInt(d.getAttribute(b,"PageNum"),10),_.isNaN(f.md)&&0<g.getElementsByTagName("Dest").length?(g=this.pv(g.getElementsByTagName("Dest")[0]),$.extend(f,g)):(f.Gm=d.getAttribute(b,"Vpos")||0,f.El=d.getAttribute(b,"Hpos")||0,f.md=f.md||1)):"URI"===l&&(f=new a.h.eg,g=this.qv(g),f.target=g)}else if("widget"===c){f=d.getAttribute(b,"FT");if("Btn"===f)if(f=new Annotations.te,g=d.getAttribute(b,"Ff"))if(g=parseInt(g,10),l=0!==(g&65536)?!0:!1)f.Ac="P",d.getAttribute(b,"ButtonLabel")&&(f.ww=d.getAttribute(b,
"ButtonLabel"));else{if(g=0!==(g&32768)?!0:!1,f.Ac=g?"R":"C",g=d.getAttribute(b,"N"))f.ff=g}else{if(f.Ac="C",g=d.getAttribute(b,"N"))f.ff=g}else if("Tx"===f){if(f=new Annotations.Ee,g=d.getAttribute(b,"Ff"))g=parseInt(g,10),f.gr=g&4096,f.gr=0!==f.gr?!0:!1,f.gn=g&8192,f.gn=0!==f.gn?!0:!1,f.Zq=g&8388608,f.Zq=0!==f.Zq?!0:!1}else if("Ch"===f){if(f=new Annotations.ve,g=d.getAttribute(b,"Ff"))g=parseInt(g,10),f.Bi=g&131072,f.Bi=0!==f.Bi?!0:!1,f.bn=g&262144,f.bn=0!==f.bn?!0:!1}else if("Sig"===f){if(f=new Annotations.mk,
g=b.querySelector("imagedata"))f.an=g.textContent}else return;this.Yw(b,f)}if(f){f.PageNumber=parseInt(d.getAttribute(b,"page"),10)+1;f.Subject=_.isNull(d.getAttribute(b,"subject"))?c:d.getAttribute(b,"subject");var p;d.getAttribute(b,"opacity")&&(f.opacity=d.getAttribute(b,"opacity"));d.getAttribute(b,"color")&&(g=parseInt(d.getAttribute(b,"color").substr(1,2),16),l=parseInt(d.getAttribute(b,"color").substr(3,2),16),p=parseInt(d.getAttribute(b,"color").substr(5,2),16),f.StrokeColor=new Annotations.Color(g,
l,p),d.getAttribute(b,"opacity")&&(null!==f.StrokeColor&&(f.StrokeColor.A=parseFloat(d.getAttribute(b,"opacity")))));d.getAttribute(b,"interior-color")&&(g=parseInt(d.getAttribute(b,"interior-color").substr(1,2),16),l=parseInt(d.getAttribute(b,"interior-color").substr(3,2),16),p=parseInt(d.getAttribute(b,"interior-color").substr(5,2),16),f.FillColor=new Annotations.Color(g,l,p),d.getAttribute(b,"opacity")&&(null!==f.FillColor&&(f.FillColor.A=parseFloat(d.getAttribute(b,"opacity")))));d.getAttribute(b,
"flags")&&(f.dx=-1!==d.getAttribute(b,"flags").indexOf("nozoom"),f.CD=-1!==d.getAttribute(b,"flags").indexOf("norotate"),f.$m=-1!==d.getAttribute(b,"flags").indexOf("hidden"));d.getAttribute(b,"name")&&(f.Id=d.getAttribute(b,"name"));d.getAttribute(b,"title")&&("widget"===c?f.ua=d.getAttribute(b,"title"):f.Author=d.getAttribute(b,"title"));d.getAttribute(b,"rect")&&(g=d.getAttribute(b,"rect").split(","),"widget"!==c&&"link"!==c?(e=e.k.ce(d.getAttribute(b,"page")),e=a.za.gq(g[0],g[1],g[2],g[3],e),
f.X=e.x,f.Y=e.y,f.Width=e.w,f.Height=e.Qe):f.Rect=g);f.wE=!0;d.getAttribute(b,"creationdate")&&(f.DateCreated=d.dl(d.getAttribute(b,"creationdate")));d.getAttribute(b,"date")&&(f.DateModified=d.dl(d.getAttribute(b,"date")));f.IsAdded=!1;f.IsModified=!1}return f},Yw:function(a,b){if(d.getAttribute(a,"Opt")){var e=d.getAttribute(a,"Opt");-1!==e.indexOf(",")?b.Aa=e.split(","):b.Aa=d.getAttribute(a,"Opt")}var f;if(e=d.nl(a,"V","value"))if(b.ga=e,b.Aa&&(b.Aa instanceof Array&&0<b.Aa.length)){f=!1;for(e=
0;e<b.Aa.length;++e)if(b.ga===b.Aa[e]){f=!0;break}f||(e=parseInt(b.ga.charAt(b.ga.length-1),10),b.ga=b.Aa[e-1])}if(e=d.nl(a,"DV","defaultvalue"))if(b.gf=e,b.Aa&&(b.Aa instanceof Array&&0<b.Aa.length)){f=!1;for(e=0;e<b.Aa.length;++e)if(b.gf===b.Aa[e]){f=!0;break}f||(e=parseInt(b.gf.charAt(b.gf.length-1),10),b.gf=b.Aa[e-1])}d.getAttribute(a,"Ff")&&(e=parseInt(d.getAttribute(a,"Ff"),10),b.Gi=e&1,b.Gi=0!==b.Gi?!0:!1,b.Hi=e&2,b.Hi=0!==b.Hi?!0:!1,b.hr=e&4,b.hr=0!==b.hr?!0:!1);e=d.ov(a);e.color&&(b.color=
e.color);d.getAttribute(a,"FontName")?b.jd=d.cq(d.getAttribute(a,"FontName")):e.font&&(e.font.name&&(b.jd=e.font.name));d.getAttribute(a,"FontSize")?b.fontSize=parseFloat(d.getAttribute(a,"FontSize")):b.fontSize=e.font&&e.font.size?parseFloat(e.font.size):0;var g;d.getAttribute(a,"BC")&&(g=d.getAttribute(a,"BC").split(","),3===g.length&&(e=parseInt(255*g[0],10),f=parseInt(255*g[1],10),g=parseInt(255*g[2],10),b.borderColor=d.ol(e,f,g)));d.getAttribute(a,"BG")?(g=d.getAttribute(a,"BG").split(","),3===
g.length?(e=parseInt(255*g[0],10),f=parseInt(255*g[1],10),g=parseInt(255*g[2],10),b.backgroundColor=d.ol(e,f,g)):"P"===b.Ac&&(b.transparent=!0)):"P"===b.Ac&&(b.transparent=!0);e=d.getAttribute(a,"rotation");b.rotation=e?parseInt(e,10):0;d.AA(a)&&this.Xw(a,b)},pv:function(a){a=d.gp(a);var b=d.lp(a),e=parseInt(d.getAttribute(a,"Page"),10);1>=e&&(e=1);var f={},g=this.Ib.k.ce(e-1),l;switch(b){case "XYZ":l=d.Yi(d.getAttribute(a,"Left"),d.getAttribute(a,"Top"),g);f.left=l.x;f.top=l.y;f.zoom=parseFloat(d.getAttribute(a,
"Zoom"));break;case "FitH":case "FitBH":l=d.Yi(null,d.getAttribute(a,"Top"),g);f.top=l.y;break;case "FitV":case "FitBV":l=d.Yi(d.getAttribute(a,"Left"),null,g);f.left=l.x;break;case "FitR":l=d.Yi(d.getAttribute(a,"Left"),d.getAttribute(a,"Top"),g),f.left=l.x,f.top=l.y,l=d.Yi(d.getAttribute(a,"Right"),d.getAttribute(a,"Bottom"),g),f.right=l.x,f.bottom=l.y}return{md:e,Lo:b,Gb:f}},qv:function(a){var b=d.getAttribute(a,"Target");_.isNull(b)&&(a=d.gp(a),b=d.getAttribute(a,"Name"));return b},Xw:function(a,
b){var e=d.gu(a);b.Ga=[];for(var f=0;f<e.length;f++){b.Ga.push({});var g=e[f],l=d.hu(g);if(l)switch(b.Ga[f].By=l,b.Ga[f].trigger=d.getAttribute(g,"Trigger")||"U",l){case "GoTo":b.Ga[f].md=d.getAttribute(g,"PageNum");_.isNull(b.Ga[f].md)&&(0<g.getElementsByTagName("Dest").length&&(g=this.pv(g.getElementsByTagName("Dest")[0]),$.extend(b.Ga[f],g)));break;case "URI":b.Ga[f].name=this.qv(g);break;case "Named":b.Ga[f].name=d.getAttribute(g,"N");_.isNull(b.Ga[f].name)&&(0<g.getElementsByTagName("Named").length&&
(b.Ga[f].name=d.getAttribute(g.getElementsByTagName("Named")[0],"Name")));break;case "JavaScript":b.Ga[f].Gp=d.getAttribute(g,"JavaScript");b.Ga[f].Gp||(b.Ga[f].Gp=$(g.getElementsByTagName("JavaScript")[0]).text());break;case "ResetForm":_.isNull(d.getAttribute(g,"ResetFields"))?_.isNull(d.getAttribute(g,"ResetExcludedFields"))?0<g.getElementsByTagName("ResetForm").length&&(g=g.getElementsByTagName("ResetForm")[0],(l=d.getAttribute(g,"Fields"))&&(l=l.split(",")),g=parseInt(d.getAttribute(g,"Flags"),
10),_.isNull(l)||_.isUndefined(l)?b.Ga[f].nq=[]:1===g?b.Ga[f].nq=l:b.Ga[f].Cv=l):b.Ga[f].nq=d.getAttribute(g,"ResetExcludedFields").split(","):b.Ga[f].Cv=d.getAttribute(g,"ResetFields").split(",");break;case "SubmitForm":var l=g.getElementsByTagName("SubmitForm"),p="SubmitURL",m="SubmitFields",q="SubmitFlag";0<l.length&&(g=l[0],p="URL",m="Fields",q="Flags");b.Ga[f].HC=d.getAttribute(g,p);_.isNull(d.getAttribute(g,m))||(b.Ga[f].FC=d.getAttribute(g,m).split(","));_.isNull(d.getAttribute(g,q))||(b.Ga[f].GC=
parseInt(d.getAttribute(g,q),10));break;case "Hide":_.isNull(d.getAttribute(g,"HideField"))?0<g.getElementsByTagName("Hide").length?(g=g.getElementsByTagName("Hide")[0],l=d.getAttribute(g,"Fields"),"false"!==d.getAttribute(g,"Hide")?b.Ga[f].zp=l:b.Ga[f].Xv=l):b.Ga[f].Xv=d.getAttribute(g,"ShowField"):b.Ga[f].zp=d.getAttribute(g,"HideField")}}},kn:function(a,b,d){var f=this.Ib.k.ce(a.$a()-1).inverse(),e=document.createElementNS("",a.elementName);a.serialize(e,f,d);a=(new XMLSerializer).serializeToString(e);
b.writeString(a)},Ix:function(a){a=a||{};var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");b.writeAttributeString("xml:space","preserve");!1!==a.widgets&&this.Ax(b);b.writeStartElement("annots");for(var d=this.Ib.Hh(),f=0;f<d.length;++f)this.kn(d[f],b,!0);!1!==a.links&&this.Bx(b);!1!==a.widgets&&this.Hx(b);b.writeEndElement();b.writeEndElement();this.Ex(b);a=b.flush();return a=a.replace(/\t/g,"")},Ex:function(a){var b=
this.Ib;a.writeStartElement("pages");var d=b.k.getDocument().o.u;if(d){var f=b.k.ce(0);a.writeStartElement("defmtx");var e;e=""+(f.m_a+","+f.m_b+","+f.m_c+","+f.m_d+","+f.m_h+","+f.m_v);a.writeAttributeString("matrix",e);a.writeEndElement();for(e=1;e<d.length;++e){var g=b.k.ce(e);if(!g.Qo(f)){a.writeStartElement("pgmtx");var p="",p=p+(g.m_a+","+g.m_b+","+g.m_c+","+g.m_d+","+g.m_h+","+g.m_v);a.writeAttributeString("matrix",p);a.writeAttributeString("page",e.toString());a.writeEndElement()}}}a.writeEndElement()},
xx:function(a){a.writeStartElement("add");for(var b=this.Ib.Hh(),d=0;d<b.length;++d){var f=b[d];f.IsAdded&&(this.kn(f,a),f.IsAdded=!1)}a.writeEndElement()},Dx:function(a){a.writeStartElement("modify");for(var b=this.Ib,d=b.Hh(),f=0;f<d.length;++f){var e=d[f];e.IsModified&&(b.Jb(e)&&(this.kn(e,a),e.IsModified=!1))}a.writeEndElement()},yx:function(a){a.writeStartElement("delete");for(var b=this.Ib,d=this.Gw(),f=0;f<d.length;++f)a.writeStartElement("id"),a.writeString(d[f]),a.writeEndElement();b.Ko.length=
0;a.writeEndElement()},Bx:function(a){for(var b=0;b<this.Kp.length;++b)a.writeString(this.Kp[b])},Hx:function(a){for(var b=this.Ib,e=0;e<this.Pq.length;++e){var f=this.Pq[e],g=f.indexOf(' v="'),l=!1;0>g&&(g=f.indexOf(' V="'),0<=g&&(l=!0));var p,m,q;if(0<=g)for(p=f.indexOf('"',g+4),g=f.substring(g,p+1),m=f.indexOf('title="'),p=f.indexOf('"',m+7),p=f.substring(m+7,p),q=0;q<b.Ub.length;++q){if(m=b.Ub[q],m.ua===p){_.isUndefined(m.ga)||(p=d.escape(m.ga),m=' v="'+p+'"',l&&(m=' V="'+p+'"'),f=f.replace(g,
m));break}}else for(m=f.indexOf('title="'),p=f.indexOf('"',m+7),p=f.substring(m+7,p),q=0;q<b.Ub.length;++q)if(m=b.Ub[q],m.ua===p){_.isUndefined(m.ga)||(p=d.escape(m.ga),m=' v="'+p+'"',l&&(m=' V="'+p+'"'),f=[f.slice(0,7),m,f.slice(7)].join(""));break}a.writeString(f)}},xA:function(a){for(var b=new g,d=0;d<a.length;++d)for(var f=a[d],e=f.ua.split("."),l=b,p=0;p<e.length;++p)l=l.Dy(e[p]),p===e.length-1&&l.Tv(f.ga);return b},Qq:function(a,b){var d=0,f=[],e=[];this.xA(b).fu(function(a){f.push(a);e.push(1)});
for(var g=1;0<f.length;){var p=f.pop(),m=e.pop(),g=g-m;if(0<g)for(var q=0;q<g;++q)d--,a.writeEndElement();g=m;p.Dl()||!p.Mu()?(this.zx(a,p.getName(),p.Dl()),p.Dl()&&(p.Mu()&&(this.rr(a,p.getName()),d++))):(this.rr(a,p.getName()),d++);p.fu(function(a){f.push(a);e.push(m+1)})}for(p=0;p<d;++p)a.writeEndElement()},zx:function(a,b,e){a.writeStartElement("field");a.writeAttributeString("name",b);_.isUndefined(e)||(a.writeStartElement("value"),a.writeString(d.escape(e)),a.writeEndElement());a.writeEndElement()},
rr:function(a,b){a.writeStartElement("field");a.writeAttributeString("name",b)},Ax:function(a){a.writeStartElement("fields");this.Qq(a,this.Ib.Ub);a.writeEndElement()},Cx:function(a){a.writeStartElement("fields");var b=this.Ib.Ub.filter(function(a){return a.jf});this.Qq(a,b);a.writeEndElement()},Fx:function(a){var b=new XMLWriter("UTF-8","1.0");b.writeStartDocument();b.writeStartElement("xfdf");b.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");b.writeAttributeString("xml:space","preserve");
b.writeStartElement("fields");this.Qq(b,a);b.writeEndElement();b.writeEndElement();a=b.flush();return a=a.replace(/\t/g,"")},Gx:function(a){for(var b=[],d=0;d<a.length;++d){var f=a[d];_.isUndefined(f.ga)||b.push(f.ua+"="+encodeURIComponent(f.ga))}return b.join("&")},cp:function(){var a=new XMLWriter("UTF-8","1.0");a.writeStartDocument();a.writeStartElement("xfdf");a.writeAttributeString("xmlns","http://ns.adobe.com/xfdf/");a.writeAttributeString("xml:space","preserve");this.Cx(a);this.xx(a);this.Dx(a);
this.yx(a);a.writeEndElement();a=a.flush();return a=a.replace(/\t/g,"")},Gw:function(){return _.map(this.Ib.Ko,function(a){return a.Id})}};a.h.Rx=e;var d={Gq:function(a){var b;b="D:"+a.getFullYear().toString();b+=this.oc((a.getMonth()+1).toString());b+=this.oc(a.getDate().toString());b+=this.oc(a.getHours().toString());b+=this.oc(a.getMinutes().toString());b+=this.oc(a.getSeconds().toString());a=a.getTimezoneOffset();0===a?b+="Z00'00'":(0>a?(b+="+",a*=-1):b+="-",b+=this.oc(parseInt(a/60,10).toString())+
"'",b+=this.oc((a%60).toString())+"'");return b},toDateString:function(a){return a.getFullYear().toString()+"-"+this.oc((a.getMonth()+1).toString())+"-"+this.oc(a.getDate().toString())+" "+this.oc(a.getHours().toString())+":"+this.oc(a.getMinutes().toString())+":"+this.oc(a.getSeconds().toString())},oc:function(a){return 2>a.length?"0"+a:a},escape:function(a){a&&(a=_.escape(a),a=a.replace(/(?:\r\n|\r|\n)/g,"&#xA;"));return a},toFixed:function(a,b){_.isUndefined(b)&&(b=2);return parseFloat(a.toFixed(b)).toString()},
getAttribute:function(a,b){return a.getAttribute(b)||a.getAttribute(b.toLowerCase())},lp:function(a){return a.localName||(a.baseName||a.nodeName)},pu:function(a,b){var d=[],f=a.getElementsByTagName(b);if(0===f.length)return d;for(var e=0;e<f.length;++e){var g=f[e].outerHTML||f[e].xml;if(_.isUndefined(g)||0!==g.indexOf("<"+b+" "))g=(new XMLSerializer).serializeToString(f[e]);0>g.indexOf("</"+b+">")&&("/"!==g.charAt(g.length-2)&&(g=g.slice(0,g.length-1)+"/"+g.slice(g.length-1)));d.push(g)}return d},
AA:function(a){return d.getAttribute(a,"ActionType")?!0:0<a.getElementsByTagName("OnActivation").length},gu:function(a){return d.getAttribute(a,"ActionType")?[a]:a.getElementsByTagName("Action")},hu:function(a){if(!a)return null;var b=d.getAttribute(a,"ActionType");return b?b:(a=d.gp(a))?d.lp(a):null},gp:function(a){a=_.filter(a.childNodes,function(a){return 1===a.nodeType});return 0<a.length?a[0]:null},nl:function(a,b,e){b=d.getAttribute(a,b);_.isNull(b)&&(b=a.getElementsByTagName(e),b=0<b.length?
b[0].textContent:null);return b},Yi:function(c,b,d){var f=_.isNull(c)?0:parseFloat(c),e=_.isNull(b)?0:parseFloat(b);d=a.za.gq(f,e,f+1,e-1,d);return{x:_.isNull(c)?null:d.x,y:_.isNull(b)?null:d.y}},eE:function(a,b,d){a=a.split(";");for(var f=[],e=0;e<a.length;++e){var g=a[e].split(","),g=new XODText.Wb(g[0],g[1]),g=new Annotations.Point(g.x,g.y);b.wa(g);"function"===typeof d&&d(g);f.push(g)}return f},rq:function(a,b,e){if("undefined"===typeof e||null===e)e=",";if(!(a instanceof Annotations.Point))return null;
var f=new Annotations.Point(a.x,a.y);b&&b.wa(a);b&&b.wa(f);return d.toFixed(f.x)+e+d.toFixed(f.y)},Lt:function(a,b,d){if("undefined"===typeof d||null===d)d=",";if("string"!==typeof a)return null;a=a.split(d);d=null;2===a.length?(d=new Annotations.Point(parseFloat(a[0]),parseFloat(a[1])),b&&b.wa(d)):console.warn("Invalid serialized string format.");return d},Sj:function(a,b,e,f){if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof e||null===e)e=",";for(var g="",l=0;l<a.length;l++){var p=
new Annotations.Point(a[l].x,a[l].y);b&&b.wa(p);g+=d.toFixed(p.x)+e;g+=d.toFixed(p.y)+f}return g.substring(0,g.length-1)},ej:function(a,b,d,f){var e=[];if("undefined"===typeof f||null===f)f=";";if("undefined"===typeof d||null===d)d=",";var g;a=a.split(f);if(f===d)for(f=0;f+1<a.length;f+=2)g=new Annotations.Point(a[f],a[f+1]),b&&b.wa(g),e.push(g);else for(f=0;f<a.length;++f)g=a[f].split(d),g=new Annotations.Point(g[0],g[1]),b&&b.wa(g),e.push(g);return e},rm:function(a,b,e){if("undefined"===typeof e||
null===e)e=",";var f=new Annotations.Point(a.x1,a.y1);a=new Annotations.Point(a.x2,a.y2);b.wa(f);b.wa(a);return d.toFixed(f.x)+e+d.toFixed(f.y)+e+d.toFixed(a.x)+e+d.toFixed(a.y)},Mt:function(a,b,d){if("undefined"===typeof d||null===d)d=",";d=a.split(d);a=new Annotations.Point(d[0],d[1]);d=new Annotations.Point(d[2],d[3]);b&&(b.wa(a),b.wa(d));return new Annotations.na(a.x,a.y,d.x,d.y)},qq:function(a,b,e){var f=new XODText.Ja;f.Fl(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return d.rm(a,f,e)},vz:function(a,b,e){var f=
new XODText.Ja;f.Fl(b);f.m_d*=-1;f.m_h=0;f.m_v=0;return d.Mt(a,f,e)},UE:function(a,b){for(var e="",f=0;f<a.length;f++){var g=a[f],g=new Annotations.Point(g.x,g.y);b.inverse().wa(g);e+=d.toFixed(g.x)+",";e+=d.toFixed(g.y)+";"}return e.substring(0,e.length-1)},fE:function(a,b){var d=a.split(","),f=new Annotations.Point(d[0],d[1]),d=new Annotations.Point(d[2],d[3]);"undefined"!==typeof b&&(b.wa(f),b.wa(d));return new Annotations.na(f.x,f.y,d.x,d.y)},VE:function(a,b){var e=new Annotations.Point(a.x1,
a.y1),f=new Annotations.Point(a.x2,a.y2),g=b.inverse();g.wa(e);g.wa(f);return d.toFixed(e.x)+","+d.toFixed(e.y)+","+d.toFixed(f.x)+","+d.toFixed(f.y)},Pg:function(a){if("undefined"===typeof a||(null===a||(!(a instanceof Annotations.Color)||0===a.A)))return null;var b=a.R.toString(16).toUpperCase();2>b.length&&(b="0"+b);var d=a.G.toString(16).toUpperCase();2>d.length&&(d="0"+d);a=a.B.toString(16).toUpperCase();2>a.length&&(a="0"+a);return"#"+b+d+a},wg:function(a){return RegExp(/^#[0-9a-f]{6}$/i).test(a)?
new Annotations.Color(parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)):null},dl:function(a){return new Date(parseInt(a.substring(2,6),10),parseInt(a.substring(6,8),10)-1,parseInt(a.substring(8,10),10),parseInt(a.substring(10,12),10),parseInt(a.substring(12,14),10),parseInt(a.substring(14,16),10),0)},ol:function(a,b,e){a="#"+d.oc(a.toString(16));a+=d.oc(b.toString(16));return a+=d.oc(e.toString(16))},UB:function(a,b){return"/"+a+" "+b+" Tf"},TB:function(a){var b=a.hp();
return"font: "+a.Font+" "+b+"pt; text-align: "+a.TextAlign+"; color: "+d.Pg(a.TextColor)},SB:function(a){var b=a.hp();return"font-family: "+a.Font+"; font-size: "+b+"pt; text-align: "+a.TextAlign+"; color: "+d.Pg(a.TextColor)},qz:["Tf","rg"],ov:function(a){var b=d.nl(a,"defaultappearance","defaultappearance");a={};if(!_.isNull(b))for(b=b.split(" ");0<b.length;){var e=b.pop();if(-1!==d.qz.indexOf(e))switch(e){case "Tf":var e=b.pop(),f=d.cq(b.pop().slice(1));a.font={size:e+"pt",name:f};break;case "rg":var e=
parseInt(255*b.pop(),10),f=parseInt(255*b.pop(),10),g=parseInt(255*b.pop(),10);a.color=d.ol(g,f,e)}}return a},qB:function(a){a=d.nl(a,"defaultstyle","defaultstyle");var b={};_.isNull(a)||a.split(";").forEach(function(a){var c=a.split(":");if(!(2>c.length))switch(a=c[0].trim(),c=c[1].trim(),a){case "text-align":b.textAlign=c;break;case "color":S(c,"rgb")?(a=/rgb\((\d{1,3}), (\d{1,3}), (\d{1,3})\)/.exec(c),null!==a&&(b.color=d.ol(parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)))):b.color=c;break;
case "font":a=c.split(" "),c=a[1],b.font={name:d.cq(a[0]),size:c}}});return b},cq:function(a){function b(b,d){var f=a;0===f.indexOf(b)&&(f=d);return f}var d=0<a.indexOf("Bold"),f=0<a.indexOf("Italic")||0<a.indexOf("Oblique");a=b("Arial","Arial");a=b("Courier","Courier");a=b("Helv","Arial");a=b("Times","Times New Roman");d?a=a+" Bold,"+a:f&&(a=a+" Italic,"+a);return a}};g.prototype={Tv:function(a){this.value=a},Dl:function(){return this.value},getName:function(){return this.name},Mu:function(){return 0<
Object.keys(this.children).length},mu:function(){return this.children},Dy:function(a){this.children[a]||(this.children[a]=new g(a));return this.children[a]},fu:function(a){for(var b in this.children)this.children.hasOwnProperty(b)&&a(this.children[b])}};a.Annotations.sa=d})(window);
(function(a){function g(a){this.k=a;this.Sh=[];this.Pa=[];this.Zd=[];this.Yd=[];this.je=[];this.Np=1;this.cache={};this.cache.zoom=1;this.cache.u=[];this.cache.uc=0;this.fi=[];this.Rf=[];this.Ze=[];this.Sf=[];this.Zh=[];this.Ed=[];this.mq=this.Lj=null;this.ow=!0;this.df=!1;this.cd=0.5}g.prototype={init:function(){this.o=this.k.getDocument();for(var a=0;a<this.o.numPages;a++)this.Ze[a]=null,this.fi[a]=null,this.Rf[a]=null,this.Sf[a]=null},JA:function(a){this.cache.zoom=a},qD:function(a){var d=this.dm(a);
-1!==d&&(this.cache.u.splice(d,1),this.cache.uc-=this.Mh(a),this.je.push(a));d=this.Zd.indexOf(a);-1<d&&this.Zd.splice(d,1);this.Cq()},pause:function(){this.paused=!0},Tf:function(){this.paused=!1;for(var a=0;a<this.o.numPages;a++){var d=this.Sf[a];d&&(d.paused=!1,d.Tf&&d.Tf())}},Mq:function(){var a=this.Pa;this.Pa=this.k.J.yd(this.cd,this.cd);var d,c;for(d=0;d<a.length;d++)if(c=a[d],-1===this.Pa.indexOf(c)){var b=this.Zd.indexOf(c);-1!==b&&this.Zd.splice(b,1);this.jm(c)}this.Sh=this.Pa.slice(0)},
$y:function(){var a=!1;if(this.df)a=!0;else{var d=this.Pa.slice(0);this.Pa=this.k.J.yd(this.cd,this.cd);if(d.length!==this.Pa.length)a=!0;else for(var c=0;c<this.Pa.length;c++)d[c]!==this.Pa[c]&&(a=!0)}a&&this.Jt()},Jt:function(a){var d=this;d.Zh=[];clearTimeout(d.Lj);clearTimeout(d.mq);d.mq=setTimeout(function(){_.isUndefined(a)&&(a=d.k.J.yd(d.cd,d.cd));d.GB(a)},80)},GB:function(e){var d=[];this.Pa=e;var c;for(e=0;e<this.Sh.length;e++)if(c=this.Sh[e],-1===this.Pa.indexOf(c)){var b=this.Zd.indexOf(c);
-1!==b&&this.Zd.splice(b,1);d.push(c)}this.Cq();this.Ed=[];for(e=0;e<this.Pa.length;e++){c=this.Pa[e];if(this.df)this.Ed.push(c);else if(-1===this.Yd.indexOf(c)&&-1===this.Zd.indexOf(c))b=this.dm(c),a.h.Qa.Oq&&0<=b?this.vB(c,b):this.Ed.push(c);else continue;!0===this.o.Ph()&&this.qp(c)}for(e=0;e<this.je.length;e++)c=this.je[e],-1===this.Ed.indexOf(c)&&(-1===this.dm(c)&&this.Lq(c));this.je=[];for(e=0;e<d.length;e++)c=d[e],this.jm(c);0===this.Yd.length&&(0===this.Ed.length?this.aw():this.Sy());this.Sh=
this.Pa.slice(0)},CC:function(){function a(){b<c.length&&(d.Lj=setTimeout(function(){d.dA(c[b++],a)},200))}var d=this,c=d.Pa,b=0;a()},aw:function(){function e(a,c){return b.bj(a)-b.bj(c)}function d(c){b.Mh(c)<=a.ag&&b.Zh.push(c)}function c(){var d=b.Zh.shift();if(d){var e=!1,g=!1;0>=f-d?e=!0:0<f-d&&(g=!0);if(!e||m)if(!g||q){for(var k=b.Mh(d),l=b.cache.uc;l+k>a.ag;){var p=b.tu(n);if(0>p){e&&q?m=!1:g&&(m&&(q=!1));c();return}if(b.bj(n[p])<=b.bj(d))return;p=n.splice(p,1)[0];p=b.Mh(p);l-=p}b.Lj=setTimeout(function(){b.Bv(d,
function(){c()})},200)}}}var b=this;b.k.trigger("finishedRendering");var g;if(b.df)b.CC();else{var f=b.k.Ih()-1;this.Zh=[];clearTimeout(b.Lj);if(!(0<this.Ed.length)){var n=[];for(g=0;g<b.cache.u.length;g++)n[g]=b.cache.u[g].index;n.sort(function(a,b){return a-b});var l=0,p=0;for(g=f+1;l<a.Op&&!(g>b.o.numPages-1);g++)-1===b.Pa.indexOf(g)&&(l++,-1===n.indexOf(g)&&d(g));for(g=f-1;p<a.Pp&&!(0>g);g--)-1===b.Pa.indexOf(g)&&(p++,-1===n.indexOf(g)&&d(g));b.Zh.sort(e);var m=!0,q=!0;c()}}},ez:function(e,d){this.je=
this.Sh;this.Sh=[];this.Ed=[];if(this.cache.zoom!==e||d){for(var c=0;c<this.cache.u.length;c++){var b=this.cache.u[c].index;-1===this.je.indexOf(b)&&this.je.push(b);this.Ug(b)}this.cache.zoom=e;this.cache.u=[];this.cache.uc=0}this.Cq();this.Zd=[];a.h.Qa.Mj()},cD:function(e){"undefined"!==typeof this.o&&((this.df=this.ow&&e>this.o.o.fv)&&1<a.utils.getCanvasMultiplier()?this.cd=0:this.cd=0.5)},Cq:function(){for(var a=this.Yd.length-1;0<=a;a--){var d=this.Yd[a];this.Ug(d);-1===this.je.indexOf(d)&&this.je.push(d)}clearTimeout(this.Lj);
clearTimeout(this.mq);this.Zh=[]},Xd:function(a){var d=this.Ze[a];null!==d&&(this.o.Xd(a,d),this.o.Bf(d),this.Ze[a]=null);d=this.fi[a];null!==d&&(this.o.Eh(d),this.fi[a]=null);d=this.Rf[a];null!==this.Rf[a]&&(this.o.Ke(d),this.Rf[a]=null)},Ug:function(e){var d=this.Sf[e];null!==d&&(d.qt(),d.abort&&d.abort());this.Xd(e);e=this.Yd.indexOf(e);-1<e&&(a.h.Qa.Bo(),this.Yd.splice(e,1))},Lq:function(a){this.Ug(a);var d=this.Sf[a];null!==d&&(d.cf(void 0,a),this.Sf[a]=null)},jm:function(e){0>e||(-1===this.dm(e)?
this.Lq(e):this.Ug(e),a.h.Qa.Nj(e),this.k.jm(e))},Sy:function(){function e(){c.Yd=[];b=c.Ed.length<c.Np?c.Ed.length:c.Np;for(var f=0;f<b;){var e=c.Ed.splice(0,1)[0];_.isNumber(e)?c.Bv(e,d):a.utils.warn("Trying to render: "+e);f++}}function d(){f++;0===c.Ed.length?g||(g=!0,c.aw()):f===b&&(f=0,e())}var c=this;c.k.trigger("beginRendering");var b,g=!1,f=0;e()},Bv:function(e,d,c){var b=this;d=d||function(){};c=c||function(){};if(null!==this.Ze[e])a.utils.warn("renderPage: Another request for page "+e);
else{var g=b.k.Ha(e),f=b.k.eb(e+1);if(b.o===b.k.getDocument()){b.Yd.push(e);var n=!0,l=null,p;if(b.df){var m=b.k.J.H;p=m.sj(e,m.gk(b.cd,b.cd));if(null===p){d();return}}var q={pageIndex:e,getZoom:function(){return b.k.Ha(e)},getPageRotation:function(){return b.k.eb(e+1)},finishedLoading:function(a,c){if(b.o!==b.k.getDocument())return!1;if(a)return console.warn("Error loading page "+e),!1;n=null===b.Sf[e];b.Sf[e]=c;b.paused&&b.Sf[e].pause();return!0},acquireResources:function(){return n},resourcesLoaded:function(){if(b.o!==
b.k.getDocument())return!1;if(null===b.Ze[e])return d(),!1;g===b.k.Ha(e)&&f===b.k.eb(e+1)||b.k.Oo(e);return!0},drawComplete:function(){if(b.o===b.k.getDocument()&&!_.isNull(l)){a.h.Qa.Oq&&b.Jy(l,e);var c=-1!==b.Pa.indexOf(e);c&&(b.k.trigger("pageComplete",[e,l]),b.Zd.push(e));var f=b.Yd.indexOf(e);-1<f&&b.Yd.splice(f,1);b.o.Bf(b.Ze[e]);b.Ze[e]=null;d();$("#pageContainer"+e).removeClass("loading");b.o.Ll()&&(c&&b.k.Dm(e))}},drawProgressive:function(d){if(b.o===b.k.getDocument()){if(g===b.k.Ha(e)){if(!_.isUndefined(p)){var n=
$(d);n.css("top",p.Hq.y+"px");n.css("left",p.Hq.x+"px")}n=b.o.tc(e);l=a.h.Qa.su(d,e,g,f,q.getPageTransform(),n);-1!==b.Pa.indexOf(e)&&b.k.Xi(l,e)}else a.utils.warn("bad zoom: "+e);c(e)}},getPageTransform:function(){return b.k.J.oj(e)},useProgress:!b.df,renderRect:_.isUndefined(p)?void 0:p.lq};b.Ze[e]=-1;b.Ze[e]=b.o.Te(q);-1!==b.Pa.indexOf(e)&&b.k.Oo(e)}}},qp:function(e){var d=this;if(null!==d.fi[e]||d.k.EA(e))a.utils.warn("getThumb: Another request for thumb "+e);else{var c=d.o.Vh(e,function(a){d.fi[e]=
null;var c=-1!==d.Pa.indexOf(e);d.k.mt(a,e,c,!1)});d.fi[e]=c}},dA:function(e,d){var c=this,b=c.k.DA(e);if(null!==c.Rf[e]||b)b&&a.utils.warn("getHighResThumb: Another request for thumb "+e);else{var b=a.utils.getCanvasMultiplier(),g=c.o.ec(e),f=c.o.dc(e),n=g>f?2E3/g:2E3/f,n=n/b;c.Rf[e]=c.o.Te({pageIndex:e,getZoom:function(){return n},getPageRotation:function(){return a.h.ia.sd},drawComplete:function(a){c.o.Bf(c.Rf[e]);c.Rf[e]=null;var b=-1!==c.Pa.indexOf(e);c.k.mt(a,e,b,!0);_.isUndefined(d)||d()},
pageLookup:null,useProgress:!1})}},bj:function(a){a=a-this.k.Ih()-1;0>a&&(a=Math.abs(a-1));return a},Mh:function(a){var d=this.k.Ha(a);a=this.o.tc(a);d*=a.height*d*a.width;_.isUndefined(window.devicePixelRatio)||(d=d*window.devicePixelRatio*window.devicePixelRatio);return d=parseInt(d+25E3,10)},dm:function(a){for(var d=0;d<this.cache.u.length;d++)if(this.cache.u[d].index===a)return d;return-1},tu:function(a){for(var d=-1,c,b=0;b<a.length;b++){var g=this.bj(a[b]);g>=d&&(d=g,c=b)}return-1<d?c:-1},vB:function(a,
d){this.k.Xi(this.cache.u[d],a);this.k.Oo(a);this.Zd.push(a);this.k.trigger("pageComplete",a)},Jy:function(e,d){e.index=d;var c=this.Mh(d);if(c<=a.ag){for(;this.cache.uc+c>a.ag;){if(0>=this.cache.u.length)throw Error("No room in cache. Page size: "+c+". Cache in use: "+this.cache.uc+". Max cache size: "+a.ag+".");for(var b=[],g=0;g<this.cache.u.length;g++)b[g]=this.cache.u[g].index;b=this.tu(b);if(0>b)throw Error("renderPage: No page available for removal from cache");(b=this.cache.u.splice(b,1)[0])?
(g=this.Mh(b.index),this.cache.uc-=g,-1===this.Pa.indexOf(b.index)?this.Lq(b.index):this.je.push(b.index)):a.utils.warn("Trying to remove from cache: "+b)}this.cache.u.push(e);this.cache.uc+=c}},yq:function(a){this.ow=a},wq:function(a){this.Np=a}};a.h.ux=g})(window);
(function(a){var g=XODText,e=window.h,d={ur:"Single",vi:"Continuous",ar:"Facing",Wm:"FacingContinuous",dk:"Cover",Zg:"CoverFacing",cg:"Custom"};e.Bc=function(a,b,e){this.mode=null;this.k=a;this.bc=this.he=this.xa=null;this.Jq=this.Iq=this.Vg=this.af=this.Mb=this.Tb=0;a=b===d.cg;this.Ng=_.isUndefined(e)?!a:e;_.isNull(b)||(_.isUndefined(b)||(this.mode=b))};e.Bc.prototype={hC:function(a,b,e,f,g){this.mode=d.cg;this.xa=a;this.he=b;this.bc=e;this.Tb=f;this.Mb=g},Ep:function(){return this.mode===d.vi||
(this.mode===d.Wm||this.mode===d.dk)},V:function(a,b){var e=a*this.xa+b;return this.mode===d.dk||this.mode===d.Zg?0===e?-1:e<this.k.Eb.length+1?e-1:-1:e<this.k.Eb.length?e:-1},yc:function(a,b){a=this.k.zl(a,b);return{x:a.x+this.k.Eb[b].pe,y:a.y+this.k.Eb[b].Wf}},ef:function(c,b){var d=this.k.Ha(b),f=this.k.Eb[b],e=new g.Wb;e.x=c.x-f.pe;e.y=c.y-f.Wf;d=a.xe(d,this.k.eb(b+1),this.k.o.tc(b),0,!1);d=d.inverse();e=d.wa(e);return{pageIndex:b,x:e.x,y:e.y}},Bl:function(a,b){var d=null,f=null;a=_.isUndefined(a)?
this.k.hc:a;b=_.isUndefined(b)?this.k.ib:b;a:for(var e=this.Tb;e<this.Mb;e++)for(var g=0;g<this.xa;g++){var p=this.V(e,g);if(!(0>p)){var m=this.k.Eb[p],q=m.pe,r=m.Wf,u=m.pe+m.width*this.k.zoom,m=m.Wf+m.height*this.k.zoom;null===d&&(a.x<=u&&(a.x>=q&&(a.y<=m&&(a.y>=r&&(d=p)))));null===f&&(b.x<=u&&(b.x>=q&&(b.y<=m&&(b.y>=r&&(f=p)))));if(null!==d&&null!==f)break a}}d>f&&(e=d,d=f,f=e);return{first:d,last:f}},yd:function(a,b){if(0===$("#DocumentViewer").length)return[];for(var d,f=[],e=this.gk(a,b),g=this.gk(0,
0),p=this.Tb;p<this.Mb;p++)for(var m=0;m<this.xa;m++)if(d=this.V(p,m),!(0>d)){var q=this.sj(d,e,g);null!==q&&f.push({Dd:d,uv:q.uB})}f.sort(function(a,b){return b.uv-a.uv});d=f.length;for(e=0;e<d;++e)f[e]=f[e].Dd;return f},gk:function(a,b){a=_.isUndefined(a)?0.5:a;b=_.isUndefined(b)?0.5:b;var d=document.getElementById("DocumentViewer");if(null===d)return[];var f=d.getBoundingClientRect(),e=f.width,g=f.height,p=d.scrollTop+f.top-g*a,d=d.scrollLeft+f.left-e*b;return{x1:d,y1:p,x2:d+e*(1+2*b),y2:p+g*(1+
2*a)}},sj:function(c,b,d){var f=this.k.o.tc(c),e=this.yc({x:0,y:0},c),g=this.yc({x:f.width,y:f.height},c),f=a.utils.normalizeRect(e,g);b=a.utils.getRectIntersection(f,b);if(b.x1!==b.x2){var p;d&&(d=a.utils.getRectIntersection(f,d),p=(d.x2-d.x1)*(d.y2-d.y1)/((f.x2-f.x1)*(f.y2-f.y1)));e=this.ef({x:b.x1,y:b.y1},c);g=this.ef({x:b.x2,y:b.y2},c);return{lq:a.utils.normalizeRect(e,g),Hq:{x:b.x1-f.x1,y:b.y1-f.y1},uB:p}}return null},oj:function(a){a=this.k.sc(a);return{x:0,y:0,width:a.width,height:a.height}},
nj:function(){return{x:0,y:0}},ug:function(){var c=[],b=-1;this.Jq=this.Iq=this.Vg=this.af=0;var e,f,g;for(e=0;e<this.xa;e++){c[e]=-1;for(f=this.Tb;f<this.Mb;f++)g=this.V(f,e),this.mode===d.Zg&&-1===g?(g=this.V(++f,e),g=this.k.sc(g),g=new a.fh(g.width,g.height)):g=this.k.sc(g),g.width>c[e]&&(c[e]=g.width);this.af+=c[e]}this.Jq=this.af*this.k.vp()+this.xa*this.k.ul()*2;this.k.el.css("width",this.Jq);for(f=this.Tb;f<this.Mb;f++){b=-1;for(e=0;e<this.xa;e++)g=this.V(f,e),g=this.k.sc(g),g.height>b&&(b=
g.height);this.Vg+=b;for(e=0;e<this.xa;e++)g=this.V(f,e),this.k.iz(g,e,b,c[e]);b=document.createElement("div");b.style.clear="both";this.k.el.append(b)}this.Iq=this.Vg*this.k.vp()+(this.Mb-this.Tb)*this.k.ul()*2;this.k.ht();this.xm()},Lv:function(){this.Vg=this.af=0;var c=[],b,e,f;for(b=0;b<this.xa;b++){c[b]=-1;for(e=this.Tb;e<this.Mb;e++)f=this.V(e,b),this.mode===d.Zg&&-1===f?(f=this.V(++e,b),f=this.k.sc(f),f=new a.fh(f.width,f.height)):f=this.k.sc(f),f.width>c[b]&&(c[b]=f.width);this.af+=c[b]}for(e=
this.Tb;e<this.Mb;e++){c=-1;for(b=0;b<this.xa;b++)f=this.V(e,b),f=this.k.sc(f),f.height>c&&(c=f.height);this.Vg+=c}},xm:function(){for(var a=this.Tb;a<this.Mb;a++)for(var b=0;b<this.xa;b++){var d=this.V(a,b);if(!(0>d)){var f=this.k.sc(d),d=document.getElementById("pageContainer"+d);null!==d&&(f.pe=d.offsetLeft,f.Wf=d.offsetTop)}}}};a.utils.ieFullscreenBug&&(e.Bc.prototype.xm=function(){for(var c=a.utils.fullscreenIE(),b=$("#DocumentViewer"),d=b.scrollLeft(),b=b.scrollTop(),f=this.Tb;f<this.Mb;f++)for(var e=
0;e<this.xa;e++){var g=this.V(f,e);if(!(0>g)){var p=this.k.sc(g),g=document.getElementById("pageContainer"+g);null!==g&&(p.pe=g.offsetLeft,p.Wf=g.offsetTop,c&&(g=g.getBoundingClientRect(),p.pe=g.left+d,p.Wf=g.top+b))}}});e.wi=function(c){if(!c)throw Error("DisplayModeManager requires DocumentViewer to initialize");this.k=c;this.H=new a.h.Bc(this.k,d.vi)};e.wi.prototype={Ma:function(){return this.H},Mv:function(a){null===this.k.o?(this.H=a,this.k.trigger("displayModeUpdated")):(this.Ws(a),this.k.zoom=
this.k.hd(),this.k.trigger("zoomUpdated",this.k.zoom),this.H.Ep()&&(this.k.Lg(),this.ug()),this.k.Xc(this.k.Kb+1))},Ws:function(a){this.H=a;this.Kx();this.k.ke={};this.k.trigger("displayModeUpdated");this.H.Lv()},Kx:function(){var a=this.H.mode;_.isNull(a)||(a===d.ur?(this.H.xa=1,this.H.he=Math.ceil(this.k.o.numPages/this.H.xa),this.H.bc=Math.ceil(this.k.Kb/this.H.xa),this.H.Tb=this.H.bc,this.H.Mb=this.H.bc+1):a===d.vi?(this.H.xa=1,this.H.he=Math.ceil(this.k.o.numPages/this.H.xa),this.H.bc=-1,this.H.Tb=
0,this.H.Mb=this.H.he):a===d.ar?(this.H.xa=2,this.H.bc=Math.floor(this.k.Kb/this.H.xa),this.H.he=Math.ceil(this.k.o.numPages/this.H.xa),this.H.Tb=this.H.bc,this.H.Mb=this.H.bc+1):a===d.Wm?(this.H.xa=2,this.H.bc=-1,this.H.he=Math.ceil(this.k.o.numPages/this.H.xa),this.H.Tb=0,this.H.Mb=this.H.he):a===d.dk?(this.H.xa=2,this.H.bc=-1,this.H.he=Math.ceil((this.k.o.numPages+1)/this.H.xa),this.H.Tb=0,this.H.Mb=this.H.he):a===d.Zg&&(this.H.xa=2,this.H.bc=Math.floor(this.k.Kb/this.H.xa),this.H.he=Math.ceil(this.k.o.numPages/
this.H.xa),this.H.Tb=this.H.bc,this.H.Mb=this.H.bc+1))},Bl:function(a,b){return this.H.getSelectedPages(a,b)},yd:function(a,b){return this.H.getVisiblePages(a,b)},sj:function(a,b,d){return this.H.sj(a,b,d)},yc:function(a,b){return this.H.pageToWindow(a,b)},ef:function(a,b){return this.H.windowToPage(a,b)},oj:function(a){return this.H.getPageTransform(a)},nj:function(a){return this.H.getPageOffset(a)},ug:function(){this.H.createPageSections()}};a.h.Cc=d})(window);
(function(a){var g=window.h,e=XODText;g.O=function(){var d=this;this.select=_.bind(this.select,this);this.bb=e.bb;this.el=$("#viewer");this.o=null;this.defaults={FitMode:this.we.Xm,DisplayMode:new a.h.Bc(this,a.h.Cc.vi),Zoom:1};this.Kv();this.Zt=this.ko=this.hj=!1;this.Su=function(a,b){b(a)};a.h.mn(5);this.kr=function(a){this.trigger("mouseLeftUp",a);d.aa&&(d.aa.mouseLeftUp&&d.aa.mouseLeftUp(a));for(var b in d.links)if(d.links.hasOwnProperty(b)){a=d.links[parseInt(b,10)];for(var e=0;e<a.length;++e)a[e].style&&
(a[e].style.border="")}};this.jr=function(a){this.trigger("mouseLeftDown",a);d.aa&&(d.aa.mouseLeftDown&&d.aa.mouseLeftDown(a))};this.lr=function(a){this.trigger("mouseMove",a);d.aa&&(d.aa.mouseMove&&d.aa.mouseMove(a))};this.hx=function(a){this.trigger("click",a)};this.rx=function(a){this.trigger("tap",a);d.aa&&(d.aa.tap&&d.aa.tap(a))};this.jx=function(a){this.trigger("dblClick",a);d.aa&&(d.aa.mouseDoubleClick&&d.aa.mouseDoubleClick(a))};this.kx=function(a){this.trigger("keyDown",a);d.aa&&(d.aa.keyDown&&
d.aa.keyDown(a))};this.lx=function(a){this.trigger("keyUp",a);d.aa&&(d.aa.RA&&d.aa.RA(a))};this.ix=function(a){d.aa&&(d.aa.contextMenu&&d.aa.contextMenu(a))};this.mx=function(a){this.trigger("mouseEnter",a);d.aa&&(d.aa.hB&&d.aa.hB(a))};this.nx=function(a){this.trigger("mouseLeave",a);d.aa&&(d.aa.mouseLeave&&d.aa.mouseLeave(a))};this.ox=function(a){this.trigger("mouseRightDown",a);d.aa&&(d.aa.Vl&&d.aa.Vl(a))};this.px=function(a){this.trigger("mouseRightUp",a);d.aa&&(d.aa.iB&&d.aa.iB(a))};this.qx=function(a){d.aa&&
(d.aa.vv&&d.aa.vv(a))}};g.O.prototype={Uy:function(){var d=this;d.el.on("dragstart",function(a){"IMG"===a.target.nodeName&&a.preventDefault()});d.el.on("touchstart",function(a){d.jr(a)});d.el.on("touchmove",function(a){d.ib={x:a.originalEvent.touches[0].pageX,y:a.originalEvent.touches[0].pageY};d.lr(a)});d.el.on("touchend",function(a){d.kr(a);d.In=!1});d.el.on("pointerdown",function(a){d.qx(a)});d.el.dblclick(function(a){d.jx(a)});d.el.click(function(a){d.hx(a)});d.el.on("tap",function(a){d.rx(a)});
$(window).on("keydown",function(a){d.kx(a)});$(window).on("keyup",function(a){d.lx(a)});d.el.on("contextmenu",function(a){d.ix(a)});d.el.mouseenter(function(a){d.mx(a)});d.el.mousedown(function(a){1===a.which?(d.jr(a),d.In=!0):3===a.which&&(d.ox(a),d.Bs=!0)});$(document).on("mouseup",function(a){1===a.which&&d.In?(d.kr(a),d.In=!1):3===a.which&&(d.Bs&&(d.px(a),d.Bs=!1))});$(document).mousemove(function(a){d.ib={x:a.pageX,y:a.pageY};d.lr(a)});d.el.mouseleave(function(a){d.nx(a)});if(d.J.Ma().Ng)d.Fb().on("scroll",
_.bind(d.onscroll,d));$(a).on("resize",_.bind(d.resize,d));d.on("PAUSE",function(){d.Ab.pause()});d.on("RESUME",function(){d.Ab.Tf()})},resize:function(a){a&&a.target!==window||(!this.o||(!this.J.Ma().Ng||(this.hd===this.we.Zoom?(this.J.Ma().xm(),this.onscroll()):(a=this.hd(),a!==this.zoom?(this.Vi(a),this.xo()):(this.J.Ma().xm(),this.xo(),this.onscroll())))))},xo:function(){var a=this.Fb(),c=(a[0].scrollWidth-a.width()+this.Al())/2;a.scrollLeft(c)},OB:function(){this.resize()},xt:function(){this.qa.Aw();
this.fl();this.Lg(!0);this.Kv()},Kv:function(){this.o=null;this.Ab=new a.h.ux(this);this.J=new a.h.wi(this);this.J.Mv(this.defaults.DisplayMode);this.hd=this.defaults.FitMode;this.Kb=0;this.zoom=this.defaults.FitMode===this.we.Zoom?this.defaults.Zoom:1;this.am=a.h.ia.sd;this.Kc={};this.bi={QE:{},u:{}};this.links={};this.Wd=[];this.Eb=[];this.ke={};this.rw={};this.ib=this.hc=null;this.me=[];this.margin=8;this.Iv=this.Jv=0;this.qa=null;this.Xj=new e.Gc;this.ic=this.Vp=null;this.gv=this.Tp=this.Ml=this.loop=
!1;this.hv=this.iv=null;this.dw="rgba(0, 0, 200, 0.3)";this.My=[[1],[2,0]];this.qa=new a.h.K(this)},Kw:function(a){var c={};_.isUndefined(a)||(_.isObject(a)?c=a:c.docId=a);"onError"in c||(c.onError=function(a){throw Error("Error loading document: "+a);});"getPassword"in c||(c.getPassword=function(){throw Error("Document requires a password. If you wish to process this type of document please define a getPassword callback.");});"docId"in c||(c.docId=null);return c},MA:function(d){function c(){var a=
Y(),b=new XMLHttpRequest;b.open("GET","pdf/pdfnet.res",!0);b.responseType="arraybuffer";b.onload=function(){var c=b.response;c?a.resolve(c):a.reject("Couldn't fetch resource file.")};b.send(null);return a}var b=this;if(_.isUndefined(d.worker))return null;var e=d.worker,f=d.postMessageTransfers,g=d.l;if(!_.isUndefined(b.Bj))return b.Bj;b.Bj=Y();_.isUndefined(b.Im)?(d=Y(),b.Im=new ba(d,e,f),d.promise.then(function(){c().promise.then(function(c){b.Im.YA(c,g).then(function(){b.Bj.resolve(b.Im)},function(b){a.utils.error("PDFNet failed to initialize. The license key may be invalid.\n"+
b.message)})},function(){a.utils.error("Download of resource file failed")})})):b.Bj.resolve(b.Im);return b.Bj},Pf:function(d,c){var b=this;c=b.Kw(c);var e=new a.CoreControls.Document(c.docId,c.type);this.SA=e;e.Pf(d,function(d){if(e===b.SA)if(d)c.onError(d);else{null!==b.o&&b.xt();b.o=e;for(d=0;d<b.o.numPages;d++)b.Eb[d]=new a.fh(b.o.ec(d),b.o.dc(d)),_.isUndefined(b.Kc[d])||b.Em(d);b.trigger("beforeDocumentLoaded");b.Ab.init();b.J.Ws(b.J.Ma());if(b.J.Ma().mode!==a.h.Cc.cg){b.zoom=b.bo(b.hd);b.Ab.JA(b.zoom);
b.Lg();b.J.ug();b.Fm();d=b.Fb();var g=(d[0].scrollWidth+b.Al()-d.innerWidth())/2;d.scrollLeft(g)}b.Zt||(b.Zt=!0,b.Uy());b.trigger("documentLoaded")}},{annotsLoadedCallback:function(a){b.Su(a,function(a){_.isUndefined(a)||b.qa.Qu(a)})},getPassword:c.getPassword,worker:c.worker,workerTransport:b.MA(c),postMessageTransfers:c.postMessageTransfers,l:c.l})},Fb:function(){return $("#DocumentViewer")},pA:function(){return document.getElementById("DocumentViewer")},Al:function(){var a=$('<div style="width:50px;height:50px;overflow:hidden;position:absolute;top:-200px;left:-200px;"><div style="height:100px;"></div></div>');
$("body").append(a);var c=$("div",a).innerWidth();a.css("overflow-y","auto");var b=$("div",a).innerWidth();$(a).remove();return c-b},fl:function(){this.o&&this.o.cf()},dc:function(a){return this.o.dc(a)},ec:function(a){return this.o.ec(a)},ce:function(a){return this.o.ce(a)},Ef:function(){return this.qa},$B:function(a){this.Su=a},lj:function(){return this.J},vm:function(d){a.h.Qa.vm(d)},Uj:function(a){"undefined"!==typeof a.enableAnnotations&&(this.hj=a.enableAnnotations?!0:!1);"undefined"!==typeof a.annotMode&&
(this.ko=a.annotMode?!0:!1)},vp:function(){return this.zoom},ul:function(){return this.margin},bC:function(a){this.margin=a},Fu:function(){var a="",c;for(c in this.me)this.me.hasOwnProperty(c)&&(a+=this.me[parseInt(c,10)]);return a},nC:function(a){this.dw=a},sA:function(){return this.aa},eb:function(a){a=this.Kc[a-1];return _.isUndefined(a)?this.am:a},lC:function(a,c){var b;0<=a&&(3>=a&&(_.isUndefined(c)?(this.am=a,this.Kc={}):(b=c-1,this.Kc[b]=a),this.rotate(b)))},Yz:function(a){return this.o.iA(a-
1)},eC:function(a){this.Kc=a;a=this.o.numPages;for(var c=0;c<a;++c)this.Em(c);this.Vi(this.hd(),void 0,void 0,!0)},jA:function(){return this.Kc},getDocument:function(){return this.o},Hu:function(a){var c=null;this.Ab.df&&(c=this.J.Ma(),c=c.sj(a,c.gk(this.Ab.cd,this.Ab.cd)));return c},Ff:function(d){var c=this.sc(d),b=this.Ha(d),e=this.J.oj(d),f,g=this.Hu(d);g&&(f=g.lq,e=g.Hq);return a.h.Qa.Ff(d,c,b,this.eb(d+1),e,f)},bA:function(){return this.hd},qC:function(a){this.Ab.Pa=a},zz:function(a){a.url?
this.xp(a.url):this.Gh(a.Yh,a.ni,a.Oh)},Gh:function(a,c,b){this.J.Ma().Ng?(this.Xc(a),a=this.J.yc({x:b,y:c},a-1),c=this.Fb().offset(),this.scrollTo(a.x-c.left,a.y-c.top)):this.trigger("displayPageLocation",[a,c,b])},scrollTo:function(a,c){this.Fb().scrollLeft(a).scrollTop(c)},EC:function(a,c,b){this.iv=a;this.hv=c;this.Tp=!0;this.gv=b},KC:function(a){var c=!1;if(null===this.Vp||this.Vp!==a)c=!0;if(null===this.loop||!0===this.loop)c=!0;this.Vp=a;this.ic!==this.Kb&&(this.ic=this.Kb,c=!0);return c},
gw:function(a,c,b,g){b=b||!1;for(var f=this,n=!0,l=0;l<a.length;++l){var p=a.charCodeAt(l);if(!(1424<=p&&1535>=p||(1536<=p&&1791>=p||(1872<=p&&1919>=p||(64336<=p&&65023>=p||65136<=p&&65279>=p))))){n=!1;break}}n&&(a=a.split("").reverse().join(""));f.WE=f.Kb;if(!0===this.Ml)this.EC(a,c,b);else{n=b?function(){}:function(a){a.nm===e.ab.gj?f.Ot(a):a.nm===e.ab.Df&&f.trigger("notify","endOfDocumentSearch")};g=g||n;if(b||this.KC(a))b?(n=this.ic=0,l=this.o.numPages-1):0<(c&e.bb.Po)?(l=!0===this.loop?this.o.numPages-
1:this.ic,n=0):(n=!0===this.loop?0:this.ic,l=this.o.numPages-1),this.Xj.Ty(this.o,a,c,n,l);this.Xj.setMode(c);this.MC(b,g)}},MC:function(a,c){function b(){function b(){l=[];n=f.Xj.run(l);p=n.nm;n.iq=l;var r=n;r.ambient_str=n.it;r.result_str=n.oq;r.result_str_start=n.Ev;r.result_str_end=n.Dv;r.page_num=n.bm;r.resultCode=p;r.quads=l;if(p===e.ab.hl){if(f.Xj.fe()?0<f.ic&&f.ic--:f.ic<f.o.numPages-1&&f.ic++,!0===f.Tp){f.Tp=!1;f.Ml=!1;setTimeout(function(){f.gw(f.iv,f.hv,f.gv,c)},0);return}}else p===e.ab.gj?
(f.me=[],f.me[n.bm]=n.oq):p!==e.ab.Df||(a||(f.loop=!0));c(r);p===e.ab.Df||!a&&p===e.ab.gj?f.Ml=!1:null!==f.o.Bu(f.ic)?setTimeout(b,0):f.o.kd(f.ic,g)}var p=-1;null!==f.o.Bu(f.ic)?setTimeout(b,0):f.o.kd(f.ic,g)}function g(a){p===f.o&&(f.o.fC(f.ic,a),b())}var f=this;this.Ml=!0;!0===this.loop&&(f.ic=this.Xj.fe()?this.o.numPages-1:0,this.loop=!1);var n,l=[],p=this.o;b()},Yu:function(a,c){a!==this.Kb&&this.Xc(a+1);if(0<c.length){for(var b=c[0].qe,e=c[0].oe,f=c[0].y2,g=c[0].x2,l=1;l<c.length;l++)c[l].oe<
e&&(e=c[l].oe),c[l].qe<b&&(b=c[l].qe),c[l].x2>g&&(g=c[l].x2),c[l].y2>f&&(f=c[l].y2);var l=this.Fb(),p=l.scrollTop(),m=p+l.innerHeight(),q=l.scrollLeft(),r=q+l.innerWidth(),b=this.J.yc({x:e,y:b},a),u=this.J.yc({x:g,y:f},a),g=b.x<u.x?b.x:u.x,f=b.y<u.y?b.y:u.y,e=b.x>u.x?b.x:u.x,b=b.y>u.y?b.y:u.y;if(g<q||(f<p||(e>r||b>m)))p=e-g,m=b-f,p=g-l.innerWidth()/2+p/2-l.offset().left,l=f-l.innerHeight()/2+m/2-l.offset().top,this.scrollTo(p,l)}},Ot:function(a,c){var b=a.bm;this.ke={};this.ke[b]=a.iq;"undefined"!==
typeof c?c(b,a.iq):this.Yu(b,a.iq);this.Do();this.wj(b)},QB:function(a,c,b){var g=new e.oa;g.Va(c.x,c.y,c.x+1,c.y+1);var f=this,n=new e.ok(this.o),l=this.o;l.kd(a,function(){l===f.o&&(n.xy(a,g),b(a,n.Dg(),n.Da))})},ii:function(a,c,b){if(c.constructor!==e.oa){var g=new e.oa;g.Va(c.x1,c.y1,c.x2,c.y2);c=g}var f=this,n=new e.ok(this.o),l=this.o;l.kd(a,function(){if(l===f.o){"rectangular"===Tools.Xb.SELECTION_MODE?n.RB(a,c):n.PB(a,c);var e=n.Da,g=n.Dg();b&&b(a,g,e)}})},fm:function(a,c,b){this.me[a]=b;
this.ke[a]=c;this.trigger("textSelected",[c,b,a]);this.Do();this.GA()},Fz:function(a){this.wj(a-1)},wj:function(a){var c=this.ke[a];if(c&&(0!==c.length&&(a=this.Ff(a),null!==a)))for(var b=0;b<c.length;b++){var e=c[b],f=a.getContext("2d");f.fillStyle=this.dw;f.beginPath();f.moveTo(e.x1,e.y1);f.lineTo(e.x2,e.y2);f.lineTo(e.oi,e.pi);f.lineTo(e.oe,e.qe);f.closePath();f.fill()}},GA:function(){for(var a in this.ke)this.ke.hasOwnProperty(a)&&this.wj(parseInt(a,10))},select:function(a,c){if(null!==this.hc&&
null!==this.ib||(a||c)){this.ke=[];this.me=[];var b;a&&c?(a.Dd=a.pageIndex,a.x=a.x,a.y=a.y,c.Dd=c.pageIndex,c.x=c.x,c.y=c.y,b={first:a.Dd,last:c.Dd}):(console.error("deprecated"),b=this.J.Bl());var g=b.first;b=b.last;if(null!==g&&null!==b){var f=new e.oa,n=a?a:this.J.ef(this.hc,g),l=c?c:this.J.ef(this.ib,g),p;n.y>l.y&&(p=n,n=l,l=p);p=this.o.ec(g);var m=this.o.dc(g);1<=b-g?f.Va(n.x,n.y,p,m):f.Va(n.x,n.y,l.x,l.y);this.ii(g,f,_.bind(this.fm,this));for(n=g+1;n<b;n++)f=new e.oa,p=this.o.ec(n),m=this.o.dc(n),
f.Va(0,0,p,m),this.ii(n,f,_.bind(this.fm,this));g!==b&&(n=a?a:this.J.ef(this.hc,b),l=c?c:this.J.ef(this.ib,b),n.y>l.y&&(l=n),f=new e.oa,f.Va(0,0,l.x,l.y),this.ii(b,f,_.bind(this.fm,this)))}}},vt:function(d){if(0!==this.Fu().length){var c=this.Ff(d);if(null!==c){var b=this.sc(d);a.h.Qa.zo(c,b.width,b.height);this.hj&&this.qa.yb(d+1)}}},Do:function(){var a=this;$.each(this.me,function(c){a.vt(c)})},Co:function(){this.Do();this.ke={};this.me=[];this.trigger("textSelected",[null,""])},zl:function(d,c){d=
a.xe(this.Ha(c),this.eb(c+1),this.o.tc(c),0,!1).wa(d);return{x:d.x,y:d.y}},we:{Xm:function(){var a=this.Al(),c=this.Fb(),b=this.J.Ma().af;1===this.J.Ma().xa&&(b=this.Eb[this.Kb].width);return parseFloat(c.innerWidth()-a-this.margin*this.J.Ma().xa*2)/b},br:function(){var a=this.Fb(),c=this.Eb[this.Kb],b=parseFloat(a.innerHeight()-2*this.margin)/c.height,e=this.J.Ma().af;1===this.J.Ma().xa&&(e=c.width);a=parseFloat(a.innerWidth()-this.Al()-this.margin*this.J.Ma().xa*2)/e;return b<a?b:a},Zoom:function(){this.ht();
return this.zoom}},oC:function(a){if(a&&this.aa!==a){this.Co();var c;this.aa&&(this.aa.switchOut&&this.aa.switchOut(a),c=this.aa);a.switchIn&&a.switchIn(this.aa);this.aa=a;this.trigger("toolModeUpdated",[a,c])}},bD:function(){var a=this.Fb();this.Jv=parseFloat(a.scrollTop())/a[0].scrollHeight;this.Iv=parseFloat(a.scrollLeft()+a.innerWidth()/2)/a[0].scrollWidth},aD:function(){var a=this.Fb(),c=this.Jv*a[0].scrollHeight,a=this.Iv*a[0].scrollWidth-a.innerWidth()/2;this.scrollTo(a,c)},sq:function(d){null===
this.o?(this.hd=d,this.trigger("fitModeUpdated",this.hd)):(d=this.bo(d),this.J.Ma().mode===a.h.Cc.cg?this.zoom=d:d!==this.zoom&&(this.Vi(d),this.xo()))},bo:function(a){this.hd=a;a=this.hd();this.trigger("fitModeUpdated",this.hd);return a},Em:function(d){var c=this.eb(d+1),b=this.ec(d),e=this.dc(d);switch(c){case a.h.ia.sd:case a.h.ia.xg:this.Eb[d].width=b;this.Eb[d].height=e;break;case a.h.ia.gd:case a.h.ia.ud:this.Eb[d].width=e,this.Eb[d].height=b}},rotate:function(a){var c;if(_.isUndefined(a))for(var b=
0;b<this.Eb.length;b++)this.Em(b);else this.Em(a),c=a+1;this.J.Ma().Lv();this.Vi(this.hd(),void 0,void 0,!0);this.trigger("rotationUpdated",[this.eb(a+1),c])},Nh:function(a,c){return c?(a+1)%4:(a-1+4)%4},JB:function(a){var c;if(_.isUndefined(a)){this.am=this.Nh(this.eb(),!0);for(var b in this.Kc)this.Kc[b]=this.Nh(this.Kc[b],!0)}else c=a-1,this.Kc[c]=this.Nh(this.eb(a),!0);this.rotate(c)},KB:function(a){var c;if(_.isUndefined(a)){this.am=this.Nh(this.eb(),!1);for(var b in this.Kc)this.Kc[b]=this.Nh(this.Kc[b],
!1)}else c=a-1,this.Kc[c]=this.Nh(this.eb(a),!1);this.rotate(c)},Vi:function(a,c,b,e){this.zoom=a;this.J.Ma().Ng&&("undefined"!==typeof c&&"undefined"!==typeof b?(this.Lg(),this.J.ug(),this.scrollTo(c,b)):(this.bD(),this.Lg(!1,e),this.J.ug(),this.aD()),this.Fm(),this.trigger("zoomUpdated",this.zoom))},Tq:function(a,c,b){this.bo(this.we.Zoom);null===this.o?(this.zoom=a,this.trigger("zoomUpdated",this.zoom)):this.Vi(a,c,b)},Ha:function(a){a=this.rw[a];return"undefined"!==typeof a?a:this.zoom},gC:function(a,
c){this.Ab.qD(a);this.rw[a]=c},Lg:function(d,c){this.Ab.ez(this.zoom,c);this.links=[];if(this.J.Ma().mode!==a.h.Cc.cg){var b=this.Ab.Pa,e=this.bi.u;this.bi.u={};for(var f=0;f<b.length;f++){var g=b[f];if(!c){var l;l=this.gD?$("#pageContainer"+g).find("#hrthumb"+g):$("#pageContainer"+g).find(".canvas"+g+":not(.progressive)");0<l.length?this.bi.u[g]=l:g in e&&(this.bi.u[g]=e[g])}}}d?this.el.empty():(this.el.find(".link").remove(),this.el.children().detach())},jm:function(a){if(this.J.Ma().Ng){var c=
$("#pageContainer"+a);c.children().detach();c.addClass("loading")}a in this.links&&delete this.links[a]},ao:function(a){if(0>a||a>=this.Eb.length)return!1;this.Kb!==a&&(this.Kb=a,this.trigger("pageNumberUpdated",a+1));return!0},Xc:function(d){if(!this.J.Ma().Ng)this.trigger("changePage",d);else if(!1!==this.ao(parseInt(d,10)-1)){this.Ct=!0;d=this.Kb;var c=this.J.Ma();c.Ep()||(c.mode===a.h.Cc.cg||(this.J.Ma().mode===a.h.Cc.Zg&&d++,c.bc=Math.floor(parseFloat(d)/c.xa),c.Tb=c.bc,c.Mb=c.bc+1,this.Lg(),
this.J.ug()));d=this.o.tc(this.Kb);var c=this.J.yc({x:0,y:0},this.Kb),b=this.J.yc({x:d.width,y:d.height},this.Kb);d=c.x<b.x?c.x:b.x;c=c.y<b.y?c.y:b.y;b=this.Fb().offset();this.scrollTo(d-b.left,c-this.margin-b.top);this.Fm()}},Ih:function(){return this.Kb+1},If:function(){return this.o.numPages},Bz:function(){this.Xc(this.Eb.length)},Az:function(){this.Xc(1)},ht:function(a){a=a||this.J.Ma().Iq;var c=0,b=document.getElementById("docpad");if(null!==b){var e=this.pA(),e=e?parseFloat(e.style.height):
0;e>a&&(c=Math.floor((e-a)/2));b.style.marginBottom=parseInt(c,10)+"px"}},Pv:function(d,c){var b=this;if(c instanceof a.h.ye)$(d).on("tap",function(){b.ko||(isNaN(c.md)||(b.J.Ma().Ng&&(c.Lo?b.Lu(c):b.Gh(c.md,c.Gm,c.El)),b.trigger("displayPageLocation",[c.md,c.Gm,c.El])))});else if(c instanceof a.h.eg)$(d).on("tap",function(){b.ko||b.xp(c.target)});else throw Error("Unknown annotation type");b.trigger("linkReady",[d,c]);d=null},Lu:function(a){var c=a.md;switch(a.Lo){case "XYZ":_.isNaN(a.Gb.zoom)||
(0===a.Gb.zoom||this.Tq(a.Gb.zoom));_.isNull(a.Gb.top)&&(a.Gb.top=0);_.isNull(a.Gb.left)&&(a.Gb.left=0);this.Gh(c,a.Gb.top,a.Gb.left);break;case "Fit":case "FitB":case "FitV":case "FitBV":this.Xc(c);this.sq(this.we.br);this.Gh(c,-this.ul(),0);break;case "FitH":case "FitBH":this.Xc(c);this.sq(this.we.Xm);_.isNull(a.Gb.top)||this.Gh(c,a.Gb.top,0);break;case "FitR":var b=a.Gb.right-a.Gb.left,e=a.Gb.bottom-a.Gb.top,b=this.Fb().innerWidth()/b,e=this.Fb().innerHeight()/e;this.Tq(Math.min(b,e));this.Gh(c,
a.Gb.top,a.Gb.left);break;default:this.Xc(c)}},xp:function(a){0!==a.indexOf("http://")&&(0!==a.indexOf("https://")&&(0!==a.indexOf("ftp://")&&(0!==a.indexOf("mailto:")&&(a=-1!==a.indexOf("@")?"mailto:"+a:"http://"+a))));window.open(a)},Iy:function(a,c){for(var b=[],e=this.o.yu(c),f=0;f<e.length;++f){var g=e[f],l=document.createElement("span");l.className="link";l.setAttribute("data-page",c);var p={x:g.sg[0],y:g.sg[1]},m={x:g.sg[2],y:g.sg[3]};p.x=Math.max(p.x,0);m.x=Math.min(m.x,this.o.ec(c));p.y=
Math.max(p.y,0);m.y=Math.min(m.y,this.o.dc(c));var q=this.J.nj(c),p=this.zl(p,c),p={x:p.x+q.x,y:p.y+q.y},m=this.zl(m,c),m={x:m.x+q.x,y:m.y+q.y};l.style.left=Math.floor(Math.min(p.x,m.x))+"px";l.style.top=Math.floor(Math.min(p.y,m.y))+"px";l.style.width=Math.floor(Math.abs(m.x-p.x))+"px";l.style.height=Math.floor(Math.abs(m.y-p.y))+"px";this.Pv(l,g);a.appendChild(l);b.push(l)}this.links[c]=b},Hy:function(d,c){for(var b=this.o.zu(c),e=0;e<b.length;++e){var f=b[e],g=a.za.sv(f.Rect[0],f.Rect[1],f.Rect[2],
f.Rect[3],c,this.qa),l=this.J.nj(c),p=document.createElement("span");p.className="link";p.setAttribute("data-page",c);p.style.left=g.x+l.x+"px";p.style.top=g.y+l.y+"px";p.style.width=g.w+"px";p.style.height=g.Qe+"px";d.appendChild(p);this.Pv(p,f)}this.links[c]=b},mt:function(d,c,b,e){var f=this.Ha(c),g=this.Eb[c];d.id=(e?"hrthumb":"thumb")+c;d.style.position="absolute";var l=this.eb(c+1),p=l===a.h.ia.gd||l===a.h.ia.ud,m=g.width*f,f=g.height*f,g=$(d),q=null;p?(p="rotate("+90*l+"deg)",q=l===a.h.ia.gd?
" translate("+m+"px, 0)  "+p:" translate(0,"+f+"px)  "+p,g.css("height",m),g.css("width",f)):(l===a.h.ia.xg&&(q="translate("+m+"px,"+f+"px) scale(-1,-1)"),g.css("width",m),g.css("height",f));null!==q&&g.css({position:"absolute",transform:q,"transform-origin":"top left","ms-transform":q,"ms-transform-origin":"top left","-moz-transform":q,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":q,"-o-transform":q,"-o-transform-origin":"top left"});b&&(g.css("z-index",
e?"10":"7"),b=$("#pageContainer"+c),0<b.length?0===b.find("#"+d.id).length&&b.prepend(d):a.utils.warn("appendThumb: Page container "+c+" missing"))},Oo:function(a){this.Tk(a);this.vt(a);this.qa&&(this.Dm(a),this.qa.yb(a+1),this.qa.wt(a),this.qa.St(a+1));this.wj(a)},Xi:function(d,c){a.h.Qa.Xi(d,c)||a.utils.warn("appendAllCanvas: Page container for page "+c+" does not exist.")},Tk:function(d){var c,b=this.Hu(d);b&&(c=b.lq);a.h.Qa.Tk(d,this.o.tc(d),this.Ha(d),this.eb(d+1),c)},pm:function(d,c){a.h.Qa.pm(d,
c)},iz:function(a,c,b,e){var f=document.createElement("div");f.id="pageSection"+a;f.style.width=Math.floor(e*this.zoom)+"px";f.style.height=Math.floor(b*this.zoom)+"px";f.style.margin=this.margin+"px";f.style.cssFloat="left";e=this.sc(a);var g=document.createElement("div");g.id="pageContainer"+a;g.className="pageContainer loading";g.style.zIndex="1";c=this.My[this.J.Ma().xa-1][c];1===c?(g.style.marginLeft="auto",g.style.marginRight="auto"):g.style.cssFloat=0===c?"left":"right";g.style.width=0;g.style.width=
Math.floor(e.width*this.zoom)+"px";g.style.height=Math.floor(e.height*this.zoom)+"px";f.appendChild(g);this.el[0].appendChild(f);c=document.createElement("div");c.id="pad"+a;c.style.marginBottom=parseInt((b*this.zoom-this.sc(a).height*this.zoom)/2,10)+"px";f.insertBefore(c,f.firstChild);if(this.bi.u[a]){a=this.bi.u[a];var l=parseFloat(a.css("width")),p=parseFloat(g.style.width)/l;a.each(function(){var a=$(this);a.css({top:parseFloat(a.css("top"))*p,width:l*p,height:parseFloat(a.css("height"))*p});
g.appendChild(this)})}},sc:function(d){return-1===d?new a.fh(0,0):this.Eb[d]},Dm:function(d){var c=a.h.Qa.tj(d);c.find('.link[data-page="'+d+'"]').remove();_.isArray(this.o.yu(d))?this.Iy(c[0],d):this.Hy(c[0],d)},Fm:function(a,c){_.isUndefined(c)||this.ao(c);this.qC(_.isUndefined(a)?this.J.yd():a);this.Ab.Jt(a)},Mq:function(){this.Ab.Mq()},Ug:function(a){this.Ab.Ug(a)},onscroll:function(){this.Ab.$y();this.YC()},EA:function(a){return 0<$("#pageContainer"+a).find("#thumb"+a).length},DA:function(a){return 0<
$("#pageContainer"+a).find("#hrthumb"+a).length},YC:function(){if(this.Ct)this.Ct=!1;else{for(var d=0,c,b=this.J.yd(),e=0;e<b.length;e++){var f=this.Fb(),g=f.scrollTop(),l=g+f.innerHeight(),p=f.scrollLeft(),f=p+f.innerWidth(),l={x1:p,y1:g,x2:f,y2:l},f=b[e];0>f||(g=this.o.tc(f),p=this.J.yc({x:0,y:0},f),f=this.J.yc({x:g.width,y:g.height},f),l=a.utils.getRectIntersection(l,{x1:p.x<f.x?p.x:f.x,y1:p.y<f.y?p.y:f.y,x2:p.x>f.x?p.x:f.x,y2:p.y>f.y?p.y:f.y}),g=parseFloat((l.x2-l.x1)*(l.y2-l.y1))/(g.width*g.height),
g>d&&(c=b[e],d=g))}0<d&&this.ao(c)}},yq:function(a){this.Ab.yq(a)},wq:function(a){this.Ab.wq(a)}};$.extend(g.O.prototype,a.utils.eventHandler);Object.defineProperty(g.O.prototype,"zoom",{get:function(){return this.pg},set:function(a){this.pg=a;this.gD=this.Ab.df;this.Ab.cD(a)}});a.h=a.h||{}})(window);window.h.O.prototype.version="2.0.0.30835";
(function(a){function g(){}function e(b){this.size=b;this.ac=Array(this.size);for(b=0;b<this.size;b++)this.ac[b]={$d:a.h.Qa.nh(1,1,1),Zp:a.h.Qa.nh(1,1,1),uo:null,Ig:[],uc:!1}}var d={Dr:"ViewportCanvas",mr:"PageCanvas"};e.prototype={sl:function(a,b){for(var c=Math.floor(a/b),d=null,e=0;e<this.size;e++){if(this.ac[e].uo===c)return-1===this.ac[e].Ig.indexOf(a)&&this.ac[e].Ig.push(a),this.ac[e].uc=!0,this.ac[e];this.ac[e].uc||(d=this.ac[e])}return d?(d.uo=c,d.Ig.push(a),d.uc=!0,d):null},Nj:function(a){for(var b=
0;b<this.size;b++){var c=this.ac[b].Ig,d=c.indexOf(a),e=!1;-1<d&&(c.splice(d,1),e=!0);if(e&&0===c.length){this.ut(this.ac[b]);break}}},Mj:function(){for(var a=0;a<this.size;a++)this.ut(this.ac[a])},ut:function(a){a.uo=null;a.uc=!1;$(a.$d).removeAttr("style").removeClass();$(a.Zp).removeAttr("style").removeClass();var b=a.$d,c=b.width;b.width=1;b.width=c;a.$d.getContext("2d").clearRect(0,0,a.$d.width,a.$d.height);a.Ig=[]},IC:function(a,b,c){a=this.sl(a,c);_.isNull(b)&&(b=a.Zp);a.Zp=a.$d;a.$d=b}};g.prototype=
{Oq:!1,init:function(){var b=a.innerWidth,c=a.innerHeight;this.ac=new e(3);this.Uk=new e(3);this.ld=this.nh(b,c,1);this.Ij=1},vm:function(a){this.Ij=a},Bo:function(){var a=this.ld.getContext("2d");a.restore();a.clearRect(0,0,this.ld.width,this.ld.height);this.ld.getAttribute("style");this.ld.removeAttribute("style")},pm:function(a,b){this.ac.IC(a,b,this.Ij)},Nj:function(a){this.ac.Nj(a);this.Uk.Nj(a)},Mj:function(){this.ac.Mj();this.Uk.Mj()},Pk:function(b,c,d,e){var g=$(b),m=""===b.style.height||
1<Math.abs(parseInt(b.style.height,10)-d);if(""===b.style.width||(1<Math.abs(parseInt(b.style.width,10)-c)||m))e=a.utils.getCanvasMultiplier(c,d,e),m=d*e,b.setAttribute("width",c*e),b.setAttribute("height",m),g.css("width",c),g.css("height",d)},nh:function(a,b,c,d){if("undefined"===typeof d||null===d)d=document.createElement("canvas");this.Pk(d,a,b,c);return"undefined"===typeof d.getContext("2d")?null:d},ay:function(a,b,c,d){var e=1,g=null,q=a;if(1>=a*c||1>=b*c)g=this.nh(1,1,1);var r=a/b;64E6<a*b&&
(b=Math.sqrt(64E6/r),e=r*b/a,a=r*b);r=null;for("undefined"===typeof d&&(d=0.25);null===g;){var r=this.nh(Math.ceil(a*e),Math.ceil(b*e),c,r),u=r.getContext("2d");u.fillStyle="white";u.fillRect(r.width-1,r.height-1,1,1);u=!(1>window.devicePixelRatio)&&(r.width<parseFloat(r.style.width)||r.height<parseFloat(r.style.height));if(null!==r&&(0<this.gy(r)&&!u))g=r;else if(e-=d,0>=e)return console.error("No canvas could be created"),null}1>e&&(a="scale("+q/parseFloat(g.style.width)+")",$(g).css({transform:a,
"transform-origin":"top left","ms-transform":a,"ms-transform-origin":"top left","-moz-transform":a,"-moz-transform-origin":"top left","-webkit-transform-origin":"top left","-webkit-transform":a,"-o-transform":a,"-o-transform-origin":"top left"}));$(g).css("position","absolute");g.getContext("2d").clearRect(g.width-1,g.height-1,1,1);return g},gy:function(a){return a.getContext("2d").getImageData(a.width-1,a.height-1,1,1).data[3]},zo:function(a,b,c){if(!a)throw Error("Canvas not defined");b=b||a.width;
c=c||a.height;a.getContext("2d").clearRect(0,0,b,c)},su:function(b,c,d,e,g,m){if(b!==this.ld)throw Error("Canvas drawing error");var q=this.ac.sl(c,this.Ij);b=q.$d;this.Pk(b,parseFloat(this.ld.style.width),parseFloat(this.ld.style.height),d);c<=q.Ig.sort()[0]&&(b.width=b.width);c=a.utils.getCanvasMultiplier(m.width,m.height,d);d=a.xe(d,e,m,g,!0,c);e=b.getContext("2d");e.save();e.transform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);e.fillStyle="white";e.fillRect(0,0,m.width,m.height);e.restore();e.drawImage(this.ld,
0,0);this.Bo();return b},Sv:function(b,c,d,e){var g=a.innerWidth,m=a.innerHeight;this.Pk(this.ld,g,m,c);g=a.utils.getCanvasMultiplier(g,m,c);c=a.xe(c,d,b,e,!0,g);d=this.ld.getContext("2d");d.restore();d.save();d.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);a.utils.canvasClipBug||(d.beginPath(),d.rect(0,0,b.width,b.height),d.clip());return{canvas:this.ld,ctx:d,t:c}},Xi:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;var d=$(a);d.css({"z-index":"20",position:"absolute"});
d.addClass("hacc canvas"+b);return c.parentNode},iy:function(a,b,c,d){a=this.Uk.sl(a,this.Ij).$d;this.Pk(a,b,c,d);return a},Ff:function(b,c,d,e,g){b=$("#pageContainer"+b).parent().find(".auxiliary")[0];if(_.isUndefined(b))return null;var m=b.getContext("2d");m.restore();m.save();var q=a.utils.getCanvasMultiplier(parseFloat(b.style.width),parseFloat(b.style.height),d);d=a.xe(d,e,c,g,!0,q);m.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v);a.utils.canvasClipBug||(m.beginPath(),m.rect(0,0,c.width,c.height),
m.clip());return b},Tk:function(b,c,d,e){var g=document.getElementById("pageContainer"+b);if(!g)return null;g=$(g).parent();if(0<g.find(".auxiliary").length)c=this.Uk.sl(b,this.Ij),b<=c.Ig.sort()[0]&&(c=c.$d,e=c.width,c.width=1,c.width=e);else{var m=a.innerWidth,q=a.innerHeight,r=this.iy(b,m,q,d);b=$(r);b.addClass("auxiliary");b.css({"z-index":"30",position:"absolute",display:""});g.append(r);b=r.getContext("2d");d*=parseFloat(r.style.width)/m;m=a.utils.getCanvasMultiplier(m,q,d);c=a.xe(d,e,c,null,
!0,m);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v);return g[0]}},tj:function(a){return $("#pageContainer"+a).parent()}};var c=new g,b=new g;$.extend(b,{Oq:!0,init:function(){},vm:function(){},Bo:function(){},pm:function(){},Nj:function(){},Mj:function(){},zo:function(a){if(!a)throw Error("Canvas not defined");var b=a.getContext("2d");b.save();b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.width,a.height);b.restore()},su:function(a){return a},Sv:function(b,c,d,e,g,m){e=!1;if(d===a.h.ia.gd||d===
a.h.ia.ud)e=!0;g=!_.isUndefined(m);var q,r;g?(q=(e?m.y2-m.y1:m.x2-m.x1)*c,r=(e?m.x2-m.x1:m.y2-m.y1)*c):(q=e?b.height*c:b.width*c,r=e?b.width*c:b.height*c);var u;e=this.nh(q,r,c);u=parseFloat(e.style.width);r=a.utils.getCanvasMultiplier(q,r,c);b=a.xe(u/q*c,d,g?m:b,{x:0,y:0},!0,r);c=e.getContext("2d");a.Vo||(e.style.backgroundColor="white");c.transform(b.m_a,b.m_b,b.m_c,b.m_d,b.m_h,b.m_v);return{canvas:e,ctx:c,t:b}},Xi:function(a,b){var c=document.getElementById("pageContainer"+b);if(!c)return null;
$(c).find(".canvas"+b).remove();var d=a.TE,e=$(a);e.css({"z-index":"20",position:"absolute"});e.addClass("hacc canvas"+b);_.isUndefined(d)||e.css("top",function(a){return a*d});$(c).append(e);return c},ws:function(a){return{width:a.x2-a.x1,height:a.y2-a.y1}},Us:function(b,c){var d=!1;if(c===a.h.ia.gd||c===a.h.ia.ud)d=!0;var e=b.width,g=b.height,e=d?b.height:b.width,g=d?b.width:b.height;return{width:e,height:g}},Ff:function(b,c,d,e,g,m){b=$("#pageContainer"+b).find(".auxiliary");if(0<b.length){if(m){var q=
b[0];c=q.getContext("2d");c.restore();c.save();var q=a.utils.getCanvasMultiplier(parseFloat(q.style.width),parseFloat(q.style.height),d),r=this.Us(this.ws(m),e),u=Math.round(r.width*d),r=Math.round(r.height*d),s=parseFloat(b.css("width")),v=parseFloat(b.css("height"));b.css({left:g.x,top:g.y});(1<Math.abs(s-u)||1<Math.abs(v-r))&&b.attr({width:u*q,height:r*q}).css({width:u,height:r});d=a.xe(d,e,m,null,!0,q);c.setTransform(d.m_a,d.m_b,d.m_c,d.m_d,d.m_h,d.m_v)}return b[0]}return null},Tk:function(b,
c,d,e,g){b=document.getElementById("pageContainer"+b);if(!b)return null;b=$(b);if(!(0<b.find(".auxiliary").length)){var m;g?(m=this.ws(g),g=m.width,m=m.height):(g=c.width,m=c.height);m=this.Us({width:g,height:m},e);g=m.width*d;m=this.ay(g,m.height*d,d,0.2);var q=$(m);q.addClass("auxiliary");q.css({"z-index":"30",position:"absolute"});b.prepend(m);b=m.getContext("2d");b.clearRect(0,0,m.width,m.height);c=a.xe(parseFloat(m.style.width)/g*d,e,c);b.transform(c.m_a,c.m_b,c.m_c,c.m_d,c.m_h,c.m_v)}},tj:function(a){return $("#pageContainer"+
a)}});a.h.Jx=function(e){if(e===d.Dr)a.h.Qa=c;else if(e===d.mr)a.h.Qa=b;else throw Error("Invalid Canvas Manager type");a.h.Qa.init()};a.h.Rm=d;a.h.Qa=b;a.h.Qa.init()})(window);
(function(a){function g(c,b,g,f){for(var n=b.password||b.p,l=b.type.toUpperCase(),p=e.length,m,q=0;q<p;q++)e[q].done&&(m=e[q]);!m&&(4>p&&(m={done:!1,Mc:new Worker(a.h.tp()+"DecryptWorker.js"),callback:f},e[p]=m,m.Mc.addEventListener("message",function(a){if(a.data.error)throw b.error&&b.error(a.data.error),Error(a.data.error);m.callback(a.data);0<d.length?(a=d[0],d.shift(),m.done=!1,m.callback=a.callback,m.Mc.postMessage({data:a.data,password:a.password,partName:a.Kg,type:l})):(m.callback=null,m.done=
!0)})));m?(m.done=!1,m.callback=f,m.Mc.postMessage({data:c,password:n,partName:g,type:l})):d.push({data:c,password:n,Kg:g,type:l,callback:f})}var e=[],d=[];a.h=a.h||{};a.h.ah=a.h.ah||{};a.h.ah.vg=function(a,b,d,e){g(a,b,d,e)};a.h.ah.pz=function(c,b,d){var e=b.password||b.p;switch(b.type.toUpperCase()){case "AES":c=a.Ht(c,e,d);break;default:c=a.Ht(c,e,d)}if(c.error)throw b.error&&b.error(c.error),Error(c.error);return c}})(window);
(function(a){a.Ht=function(a,e,d){for(var c=[],b=0;16>b;++b){c[b]=b;b<e.length&&(c[b]|=e.charCodeAt(b));var k=d.length+b-16;0<=k&&(c[b]|=d.charCodeAt(k))}e=[];for(d=0;16>d;++d)e.push(a.charCodeAt(d));a=a.slice(16);c=forge.aes.startDecrypting(c,e);c.update(forge.util.createBuffer(a));return c.finish()?c.output.data:{error:"Bad password or file corrupt"}}})(self);
(function(a){a.CoreControls=function(){};a.CoreControls.setWorkerPath=a.h.rC;a.CoreControls.getWorkerPath=a.h.tp;a.CoreControls.setAdvancedImageScaling=a.h.VB;a.CoreControls.setProgressiveTime=a.h.jC;a.XODText=XODText;a.XODText.ResultCode=XODText.ab;a.XODText.ResultCode.e_done=XODText.ab.Df;a.XODText.ResultCode.e_page=XODText.ab.hl;a.XODText.ResultCode.e_found=XODText.ab.gj;a.XODText.Quad=XODText.Ra;a.XODText.Quad.prototype.getPoints=XODText.Ra.prototype.Cu;a.XODText.Matrix2D=XODText.Ja;a.XODText.Matrix2D.prototype.initMatrix=
XODText.Ja.prototype.Fl;a.XODText.Matrix2D.prototype.initCoordinates=XODText.Ja.prototype.Va;a.XODText.Matrix2D.prototype.mult=XODText.Ja.prototype.wa;a.CoreControls.Encryption=a.h.ah;a.CoreControls.Encryption.decrypt=a.h.ah.vg;a.CoreControls.PartRetrievers=function(){};a.CoreControls.PartRetrievers.PartRetriever=a.h.v.Pd;a.CoreControls.PartRetrievers.PartRetriever.prototype.setErrorCallback=a.h.v.Pd.prototype.ZB;a.CoreControls.PartRetrievers.PartRetriever.prototype.setCustomHeaders=a.h.v.Pd.prototype.YB;
a.CoreControls.PartRetrievers.CacheHinting=a.h.v.bg;a.CoreControls.PartRetrievers.CacheHinting.NEVER_CACHE=a.h.v.bg.en;a.CoreControls.PartRetrievers.CacheHinting.CACHE=a.h.v.bg.Wq;a.CoreControls.PartRetrievers.CacheHinting.NO_HINT=a.h.v.bg.bx;a.CoreControls.PartRetrievers.LocalPartRetriever=a.h.v.Zw;a.CoreControls.PartRetrievers.HttpPartRetriever=a.h.v.zi;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.requestDocument=a.h.v.Pd.prototype.km;a.CoreControls.PartRetrievers.HttpPartRetriever.prototype.request=
a.h.v.Pd.prototype.W;a.CoreControls.PartRetrievers.ExternalHttpPartRetriever=a.h.v.Vm;a.CoreControls.PartRetrievers.StreamingPartRetriever=a.h.v.Lx;a.CoreControls.PartRetrievers.WebDBPartRetriever=a.h.v.Ki;a.CoreControls.PartRetrievers.AndroidContentPartRetriever=a.h.v.uw;a.CoreControls.PartRetrievers.AzurePartRetriever=a.h.v.vw;a.CoreControls.PartRetrievers.IOSPartRetriever=a.h.v.Ai;a.CoreControls.PartRetrievers.IOSPartRetriever.partSuccess=a.h.v.Ai.fq;a.CoreControls.PartRetrievers.IOSPartRetriever.partFail=
a.h.v.Ai.dq;a.CoreControls.PartRetrievers.WinRTPartRetriever=a.h.v.Li;a.CoreControls.PartRetrievers.WinRTPartRetriever.partSuccess=a.h.v.Li.fq;a.CoreControls.PartRetrievers.WinRTPartRetriever.partFail=a.h.v.Li.dq;a.CoreControls.CanvasMode=a.h.Rm;a.CoreControls.CanvasMode.ViewportCanvas=a.h.Rm.Dr;a.CoreControls.CanvasMode.PageCanvas=a.h.Rm.mr;a.CoreControls.SetCanvasMode=a.h.Jx;a.CoreControls.Bookmark=a.h.Kd;a.CoreControls.Bookmark.prototype.getName=a.h.Kd.prototype.getName;a.CoreControls.Bookmark.prototype.getVPos=
a.h.Kd.prototype.sp;a.CoreControls.Bookmark.prototype.getHPos=a.h.Kd.prototype.jp;a.CoreControls.Bookmark.prototype.getPageNumber=a.h.Kd.prototype.$a;a.CoreControls.Bookmark.prototype.getURL=a.h.Kd.prototype.wA;a.CoreControls.Bookmark.prototype.getParent=a.h.Kd.prototype.getParent;a.CoreControls.Bookmark.prototype.getChildren=a.h.Kd.prototype.mu;a.CoreControls.Document=a.h.Ia;a.CoreControls.Document.prototype.getBookmarks=a.h.Ia.prototype.kj;a.CoreControls.Document.prototype.getLinks=a.h.Ia.prototype.tl;
a.CoreControls.Document.prototype.loadThumbnailAsync=a.h.Ia.prototype.Vh;a.CoreControls.Document.prototype.includesThumbnails=a.h.Ia.prototype.Ph;a.CoreControls.Document.prototype.loadPageText=a.h.Ia.prototype.Mp;a.CoreControls.Document.prototype.getTextPosition=a.h.Ia.prototype.pp;a.CoreControls.Document.prototype.loadCanvasAsync=a.h.Ia.prototype.Te;a.CoreControls.Document.prototype.pauseLoadCanvas=a.h.Ia.prototype.cm;a.CoreControls.Document.prototype.resumeLoadCanvas=a.h.Ia.prototype.om;a.CoreControls.Document.prototype.cancelLoadCanvas=
a.h.Ia.prototype.Ke;a.CoreControls.Document.prototype.cancelLoadThumbnail=a.h.Ia.prototype.Eh;a.CoreControls.Document.prototype.unloadCanvasResources=a.h.Ia.prototype.Yj;a.CoreControls.Document.prototype.getPageInfo=a.h.Ia.prototype.tc;a.CoreControls.Document.prototype.getPageCount=a.h.Ia.prototype.If;a.CoreControls.Document.prototype.getPDFCoordinates=a.h.Ia.prototype.wu;a.CoreControls.Document.prototype.getXODCoordinates=a.h.Ia.prototype.Ju;a.CoreControls.Document.prototype.loadAsync=a.h.Ia.prototype.Pf;
a.CoreControls.Document.prototype.unloadResources=a.h.Ia.prototype.cf;a.CoreControls.Document.prototype.initOfflineDB=a.h.Ia.prototype.Aj;a.CoreControls.Document.prototype.storeOffline=a.h.Ia.prototype.ym;a.CoreControls.Document.prototype.isDownloaded=a.h.Ia.prototype.Rh;a.CoreControls.Document.prototype.getOfflineModeEnabled=a.h.Ia.prototype.yl;a.CoreControls.Document.prototype.setOfflineModeEnabled=a.h.Ia.prototype.um;a.CoreControls.Document.prototype.cancelOfflineModeDownload=a.h.Ia.prototype.Wk;
a.CoreControls.Document.prototype.getFileData=a.h.Ia.prototype.rl;a.CoreControls.PageRotation=a.h.ia;a.CoreControls.PageRotation.e_0=a.h.ia.sd;a.CoreControls.PageRotation.e_90=a.h.ia.gd;a.CoreControls.PageRotation.e_180=a.h.ia.xg;a.CoreControls.PageRotation.e_270=a.h.ia.ud;a.CoreControls.Hyperlink=a.h.eg;a.CoreControls.Hyperlink.prototype.getBoundingBox=a.h.eg.prototype.fp;a.CoreControls.Hyperlink.prototype.getTarget=a.h.eg.prototype.rA;a.CoreControls.Link=a.h.ye;a.CoreControls.Link.prototype.getBoundingBox=
a.h.ye.prototype.fp;a.CoreControls.Link.prototype.getVPos=a.h.ye.prototype.sp;a.CoreControls.Link.prototype.getHPos=a.h.ye.prototype.jp;a.CoreControls.Link.prototype.getPageNumber=a.h.ye.prototype.$a;a.CoreControls.DocumentViewer=a.h.O;a.CoreControls.DocumentViewer.prototype.loadAsync=a.h.O.prototype.Pf;a.CoreControls.DocumentViewer.prototype.dispose=a.h.O.prototype.fl;a.CoreControls.DocumentViewer.prototype.FitMode=function(){};a.CoreControls.DocumentViewer.prototype.FitMode.FitWidth=a.h.O.prototype.we.Xm;
a.CoreControls.DocumentViewer.prototype.FitMode.FitPage=a.h.O.prototype.we.br;a.CoreControls.DocumentViewer.prototype.FitMode.Zoom=a.h.O.prototype.we.Zoom;a.CoreControls.DocumentViewer.prototype.displayLastPage=a.h.O.prototype.Bz;a.CoreControls.DocumentViewer.prototype.displayFirstPage=a.h.O.prototype.Az;a.CoreControls.DocumentViewer.prototype.setCurrentPage=a.h.O.prototype.Xc;a.CoreControls.DocumentViewer.prototype.getCurrentPage=a.h.O.prototype.Ih;a.CoreControls.DocumentViewer.prototype.getZoom=
a.h.O.prototype.vp;a.CoreControls.DocumentViewer.prototype.getPageCount=a.h.O.prototype.If;a.CoreControls.DocumentViewer.prototype.setFitMode=a.h.O.prototype.sq;a.CoreControls.DocumentViewer.prototype.getFitMode=a.h.O.prototype.bA;a.CoreControls.DocumentViewer.prototype.zoomTo=a.h.O.prototype.Tq;a.CoreControls.DocumentViewer.prototype.setToolMode=a.h.O.prototype.oC;a.CoreControls.DocumentViewer.prototype.getToolMode=a.h.O.prototype.sA;a.CoreControls.DocumentViewer.prototype.rotateClockwise=a.h.O.prototype.JB;
a.CoreControls.DocumentViewer.prototype.rotateCounterClockwise=a.h.O.prototype.KB;a.CoreControls.DocumentViewer.prototype.textSearchInit=a.h.O.prototype.gw;a.CoreControls.DocumentViewer.prototype.SearchMode=function(){};a.CoreControls.DocumentViewer.prototype.SearchMode.e_case_sensitive=XODText.bb.Ut;a.CoreControls.DocumentViewer.prototype.SearchMode.e_whole_word=XODText.bb.Xt;a.CoreControls.DocumentViewer.prototype.SearchMode.e_search_up=XODText.bb.Po;a.CoreControls.DocumentViewer.prototype.SearchMode.e_page_stop=
XODText.bb.Wt;a.CoreControls.DocumentViewer.prototype.SearchMode.e_highlight=XODText.bb.Vt;a.CoreControls.DocumentViewer.prototype.SearchMode.e_ambient_string=XODText.bb.Tt;a.CoreControls.DocumentViewer.prototype.displayBookmark=a.h.O.prototype.zz;a.CoreControls.DocumentViewer.prototype.getDocument=a.h.O.prototype.getDocument;a.CoreControls.DocumentViewer.prototype.getSelectedText=a.h.O.prototype.Fu;a.CoreControls.DocumentViewer.prototype.setTextHighlightColor=a.h.O.prototype.nC;a.CoreControls.DocumentViewer.prototype.displaySearchResult=
a.h.O.prototype.Ot;a.CoreControls.DocumentViewer.prototype.scrollViewUpdated=a.h.O.prototype.OB;a.CoreControls.DocumentViewer.prototype.closeDocument=a.h.O.prototype.xt;a.CoreControls.DocumentViewer.prototype.setOptions=a.h.O.prototype.Uj;a.CoreControls.SetCachingLevel=a.h.mn;a.CoreControls.SetPreRenderLevel=a.h.sr;a.CoreControls.DocumentViewer.prototype.getMargin=a.h.O.prototype.ul;a.CoreControls.DocumentViewer.prototype.setMargin=a.h.O.prototype.bC;a.CoreControls.DocumentViewer.prototype.updateView=
a.h.O.prototype.Fm;a.CoreControls.DocumentViewer.prototype.updateVisiblePages=a.h.O.prototype.Mq;a.CoreControls.DocumentViewer.prototype.updateLinks=a.h.O.prototype.Dm;a.CoreControls.DocumentViewer.prototype.stopPageRender=a.h.O.prototype.Ug;a.CoreControls.DocumentViewer.prototype.setPagesPerCanvas=a.h.O.prototype.vm;a.CoreControls.DocumentViewer.prototype.returnCanvas=a.h.O.prototype.pm;a.CoreControls.DocumentViewer.prototype.drawSelection=a.h.O.prototype.Fz;a.CoreControls.DocumentViewer.prototype.clearSelection=
a.h.O.prototype.Co;a.CoreControls.DocumentViewer.prototype.removeContent=a.h.O.prototype.Lg;a.CoreControls.DocumentViewer.prototype.select=a.h.O.prototype.select;a.CoreControls.DocumentViewer.prototype.setPageZoom=a.h.O.prototype.gC;a.CoreControls.DocumentViewer.prototype.getPageZoom=a.h.O.prototype.Ha;a.CoreControls.DocumentViewer.prototype.getRotation=a.h.O.prototype.eb;a.CoreControls.DocumentViewer.prototype.setRotation=a.h.O.prototype.lC;a.CoreControls.DocumentViewer.prototype.getPageRotations=
a.h.O.prototype.jA;a.CoreControls.DocumentViewer.prototype.setPageRotations=a.h.O.prototype.eC;a.CoreControls.DocumentViewer.prototype.getAnnotationManager=a.h.O.prototype.Ef;a.CoreControls.DocumentViewer.prototype.setInternalAnnotationsTransform=a.h.O.prototype.$B;a.CoreControls.DocumentViewer.prototype.getDisplayModeManager=a.h.O.prototype.lj;a.CoreControls.DocumentViewer.prototype.setViewportRenderMode=a.h.O.prototype.yq;a.CoreControls.DocumentViewer.prototype.setRenderBatchSize=a.h.O.prototype.wq;
a.CoreControls.DisplayMode=a.h.Bc;a.CoreControls.DisplayMode.prototype.setParameters=a.h.Bc.prototype.hC;a.CoreControls.DisplayMode.prototype.isContinuous=a.h.Bc.prototype.Ep;a.CoreControls.DisplayMode.prototype.windowToPage=a.h.Bc.prototype.ef;a.CoreControls.DisplayMode.prototype.pageToWindow=a.h.Bc.prototype.yc;a.CoreControls.DisplayMode.prototype.getSelectedPages=a.h.Bc.prototype.Bl;a.CoreControls.DisplayMode.prototype.getVisiblePages=a.h.Bc.prototype.yd;a.CoreControls.DisplayMode.prototype.getPageTransform=
a.h.Bc.prototype.oj;a.CoreControls.DisplayMode.prototype.getPageOffset=a.h.Bc.prototype.nj;a.CoreControls.DisplayMode.prototype.createPageSections=a.h.Bc.prototype.ug;a.CoreControls.DisplayModes=a.h.Cc;a.CoreControls.DisplayModes.Single=a.h.Cc.ur;a.CoreControls.DisplayModes.Continuous=a.h.Cc.vi;a.CoreControls.DisplayModes.Facing=a.h.Cc.ar;a.CoreControls.DisplayModes.FacingContinuous=a.h.Cc.Wm;a.CoreControls.DisplayModes.Cover=a.h.Cc.dk;a.CoreControls.DisplayModes.CoverFacing=a.h.Cc.Zg;a.CoreControls.DisplayModes.Custom=
a.h.Cc.cg;a.CoreControls.DisplayModeManager=a.h.wi;a.CoreControls.DisplayModeManager.prototype.setDisplayMode=a.h.wi.prototype.Mv;a.CoreControls.DisplayModeManager.prototype.getDisplayMode=a.h.wi.prototype.Ma;a.CoreControls.AnnotationManager=a.h.K;a.CoreControls.AnnotationManager.prototype.addAnnotation=a.h.K.prototype.wf;a.CoreControls.AnnotationManager.prototype.addAnnotations=a.h.K.prototype.Qk;a.CoreControls.AnnotationManager.prototype.deleteAnnotation=a.h.K.prototype.cj;a.CoreControls.AnnotationManager.prototype.deleteAnnotations=
a.h.K.prototype.Io;a.CoreControls.AnnotationManager.prototype.selectAnnotation=a.h.K.prototype.hi;a.CoreControls.AnnotationManager.prototype.selectAnnotations=a.h.K.prototype.pq;a.CoreControls.AnnotationManager.prototype.deselectAnnotation=a.h.K.prototype.dj;a.CoreControls.AnnotationManager.prototype.deselectAllAnnotations=a.h.K.prototype.fd;a.CoreControls.AnnotationManager.prototype.isAnnotationSelected=a.h.K.prototype.Qh;a.CoreControls.AnnotationManager.prototype.getSelectedAnnotations=a.h.K.prototype.Pe;
a.CoreControls.AnnotationManager.prototype.updateCopiedAnnotations=a.h.K.prototype.XC;a.CoreControls.AnnotationManager.prototype.pasteCopiedAnnotations=a.h.K.prototype.sB;a.CoreControls.AnnotationManager.prototype.getAnnotationCopy=a.h.K.prototype.ep;a.CoreControls.AnnotationManager.prototype.drawAnnotations=a.h.K.prototype.yb;a.CoreControls.AnnotationManager.prototype.redrawAnnotation=a.h.K.prototype.Qb;a.CoreControls.AnnotationManager.prototype.drawAnnotationsFromList=a.h.K.prototype.fj;a.CoreControls.AnnotationManager.prototype.updateAnnotation=
a.h.K.prototype.VC;a.CoreControls.AnnotationManager.prototype.jumpToAnnotation=a.h.K.prototype.QA;a.CoreControls.AnnotationManager.prototype.hasAnnotation=a.h.K.prototype.Of;a.CoreControls.AnnotationManager.prototype.getAnnotationsList=a.h.K.prototype.Hh;a.CoreControls.AnnotationManager.prototype.setNoteContents=a.h.K.prototype.Ov;a.CoreControls.AnnotationManager.prototype.getCurrentUser=a.h.K.prototype.Jh;a.CoreControls.AnnotationManager.prototype.setCurrentUser=a.h.K.prototype.WB;a.CoreControls.AnnotationManager.prototype.getIsAdminUser=
a.h.K.prototype.fA;a.CoreControls.AnnotationManager.prototype.setIsAdminUser=a.h.K.prototype.aC;a.CoreControls.AnnotationManager.prototype.setReadOnly=a.h.K.prototype.kC;a.CoreControls.AnnotationManager.prototype.getReadOnly=a.h.K.prototype.np;a.CoreControls.AnnotationManager.prototype.canModify=a.h.K.prototype.Jb;a.CoreControls.AnnotationManager.prototype.setPermissionCheckCallback=a.h.K.prototype.iC;a.CoreControls.AnnotationManager.prototype.getAnnotCommand=a.h.K.prototype.cp;a.CoreControls.AnnotationManager.prototype.importAnnotCommand=
a.h.K.prototype.Ap;a.CoreControls.AnnotationManager.prototype.exportAnnotations=a.h.K.prototype.Kz;a.CoreControls.AnnotationManager.prototype.importAnnotations=a.h.K.prototype.HA;a.CoreControls.AnnotationManager.prototype.importAnnotationsAsync=a.h.K.prototype.Qu;a.CoreControls.AnnotationManager.prototype.setMarkupOff=a.h.K.prototype.tq;a.CoreControls.AnnotationManager.prototype.getMarkupOff=a.h.K.prototype.vl;a.CoreControls.AnnotationManager.prototype.toggleAnnotations=a.h.K.prototype.RC;a.CoreControls.AnnotationManager.prototype.getUseFilter=
a.h.K.prototype.Cl;a.CoreControls.AnnotationManager.prototype.setUseFilter=a.h.K.prototype.xq;a.CoreControls.AnnotationManager.prototype.filterAnnotations=a.h.K.prototype.Oz;a.CoreControls.AnnotationManager.prototype.useDefaultStickyNotes=a.h.K.prototype.Uf;a.CoreControls.AnnotationManager.prototype.disableDefaultStickyNotes=a.h.K.prototype.xz;a.CoreControls.AnnotationManager.prototype.useFreeTextEditing=a.h.K.prototype.mw;a.CoreControls.AnnotationManager.prototype.disableFreeTextEditing=a.h.K.prototype.yz;
a.CoreControls.AnnotationManager.prototype.registerAnnotationType=a.h.K.prototype.EB;a.CoreControls.AnnotationManager.prototype.deregisterAnnotationType=a.h.K.prototype.uz;a.CoreControls.AnnotationManager.prototype.getRegisteredAnnotationTypes=a.h.K.prototype.mA;a.CoreControls.AnnotationManager.prototype.getAnnotationFromPopup=a.h.K.prototype.Sz;a.CoreControls.AnnotationManager.prototype.getAnnotationByMouseEvent=a.h.K.prototype.dp;a.CoreControls.AnnotationManager.prototype.getAnnotationById=a.h.K.prototype.zg;
a.CoreControls.AnnotationManager.prototype.getRootAnnotation=a.h.K.prototype.qj;a.CoreControls.AnnotationManager.prototype.createAnnotationReply=a.h.K.prototype.At;a.CoreControls.AnnotationManager.prototype.hideAnnotation=a.h.K.prototype.FA;a.CoreControls.AnnotationManager.prototype.hideAnnotations=a.h.K.prototype.Nu;a.CoreControls.AnnotationManager.prototype.showAnnotation=a.h.K.prototype.xC;a.CoreControls.AnnotationManager.prototype.showAnnotations=a.h.K.prototype.Wv;a.Annotations=a.Annotations;
a.Annotations.Color=a.Annotations.Color;a.Annotations.Color.prototype.toHexString=a.Annotations.Color.prototype.toHexString;a.Annotations.WidgetAnnotation=a.Annotations.Hc;a.Annotations.TextWidgetAnnotation=a.Annotations.Ee;a.Annotations.ChoiceWidgetAnnotation=a.Annotations.ve;a.Annotations.ButtonWidgetAnnotation=a.Annotations.te;a.Annotations.SignatureWidgetAnnotation=a.Annotations.mk;a.Annotations.Annotation=a.Annotations.Annotation;a.Annotations.Annotation.prototype.getPageNumber=a.Annotations.Annotation.prototype.$a;
a.Annotations.Annotation.prototype.setPageNumber=a.Annotations.Annotation.prototype.Qv;a.Annotations.Annotation.prototype.getX=a.Annotations.Annotation.prototype.Mf;a.Annotations.Annotation.prototype.setX=a.Annotations.Annotation.prototype.sC;a.Annotations.Annotation.prototype.getY=a.Annotations.Annotation.prototype.Nf;a.Annotations.Annotation.prototype.setY=a.Annotations.Annotation.prototype.tC;a.Annotations.Annotation.prototype.getTop=a.Annotations.Annotation.prototype.Lf;a.Annotations.Annotation.prototype.getBottom=
a.Annotations.Annotation.prototype.ku;a.Annotations.Annotation.prototype.getLeft=a.Annotations.Annotation.prototype.Gf;a.Annotations.Annotation.prototype.getRight=a.Annotations.Annotation.prototype.Eu;a.Annotations.Annotation.prototype.getWidth=a.Annotations.Annotation.prototype.la;a.Annotations.Annotation.prototype.setWidth=a.Annotations.Annotation.prototype.Uv;a.Annotations.Annotation.prototype.getHeight=a.Annotations.Annotation.prototype.ha;a.Annotations.Annotation.prototype.setHeight=a.Annotations.Annotation.prototype.sm;
a.Annotations.Annotation.prototype.getCustom=a.Annotations.Annotation.prototype.Xz;a.Annotations.Annotation.prototype.setCustom=a.Annotations.Annotation.prototype.XB;a.Annotations.Annotation.prototype.draw=a.Annotations.Annotation.prototype.draw;a.Annotations.Annotation.prototype.serialize=a.Annotations.Annotation.prototype.serialize;a.Annotations.Annotation.prototype.deserialize=a.Annotations.Annotation.prototype.deserialize;a.Annotations.Annotation.prototype.setRect=a.Annotations.Annotation.prototype.Rg;
a.Annotations.Annotation.prototype.getRect=a.Annotations.Annotation.prototype.vd;a.Annotations.Annotation.prototype.getRectPadding=a.Annotations.Annotation.prototype.getRectPadding;a.Annotations.Annotation.prototype.adjustRect=a.Annotations.Annotation.prototype.adjustRect;a.Annotations.Annotation.prototype.setContents=a.Annotations.Annotation.prototype.ji;a.Annotations.Annotation.prototype.getContents=a.Annotations.Annotation.prototype.Bg;a.Annotations.Annotation.prototype.isReply=a.Annotations.Annotation.prototype.Bd;
a.Annotations.Annotation.prototype.getReplies=a.Annotations.Annotation.prototype.pj;a.Annotations.Annotation.prototype.selectionModel=a.Annotations.Annotation.prototype.selectionModel;a.Annotations.Annotation.prototype.elementName=a.Annotations.Annotation.prototype.elementName;a.Annotations.Point=a.Annotations.Point;a.Annotations.Quad=a.Annotations.Ra;a.Annotations.Rect=a.Annotations.na;a.Annotations.Rect.prototype.getWidth=a.Annotations.na.prototype.la;a.Annotations.Rect.prototype.getHeight=a.Annotations.na.prototype.ha;
a.Annotations.Rect.prototype.translate=a.Annotations.na.prototype.translate;a.Annotations.Rect.prototype.fitTo=a.Annotations.na.prototype.Uo;a.Annotations.Rect.prototype.normalize=a.Annotations.na.prototype.normalize;a.Annotations.PopupAnnotation=a.Annotations.lf;a.Annotations.PopupAnnotation.prototype.isOpen=a.Annotations.lf.prototype.isOpen;a.Annotations.PopupAnnotation.prototype.setOpen=a.Annotations.lf.prototype.ki;a.Annotations.MarkupAnnotation=a.Annotations.ca;a.Annotations.MarkupAnnotation.prototype.setStyles=
a.Annotations.ca.prototype.Sb;a.Annotations.MarkupAnnotation.prototype.selectionModel=a.Annotations.ca.prototype.selectionModel;a.Annotations.MarkupAnnotation.prototype.getPopup=a.Annotations.ca.prototype.Oe;a.Annotations.MarkupAnnotation.prototype.setPopup=a.Annotations.ca.prototype.uq;a.Annotations.IPathAnnotation=a.Annotations.Ec;a.Annotations.IPathAnnotation.prototype.addPathPoint=a.Annotations.Ec.prototype.wb;a.Annotations.IPathAnnotation.prototype.setPathPoint=a.Annotations.Ec.prototype.Fd;
a.Annotations.IPathAnnotation.prototype.getPathPoint=a.Annotations.Ec.prototype.Jf;a.Annotations.IPathAnnotation.prototype.popPath=a.Annotations.Ec.prototype.ai;a.Annotations.IPathAnnotation.prototype.getPath=a.Annotations.Ec.prototype.getPath;a.Annotations.LineAnnotation=a.Annotations.Fc;a.Annotations.LineAnnotation.prototype.setStartPoint=a.Annotations.Fc.prototype.Rv;a.Annotations.LineAnnotation.prototype.getStartPoint=a.Annotations.Fc.prototype.qA;a.Annotations.LineAnnotation.prototype.setEndPoint=
a.Annotations.Fc.prototype.setEndPoint;a.Annotations.LineAnnotation.prototype.getEndPoint=a.Annotations.Fc.prototype.$z;a.Annotations.LineAnnotation.prototype.setStartStyle=a.Annotations.Fc.prototype.Sg;a.Annotations.LineAnnotation.prototype.getStartStyle=a.Annotations.Fc.prototype.rj;a.Annotations.LineAnnotation.prototype.setEndStyle=a.Annotations.Fc.prototype.Nv;a.Annotations.LineAnnotation.prototype.getEndStyle=a.Annotations.Fc.prototype.ru;a.Annotations.RectangleAnnotation=a.Annotations.hh;a.Annotations.EllipseAnnotation=
a.Annotations.$g;a.Annotations.FreeHandAnnotation=a.Annotations.FreeHandAnnotation;a.Annotations.FreeHandAnnotation.prototype.addPathPoint=a.Annotations.FreeHandAnnotation.prototype.wb;a.Annotations.FreeHandAnnotation.prototype.setPathPoint=a.Annotations.FreeHandAnnotation.prototype.Fd;a.Annotations.FreeHandAnnotation.prototype.getPathPoint=a.Annotations.FreeHandAnnotation.prototype.Jf;a.Annotations.FreeHandAnnotation.prototype.popPath=a.Annotations.FreeHandAnnotation.prototype.ai;a.Annotations.FreeHandAnnotation.prototype.getPath=
a.Annotations.FreeHandAnnotation.prototype.getPath;a.Annotations.FreeHandAnnotation.prototype.setPath=a.Annotations.FreeHandAnnotation.prototype.setPath;a.Annotations.FreeHandAnnotation.prototype.getPaths=a.Annotations.FreeHandAnnotation.prototype.Kf;a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath=a.Annotations.FreeHandAnnotation.prototype.shouldSimplifyPath;a.Annotations.TextMarkupAnnotation=a.Annotations.lc;a.Annotations.TextMarkupAnnotation.prototype.setQuads=a.Annotations.lc.prototype.vq;
a.Annotations.TextHighlightAnnotation=a.Annotations.De;a.Annotations.TextUnderlineAnnotation=a.Annotations.lh;a.Annotations.TextStrikeoutAnnotation=a.Annotations.gg;a.Annotations.TextSquigglyAnnotation=a.Annotations.kh;a.Annotations.CaretAnnotation=a.Annotations.ti;a.Annotations.StickyAnnotation=a.Annotations.Ce;a.Annotations.StampAnnotation=a.Annotations.ih;a.Annotations.PolylineAnnotation=a.Annotations.kk;a.Annotations.PolygonAnnotation=a.Annotations.Ae;a.Annotations.FreeTextAnnotation=a.Annotations.ya;
a.Annotations.FreeTextAnnotation.prototype.getPadding=a.Annotations.ya.prototype.xu;a.Annotations.FreeTextAnnotation.prototype.setPadding=a.Annotations.ya.prototype.li;a.Annotations.FreeTextAnnotation.prototype.getIntent=a.Annotations.ya.prototype.Lh;a.Annotations.FreeTextAnnotation.prototype.setIntent=a.Annotations.ya.prototype.Tj;a.Annotations.FreeTextAnnotation.prototype.addPathPoint=a.Annotations.ya.prototype.wb;a.Annotations.FreeTextAnnotation.prototype.setStartStyle=a.Annotations.ya.prototype.Sg;
a.Annotations.FreeTextAnnotation.prototype.getStartStyle=a.Annotations.ya.prototype.rj;a.Annotations.FreeTextAnnotation.Intent=a.Annotations.ya.Pc;a.Annotations.ControlHandle=a.Annotations.ControlHandle;a.Annotations.ControlHandle.prototype.testSelection=a.Annotations.ControlHandle.prototype.testSelection;a.Annotations.BoxControlHandle=a.Annotations.Yc;a.Annotations.LineControlHandle=a.Annotations.dh;a.Annotations.PathControlHandle=a.Annotations.fg;a.Annotations.TextControlHandle=a.Annotations.jh;
a.Annotations.SelectionModel=a.Annotations.SelectionModel;a.Annotations.SelectionModel.prototype.testSelection=a.Annotations.SelectionModel.prototype.testSelection;a.Annotations.SelectionModel.prototype.testControlHandles=a.Annotations.SelectionModel.prototype.Eq;a.Annotations.SelectionModel.prototype.getControlHandles=a.Annotations.SelectionModel.prototype.Wz;a.Annotations.SelectionModel.prototype.canModify=a.Annotations.SelectionModel.prototype.Jb;a.Annotations.SelectionModel.prototype.draw=a.Annotations.SelectionModel.prototype.draw;
a.Annotations.SelectionModel.prototype.drawPopupTail=a.Annotations.SelectionModel.prototype.drawPopupTail;a.Annotations.BoxSelectionModel=a.Annotations.fa;a.Annotations.LineSelectionModel=a.Annotations.Di;a.Annotations.PathSelectionModel=a.Annotations.gh;a.Annotations.TextSelectionModel=a.Annotations.Ji;a.Annotations.XfdfUtils=a.Annotations.sa;a.Annotations.XfdfUtils.serializePoint=a.Annotations.sa.rq;a.Annotations.XfdfUtils.serializePointArray=a.Annotations.sa.Sj;a.Annotations.XfdfUtils.serializeRect=
a.Annotations.sa.rm;a.Annotations.XfdfUtils.serializeFringeRect=a.Annotations.sa.qq;a.Annotations.XfdfUtils.toXmlDate=a.Annotations.sa.Gq;a.Annotations.SelectionAlgorithm=a.Annotations.sb;a.Annotations.SelectionAlgorithm.boundingRectTest=a.Annotations.sb.Dh;a.Annotations.SelectionAlgorithm.canvasVisibilityTest=a.Annotations.sb.$i;a.Annotations.SelectionAlgorithm.textQuadTest=a.Annotations.sb.fw;a.Tool=a.Tool;a.Tools=a.ra;a.Tools.Tool=a.ra.Tool;a.Tools.Tool.prototype.getDocumentViewer=a.ra.Tool.prototype.Zz;
a.Tools.AnnotationSelectTool=a.ra.AnnotationSelectTool;a.Tools.TextTool=a.ra.Xb;a.Tools.GenericAnnotationCreateTool=a.ra.Xa;a.Tools.PanTool=a.ra.nr;a.Tools.TextSelectTool=a.ra.zr;a.Tools.AnnotationEditTool=a.ra.Uq;a.Tools.LineCreateTool=a.ra.Ci;a.Tools.ArrowCreateTool=a.ra.Vq;a.Tools.RectangleCreateTool=a.ra.pr;a.Tools.EllipseCreateTool=a.ra.$q;a.Tools.FreeHandCreateTool=a.ra.FreeHandCreateTool;a.Tools.SignatureCreateTool=a.ra.SignatureCreateTool;a.Tools.SignatureCreateTool.prototype.setSignatureCanvas=
a.ra.SignatureCreateTool.prototype.mC;a.Tools.SignatureCreateTool.prototype.clearSignatureCanvas=a.ra.SignatureCreateTool.prototype.az;a.Tools.SignatureCreateTool.prototype.initDefaultSignature=a.ra.SignatureCreateTool.prototype.Ru;a.Tools.SignatureCreateTool.prototype.hasDefaultSignature=a.ra.SignatureCreateTool.prototype.BA;a.Tools.SignatureCreateTool.prototype.addDefaultSignature=a.ra.SignatureCreateTool.prototype.Ey;a.Tools.SignatureCreateTool.prototype.openSignature=a.ra.SignatureCreateTool.prototype.mB;
a.Tools.SignatureCreateTool.prototype.addSignature=a.ra.SignatureCreateTool.prototype.ft;a.Tools.StickyCreateTool=a.ra.vr;a.Tools.TextAnnotationCreateTool=a.ra.$c;a.Tools.TextHighlightCreateTool=a.ra.yr;a.Tools.TextUnderlineCreateTool=a.ra.Cr;a.Tools.TextStrikeoutCreateTool=a.ra.Br;a.Tools.TextSquigglyCreateTool=a.ra.Ar;a.Tools.PolylineCreateTool=a.ra.Fi;a.Tools.PolygonCreateTool=a.ra.jk;a.Tools.CalloutCreateTool=a.ra.Qm;a.Tools.FreeTextCreateTool=a.ra.cr})(window);
(function(){function a(a,d,c){function b(a,b){var c=b<<1;return 128>b?a*(c+(a*(255-c)>>8))>>8:a*(511-c)+Math.sqrt(a<<8)*(c-255)>>8}function k(a,b){return 128>a?a*b>>7:255-((255-b)*(255-a)>>7)}function f(a,b){return 255==b&&0==a?255:Math.min(255,(a<<8)/(255-b))}function n(a,b){return 255==b&&0==a?0:255-Math.min(255,(255-a<<8)/b)}function l(a,b,c){return{r:0.299*a+0.587*b+0.114*c,g:-0.1687*a-0.3313*b+0.5*c,b:0.5*a-0.4187*b-0.0813*c}}function p(a,b,c){return{r:a+1.402*c,g:a-0.3441*b-0.7141*c,b:a+1.772*
b}}function m(a,b,c){a=l(a,b,c);return{Qe:Math.atan2(a.g,a.b),s:Math.sqrt(a.g*a.g+a.b*a.b),pw:a.r}}function q(a,b,c){return p(c,b*Math.sin(a),b*Math.cos(a))}var r={},u;for(u in g)g.hasOwnProperty(u)&&(r[u]=c&&c[u]||g[u]);"auto"==r.width&&(r.width=this.canvas.width);"auto"==r.height&&(r.height=this.canvas.height);r.width=Math.min(r.width,this.canvas.width-r.Yv,a.canvas.width-r.x);r.height=Math.min(r.height,this.canvas.height-r.Zv,a.canvas.height-r.y);u=this.getImageData(r.Yv,r.Zv,r.width,r.height);
c=a.getImageData(r.x,r.y,r.width,r.height);u=u.data;for(var s=c.data,v,w,x=s.length,D,B,A,C,Q,L,E,F,H,I,N,J,M,O,z=0;z<x;z+=4)if(v=u[z+3]/255,w=s[z+3]/255,E=v+w-v*w,s[z+3]=255*E,0!=v)if(0==w)s[z]=u[z],s[z+1]=u[z+1],s[z+2]=u[z+2];else{F=s[z];H=s[z+1];I=s[z+2];N=u[z];J=u[z+1];M=u[z+2];D=N/255*v;C=F/255*w;B=J/255*v;Q=H/255*w;A=M/255*v;L=I/255*w;O=255/E;E=w*v;var K=w-E,P=v-E;switch(d){case "normal":case "src-over":s[z]=(D+C-C*v)*O;s[z+1]=(B+Q-Q*v)*O;s[z+2]=(A+L-L*v)*O;break;case "screen":s[z]=(D+C-D*C)*
O;s[z+1]=(B+Q-B*Q)*O;s[z+2]=(A+L-A*L)*O;break;case "multiply":s[z]=(D*C+D*(1-w)+C*(1-v))*O;s[z+1]=(B*Q+B*(1-w)+Q*(1-v))*O;s[z+2]=(A*L+A*(1-w)+L*(1-v))*O;break;case "difference":s[z]=(D+C-2*Math.min(D*w,C*v))*O;s[z+1]=(B+Q-2*Math.min(B*w,Q*v))*O;s[z+2]=(A+L-2*Math.min(A*w,L*v))*O;break;case "src-in":E=v*w;O=255/E;s[z]=D*w*O;s[z+1]=B*w*O;s[z+2]=A*w*O;s[z+3]=255*E;break;case "plus":case "add":s[z]=Math.min(D+C,1)*O;s[z+1]=Math.min(B+Q,1)*O;s[z+2]=Math.min(A+L,1)*O;break;case "overlay":s[z]=E*k(F,N)+
K*F+P*N;s[z+1]=E*k(H,J)+K*H+P*J;s[z+2]=E*k(I,M)+K*I+P*M;break;case "hard-light":s[z]=E*k(N,F)+K*F+P*N;s[z+1]=E*k(J,H)+K*H+P*J;s[z+2]=E*k(M,I)+K*I+P*M;break;case "color-dodge":case "dodge":s[z]=E*f(F,N)+K*F+P*N;s[z+1]=E*f(H,J)+K*H+P*J;s[z+2]=E*f(I,M)+K*I+P*M;break;case "color-burn":case "burn":s[z]=E*n(F,N)+K*F+P*N;s[z+1]=E*n(H,J)+K*H+P*J;s[z+2]=E*n(I,M)+K*I+P*M;break;case "darken":case "darker":s[z]=E*(F<N?F:N)+K*F+P*N;s[z+1]=E*(H<J?H:J)+K*H+P*J;s[z+2]=E*(I<M?I:M)+K*I+P*M;break;case "lighten":case "lighter":s[z]=
(D<C?C:D)*O;s[z+1]=(B<Q?Q:B)*O;s[z+2]=(A<L?L:A)*O;break;case "exclusion":s[z]=(C+D-2*C*D)*O;s[z+1]=(Q+B-2*Q*B)*O;s[z+2]=(L+A-2*L*A)*O;break;case "soft-light":s[z]=E*b(F,N)+K*F+P*N;s[z+1]=E*b(H,J)+K*H+P*J;s[z+2]=E*b(I,M)+K*I+P*M;break;case "luminosity":v=l(F,H,I);w=l(N,J,M);v=p(w.r,v.g,v.b);s[z]=E*v.r+K*F+P*N;s[z+1]=E*v.g+K*H+P*J;s[z+2]=E*v.b+K*I+P*M;break;case "color":v=l(F,H,I);w=l(N,J,M);v=p(v.r,w.g,w.b);s[z]=E*v.r+K*F+P*N;s[z+1]=E*v.g+K*H+P*J;s[z+2]=E*v.b+K*I+P*M;break;case "hue":v=m(F,H,I);w=
m(N,J,M);v=q(w.Qe,v.s,v.pw);s[z]=E*v.r+K*F+P*N;s[z+1]=E*v.g+K*H+P*J;s[z+2]=E*v.b+K*I+P*M;break;case "saturation":v=m(F,H,I);w=m(N,J,M);v=q(v.Qe,w.s,v.pw);s[z]=E*v.r+K*F+P*N;s[z+1]=E*v.g+K*H+P*J;s[z+2]=E*v.b+K*I+P*M;break;case "lighter-color":v=0<2.623*(F-N)+5.15*(H-J)+I-M?{r:F,g:H,b:I}:{r:N,g:J,b:M};s[z]=E*v.r+K*F+P*N;s[z+1]=E*v.g+K*H+P*J;s[z+2]=E*v.b+K*I+P*M;break;case "darker-color":v=0>2.623*(F-N)+5.15*(H-J)+I-M?{r:F,g:H,b:I}:{r:N,g:J,b:M};s[z]=E*v.r+K*F+P*N;s[z+1]=E*v.g+K*H+P*J;s[z+2]=E*v.b+K*
I+P*M;break;default:F=z/4%this.canvas.width,H=Math.floor(z/4/this.canvas.width),F=4>F%8&&4>H%8||3<F%8&&3<H%8,s[z]=s[z+3]=255,s[z+1]=F?255:0,s[z+2]=F?0:255}}a.putImageData(c,r.x,r.y)}var g={x:0,y:0,Yv:0,Zv:0,width:"auto",height:"auto"};(function(e){if(!e||"function"!==typeof e.getImageData)return console.error("context blender called without a valid context prototype");Object.defineProperty(e,"bO",{value:a});for(var d=a.YE="normal src-over screen multiply difference src-in plus add overlay hardlight colordodge dodge colorburn burn darken darker lighten lighter exclusion softlight luminosity color hue saturation lightercolor darkercolor".split(" "),
c=a.supports={},b=d.length;b--;)c[d[b]]=!0;a.MD={"src-over":"normal",Kj:"add",hE:"colordodge",ND:"colorburn",cE:"darken",yE:"lighten"};return e})(CanvasRenderingContext2D&&CanvasRenderingContext2D.prototype)})();function Y(){var a={};a.promise=new Promise(function(g,e){a.resolve=g;a.reject=e});return a}
(function(a){function g(a){this.vf=e;this.Oi=[];try{a.call(this,this.vy.bind(this),this.Ss.bind(this))}catch(c){this.Ss(c)}}if(a.Promise)"function"!==typeof a.Promise.all&&(a.Promise.all=function(b){var c=0,d=[],e,g,p=new a.Promise(function(a,b){e=a;g=b});b.forEach(function(a,b){c++;a.then(function(a){d[b]=a;c--;0===c&&e(d)},g)});0===c&&e(d);return p}),"function"!==typeof a.Promise.resolve&&(a.Promise.resolve=function(b){return new a.Promise(function(a){a(b)})}),"function"!==typeof a.Promise.reject&&
(a.Promise.reject=function(b){return new a.Promise(function(a,c){c(b)})}),"function"!==typeof a.Promise.prototype.st&&(a.Promise.prototype.st=function(b){return a.Promise.prototype.then(void 0,b)});else{var e=0,d=2,c={handlers:[],running:!1,bf:[],hq:!1,Gv:function(a){a.vf!==e&&(this.handlers=this.handlers.concat(a.Oi),a.Oi=[],this.running||(this.running=!0,setTimeout(this.Fv.bind(this),0)))},Fv:function(){for(var a=Date.now()+1;0<this.handlers.length;){var c=this.handlers.shift(),e=c.Am.vf,g=c.Am._value;
try{1===e?"function"===typeof c.lv&&(g=c.lv(g)):"function"===typeof c.kv&&(g=c.kv(g),e=1,c.Am.fo&&this.FB(c.Am))}catch(l){e=d,g=l}c.lB.Ui(e,g);if(Date.now()>=a)break}0<this.handlers.length?setTimeout(this.Fv.bind(this),0):this.running=!1},Ky:function(a){this.bf.push({promise:a,time:Date.now()});this.Hv()},FB:function(a){a.fo=!1;for(var c=0;c<this.bf.length;c++)this.bf[c].promise===a&&(this.bf.splice(c),c--)},Hv:function(){this.hq||(this.hq=!0,setTimeout(function(){this.hq=!1;for(var a=Date.now(),
c=0;c<this.bf.length;c++)if(500<a-this.bf[c].time){var d=this.bf[c].promise._value,e="Unhandled rejection: "+d;d.stack&&(e+="\n"+d.stack);warn(e);this.bf.splice(c);c--}this.bf.length&&this.Hv()}.bind(this),500))}};g.all=function(a){function c(a){l.vf!==d&&(m=[],n(a))}var e,n,l=new g(function(a,b){e=a;n=b}),p=a.length,m=[];if(0===p)return e(m),l;for(var q=0,r=a.length;q<r;++q){var u=a[q],s=function(a){return function(b){l.vf!==d&&(m[a]=b,p--,0===p&&e(m))}}(q);g.Wu(u)?u.then(s,c):s(u)}return l};g.Wu=
function(a){return a&&"function"===typeof a.then};g.resolve=function(a){return new g(function(c){c(a)})};g.reject=function(a){return new g(function(c,d){d(a)})};g.prototype={vf:null,_value:null,Oi:null,fo:null,Ui:function(a,e){1!==this.vf&&(this.vf!==d&&(1===a&&g.Wu(e)?e.then(this.Ui.bind(this,1),this.Ui.bind(this,d)):(this.vf=a,this._value=e,a===d&&(0===this.Oi.length&&(this.fo=!0,c.Ky(this))),c.Gv(this))))},vy:function(a){this.Ui(1,a)},Ss:function(a){this.Ui(d,a)},then:function(a,d){var e=new g(function(a,
b){this.resolve=a;this.reject=b});this.Oi.push({Am:this,lv:a,kv:d,lB:e});c.Gv(this);return e},st:function(a){return this.then(void 0,a)}};a.Promise=g}})("undefined"===typeof window?this:window);
(function(a){var g=a._trnDebugMode;"undefined"===typeof a.utils&&(a.utils={warn:function(a){g&&console.warn(a)},log:function(a){g&&console.log(a)},error:function(a){g&&console.error(a);throw Error(a);}});a.info=function(e){a.utils.log(e)};a.warn=function(e){a.utils.warn(e)};a.error=function(e){a.utils.error(e)}})("undefined"===typeof window?this:window);("undefined"===typeof window?this:window).Nz=0;var Z={};
(function(a){a.fr=function(g,e){this.name=g;this.aj=e;this.pt=1;this.em=!0;var d=this.Zi={},c=this.dt={},b={};this.Wl=null;var k=this,f=!1;c.console_log=[function(b){a.utils.log(b)}];c.console_error=[function(b){a.utils.error(b)}];c.workerLoaded=[function(){}];c.worker_restart=[function(b){var c=e,d=Z[c];setTimeout(function(){c.removeEventListener("message",d);c.terminate();c=null},5E3);k.Wh=new Worker(b.location);k.Wg={Oj:[],queue:[],postMessage:function(a,b){this.queue[this.queue.length]={jB:a,
TC:b}}};a.utils.log("I resize "+b.size);k.aj=e=k.Wg;Z[k.Wh]=d;k.Wh.addEventListener("message",d);c.onerror&&(k.Wh.onerror=k.Wg.onerror=c.onerror);k.Wp=b.queue;b.queue=null;f||(k.on("InitWorker",function(){k.aj=e=k.Wh;for(var a=0;a<k.Wp.length;++a){var b=k.Wp[a];k.postMessage(b)}for(a=0;a<k.Wg.Oj.length;++a)b=k.Wg.Oj[a],k.postMessage(b);for(a=0;a<k.Wg.queue.length;++a)b=k.Wg.queue[a],k.aj.postMessage(b.jB,b.TC);k.Wp=null;k.Wg=null;k.Wh=null}),f=!0);k.Wh.postMessage({action:"InitWorker",data:b})}];
c.redirect_request=[function(b){e.Oj?e.Oj[e.Oj.length]=b:(a.utils.log("Redirect Request needed to be posted."),k.postMessage(b))}];e in Z&&e.removeEventListener("message",Z[e]);Z[e]=function(e){var f=e.data;if(f.isReply)if(e=f.callbackId,e in d){var g=d[e];delete d[e];"error"in f?g.reject(f.error):g.resolve(f.data)}else a.utils.warn("Cannot resolve callback "+e);else if(f.action in c){var m=c[f.action];f.callbackId?Promise.resolve().then(function(){return m[0].call(m[1],f.data)}).then(function(a){k.postMessage({isReply:!0,
callbackId:f.callbackId,data:a})},function(a){k.postMessage({isReply:!0,callbackId:f.Vk,error:a})}):m[0].call(m[1],f.data)}else f.action in b?(m=b[f.action],e=Y(),f.callbackId?e.promise.then(function(a){k.postMessage({isReply:!0,callbackId:f.callbackId,data:a});k.Wl()},function(a){k.postMessage({isReply:!0,callbackId:f.Vk,error:a});k.Wl()}):e.promise.then(function(){k.Wl()},function(){k.Wl()}),m[0].call(m[1],f,e)):a.utils.error("Unknown action from worker: "+f.action)};e.addEventListener("message",
Z[e])};a.fr.prototype={on:function(g,e,d){var c=this.dt;c[g]&&a.utils.error('There is already an actionName called "'+g+'"');c[g]=[e,d]},replace:function(a,e,d){this.dt[a]=[e,d]},send:function(a,e){this.postMessage({action:a,data:e})},$e:function(a,e,d){var c=this.pt++;a={action:a,data:e,callbackId:c,priority:d};e=Y();this.Zi[c]=e;try{this.postMessage(a)}catch(b){e.reject(b)}return e.promise},qm:function(a,e,d){var c=this.pt++;a={action:a,data:e,callbackId:c,priority:d};e=Y();this.Zi[c]=e;try{this.postMessage(a)}catch(b){e.reject(b)}return{promise:e.promise,
Vk:c}},Yy:function(g){if(g in this.Zi){var e=this.Zi[g];delete this.Zi[g];e.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:g}})}else a.utils.error("Cannot cancel callback "+g)},postMessage:function(a){if(this.em){var e=this.tA(a);this.aj.postMessage(a,e)}else this.aj.postMessage(a)},vu:function(a,e){if("object"===typeof a)if(a instanceof Uint8Array)e.push(a.buffer);else if(a instanceof ArrayBuffer)e.push(a);else for(prop in a)a.hasOwnProperty(prop)&&
this.vu(a[prop],e)},tA:function(a){var e=[];this.vu(a,e);return 0==e.length?void 0:e}}})("undefined"===typeof window?this:window);
var ca=this,ba=function(){function a(a,e,d){this.wv=null;this.nB=[];Y();if("undefined"!==typeof Worker)try{var c=new ca.fr("main",e);c.em=d;this.wc=c;c.on("test",function(b){b&&b.supportTypedArray?(b.supportTransfers||(c.em=!1),this.vC(c),a.resolve()):error("Typed arrays are not supported. Can't start a worker.")}.bind(this));var b=new Uint8Array([255]);try{c.send("test",b)}catch(k){info("Cannot use postMessage transfers"),c.em=!1,b[0]=0,c.send("test",b)}return}catch(f){info("The worker has been disabled.")}error("Can't start a worker.")}
a.prototype={di:0,LC:1,eD:2,zj:3,vC:function(a){this.wc=a;a.on("GetDoc",function(a){var d=a.tB;this.numPages=a.tB.numPages;a=new PDFDocumentProxy(d,this);this.resolve(a)},this);a.on("DocProgress",function(a){this.wv&&this.wv({loaded:a.loaded,total:a.total})},this);a.on("PageError",function(a){var d=this.nB[a.pageNum-1].oE[a.intent];d.Cz?d.Cz.reject(a.error):error(a.error)},this)},Lz:function(a,e){return this.wc.$e("NewDoc",{type:a,value:e},this.zj)},YA:function(a,e){var d={array:a};e&&(d.l=e);return this.wc.$e("LoadRes",
d,this.zj)},Tz:function(a,e,d,c,b){return"undefined"===typeof b?this.wc.qm("GetCanvas",{pageIndex:a,width:e,height:d,rotation:c},this.di):this.wc.qm("GetCanvasPartial",{pageIndex:a,width:e,height:d,rotation:c,bbox:[b.x1,b.y1,b.x2,b.y2]},this.di)},Uz:function(a,e,d,c,b,k){return"undefined"===typeof b?this.wc.qm("GetCanvas",{pageIndex:a,width:e,height:d,rotation:c,filePath:k},this.di):this.wc.qm("GetCanvasPartial",{pageIndex:a,width:e,height:d,rotation:c,bbox:[b.x1,b.y1,b.x2,b.y2],filePath:k},this.di)},
lu:function(a,e){return"undefined"!=typeof e?this.wc.$e("GetCanvasProgressive",{callbackId:a,filePath:e},this.di):this.wc.$e("GetCanvasProgressive",{callbackId:a},this.di)},kd:function(a){return this.wc.$e("LoadText",{pageIndex:a},this.LC)},VA:function(){return this.wc.$e("LoadBookmarks",{},this.zj)},UA:function(){return this.wc.$e("LoadAnnotations",{},this.zj)},MB:function(a){return this.wc.$e("SaveDoc",{xfdfString:a},this.eD)},ZC:function(a){return this.wc.$e("UpdatePassword",{password:a},this.zj)},
Xd:function(a){this.wc.Yy(a)}};return a}();
